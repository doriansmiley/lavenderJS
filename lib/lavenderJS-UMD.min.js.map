{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///lavenderJS-UMD.min.js","webpack:///webpack/bootstrap 0c7bce8e41debb73c5f1?eee5","webpack:///./src/model/observable/Subject.ts?822b","webpack:///./src/model/list/ArrayList.ts?8c51","webpack:///./src/util/ObjectUtils.ts?7265","webpack:///./src/control/EventDispatcher.ts?0a94","webpack:///./src/util/Matrix.ts?efae","webpack:///./src/util/Point.ts?42f9","webpack:///./src/events/AbstractEvent.ts?527b","webpack:///./src/events/CollectionEvent.ts?eea5","webpack:///./src/events/RecordSetEvent.ts?19fc","webpack:///./src/util/MathUtils.ts?7e6c","webpack:///./src/control/service/AbstractHttpService.ts?892c","webpack:///./src/control/service/HttpFault.ts?4b78","webpack:///./src/control/service/HttpSuccess.ts?4757","webpack:///./src/model/observable/Binder.ts?eb59","webpack:///./src/model/observable/ChangeWatcher.ts?d0c9","webpack:///./src/model/recordset/RecordSetList.ts?d4cc","webpack:///./src/util/BindingUtils.ts?c619","webpack:///./src/util/Geometry.ts?0073","webpack:///./src/util/MatrixUtils.ts?4052","webpack:///./src/util/StringUtil.ts?5b80","webpack:///./src/util/UuidUtils.ts?edbe","webpack:///./src/control/service/XhrHttpService.ts?0f9a","webpack:///./src/model/AsyncOperationModel.ts?5c37","webpack:///./src/model/Config.ts?d862","webpack:///./src/model/ErrorModel.ts?ad05","webpack:///./src/model/recordset/RecordSet.ts?6646","webpack:///./src/model/recordset/RecordSetModel.ts?cbfc","webpack:///./src/util/BrowserUtils.ts?9003","webpack:///./src/util/ColorUtils.ts?70f9","webpack:///./src/util/CoordsUtils.ts?68d2","webpack:///./src/util/CopyUtils.ts?ae21","webpack:///./src/util/PathUtils.ts?c654","webpack:///./src/util/ResizeUtils.ts?64a5","webpack:///./src/util/TransformUtils.ts?c9af","webpack:///./src/util/URLUtils.ts?4ffe","webpack:///./src/util/XmlUtils.ts?7b9a","webpack:///./src/index.ts?eac3"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Binder_1","Subject","observerHash","binder","Binder","notify","chain","undefined","forEach","observer","update","addObserver","push","removeObserver","m_count","length","index","indexOf","shift","pop","head","slice","tail","concat","addProperty","label","setter","set","e","addProperties","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","Subject_1","ObjectUtils_1","EventDispatcher_1","CollectionEvent_1","ArrayList","_super","source","allowDuplicates","_this","aList","ObjectUtils","mixin","EventDispatcher","clone","allowInsert","hash","key","returnValue","addItem","dispatch","CollectionEvent","COLLECTION_CHANGE","type","item","addAll","items","replaceIndex","isNaN","addItemAt","insert","getItemAt","clear","clearHash","prop","removeItemFromHash","removeItemAt","suppressChangeEvent","m_returnValue","unshift","tailIndex","changeIndex","fromIndex","toIndex","splice","COLLECTION_CHANGE_ORDER","swapIndex","startIndex","lastIndexOf","extend","base","sub","subInstance","overwriteInstanceVariables","objectToExtend","hasFunction","obj","isPropDefined","NaN","Listener","handler","instance","handlersByEventName","addEventListener","event","canListen","eventType","handlerIndex","handlerFunctionName","objectInstance","removeEventListener","itemToRemove","removeAllEventListeners","event_1","dispatchToList","len","Point_1","Matrix","a","tx","ty","rotation","theta","aboutPoint","rotationMatrix","Math","cos","sin","translation","x","y","scale","sx","sy","scaleMatrix","matrix","deltaTransformPoint","point","Point","inverse","determinant","rotate","transformPoint","translate","IDENTITY","HORIZONTAL_FLIP","VERTICAL_FLIP","distance","p1","p2","sqrt","pow","direction","atan2","equal","other","add","subtract","scalar","magnitude","AbstractEvent","payload","AbstractEvent_1","RecordSetEvent","TOTALRECORDS_CHANGE","TOTALPAGES_CHANGE","PAGE_LIST_CHANGE","RESULTS_CHANGE","RECORDS_PER_PAGE_CHANGE","SELECTED_PAGE_CHANGE","RECORDSETS_CHANGE","LOAD_PAGE_DATA","MathUtils","degreeToRadian","degAngle","PI","radianToDegree","radAngle","toFixed","number","precision","multiplier","round","isEven","ArrayList_1","UuidUtils_1","AbstractHttpService","responders","success","result","fault","addResponder","responder","Error","removeResponder","send","url","data","contentType","dataType","cache","requestId","UuidUtils","generateUUID","destroy","HttpFault","errorObj","status","message","HttpSuccess","resultObj","BindingUtils_1","Binding","host","watcher","bindingGroups","bind","hostProp","chainProp","isCSS","cssProperty","group","changeWatcher","BindingUtils","binding","unbind","bindings","bindingData","unbindAll","ChangeWatcher","chainInstance","chainPropToWatch","RecordSetList","recordSetsBySource","recordSetsById","id","recordSet","ChangeWatcher_1","Geometry","values","_left","_top","_width","_height","left","top","width","height","getPrototypeOf","getDefinedValues","res","keys","MathUtils_1","Matrix_1","MatrixUtils","matrixToCSS","coeffs","join","getRotationAngleForElement","element","angle","style","split","getRotationAngle","getMatrix","cssTransformMatrix","valuesArray","parseFloat","StringUtil","substitute","str","rest","args","replace","RegExp","compressSpaces","trim","isWhitespace","charAt","endIndex","character","convertCharCodesToString","codes","charArray","String","fromCharCode","parseInt","fixedCharCodeAt","idx","hi","low","code","charCodeAt","Date","getTime","r","random","floor","toString","getRandomInt","min","max","HttpSuccess_1","HttpFault_1","AbstractHttpService_1","XhrHttpService","async","notifyOnProgress","xhrRequest","addEventListeners","updateProgress","load","onXhrFault","removeEventListeners","faultObj","response","responseText","sucessObj","responderIndex","onProgress","percentComplete","loaded","total","XMLHttpRequest","onreadystatechange","readyState","open","responseType","setRequestHeader","abort","AsyncOperationModel","_asyncOperationCount","_asyncOperationComplete","asyncOperationCount","addAsyncOperation","asyncOperationComplete","removeAsyncOperation","Config","_webRoot","_parserCode","_exporterCode","_token","_serviceCode","_asyncOperationModel","_errorModel","_baseUrl","ErrorModel","_appError","_errors","getTitle","errors","getMessage","returnText","errorIndex","addError","error","appError","RecordSetEvent_1","RecordSet","timeToLive","listFunction","resultsByPage","_timeToLive","_results","_pageList","_intervalId","setTimeout","_id","val","_totalRecords","_totalPages","_selectedPage","pageLoaded","calculatePageList","_recordsPerPage","renewState","selectedPage","_createdOn","clearInterval","_source","_routeController","results","totalRecords","totalPages","pageNumber","recordsPerPage","pageList","ceil","pageIndex","first","last","dp","resultCollectionChanged","USER_UPLOAD","FOTOLIA","FACEBOOK","RecordSetList_1","RecordSetModel","_recordSets","BrowserInfo","browser","version","BrowserUtils","uaMatch","ua","toLowerCase","match","exec","getBrowser","navigator","userAgent","console","log","stack","ColorUtils","rgb2hex","rgb","hexToRgb","hex","test","substring","Number","hexToRgbA","hexToRgbArray","rgbToHsl","g","h","rgbToHsv","delta","v","CoordsUtils","globalToLocal","container","pageX","pageY","position","offset","Offset","win","box","elem","doc","ownerDocument","docElem","documentElement","contains","getBoundingClientRect","getWindow","pageYOffset","scrollTop","clientTop","pageXOffset","scrollLeft","clientLeft","isWindow","nodeType","CopyUtils","copyInheredValues","child","parent","overwriteValues","excludeObjects","concatObjects","objects","ret","copyProperties","target","StringUtil_1","PathUtils","parsePathFromString","strPath","curElement","arr","counter","isPoint","convertPathToString","arrPath","movePath","dx","dy","updateSource","scalePath","scaleX","scaleY","aroundPoint","zero","newPoint","rotatePath","convertPathFromLocalToGlobal","containerParams","globalCenter","convertPathFromGlobalToLocal","PathParser","command","previousCommand","start","control","current","isEnd","isCommandOrEnd","isRelativeCommand","getToken","nextCommand","getPoint","makeAbsolute","getAsControlPoint","getAsCurrentPoint","getReflectedControlPoint","ResizeUtils","getScaleToFill","objSize","sizeToFill","getScaleToFit","sizeToFit","Geometry_1","MatrixUtils_1","TransformUtils","calculateMovement","originalState","deltaX","deltaY","geometry","calculateResizeAroundAnchorPoint","sizeDelta","anchorPos","proportionalResizer","dWidth","dHeight","getDefaultAnchorPos","applyConstraint","pos","getPosAfterResizeAroundAnchorPoint","calculateRotate","deltaAngle","sizeAfterTransform","posOffset","originalCenterPoint","newCenterPoint","rotMatrix","rotPosOffset","rotNewCenterPoint","unrotMatrix","applyConstraints","currentState","stateAfterTransform","constraints","constraint","applyTransform","URLUtils","getQuerystring","location","defaultValue","regex","qs","XmlUtils","createXMLDocument","sMyString","DOMParser","parseFromString","getXmlStringFromElement","XMLSerializer","serializeToString","__export"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,cAAAH,GACA,gBAAAC,SACAA,QAAA,SAAAD,IAEAD,EAAA,SAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAV,WAUA,OANAK,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,GAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KA+DA,OAnCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAG,EAAA,SAAAK,GAA2C,MAAAA,IAG3CR,EAAAS,EAAA,SAAAf,EAAAgB,EAAAC,GACAX,EAAAY,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAX,EAAAkB,EAAA,SAAAvB,GACA,GAAAgB,GAAAhB,KAAAwB,WACA,WAA2B,MAAAxB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAK,GAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDrB,EAAAwB,EAAA,GAGAxB,IAAAyB,EAAA,MDgBM,SAAU9B,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GEjFtD,IAAAkB,GAAA1B,EAAA,IAIA2B,EAAA,WAII,QAAAA,KAHU7B,KAAA8B,gBACA9B,KAAA+B,OAAgB,GAAIH,GAAAI,OA2FlC,MAvFWH,GAAAL,UAAAS,OAAP,SAAcvB,EAAWwB,GAChBlC,KAAK8B,aAAaL,eAAeS,IAAsC,MAA5BlC,KAAK8B,aAAaI,QAA8CC,IAA5BnC,KAAK8B,aAAaI,IAItGlC,KAAK8B,aAAaI,GAAOE,QAAQ,SAAAC,GAC5BA,EAAuBC,OAAO5B,EAAOwB,MAIvCL,EAAAL,UAAAe,YAAP,SAAmBF,GACVrC,KAAK8B,aAAaL,eAAeY,EAASH,QAA+C,MAArClC,KAAK8B,aAAaO,EAASH,YAAuDC,IAArCnC,KAAK8B,aAAaO,EAASH,SAC7HlC,KAAK8B,aAAaO,EAASH,WAI/BlC,KAAK8B,aAAaO,EAASH,OAAOM,KAAKH,IAKpCR,EAAAL,UAAAiB,eAAP,SAAsBJ,GAClB,IAAKrC,KAAK8B,aAAaL,eAAeY,EAASH,QAA+C,MAArClC,KAAK8B,aAAaO,EAASH,YAAuDC,IAArCnC,KAAK8B,aAAaO,EAASH,OAC7H,KAAM,4CAKV,IAAIQ,GAAU1C,KAAK8B,aAAaO,EAASH,OAAOS,OAC5CC,EAAQ5C,KAAK8B,aAAaO,EAASH,OAAOW,QAAQR,EAAS,EAC/D,IAAIK,EAAU,GAAKE,GAAS,GAAKA,EAAQ5C,KAAK8B,aAAaO,EAASH,OAAOS,OACvE,OAAQC,GACJ,IAAK,GACD5C,KAAK8B,aAAaO,EAASH,OAAOY,OAClC,MACJ,KAAKJ,GAAU,EACX1C,KAAK8B,aAAaO,EAASH,OAAOa,KAClC,MACJ,SACI,GAAIC,GAAOhD,KAAK8B,aAAaO,EAASH,OAAOe,MAAM,EAAGL,GAClDM,EAAOlD,KAAK8B,aAAaO,EAASH,OAAOe,MAAML,EAAQ,EAC3D5C,MAAK8B,aAAaO,EAASH,OAAUc,EAA0BG,OAAOD,KAO/ErB,EAAAL,UAAA4B,YAAP,SAAmBC,EAAcxC,EAAYyC,GACzC,GAAIvC,OAAOC,eACP,IACID,OAAOC,eACHhB,KACAqD,GAEIlC,IAAKN,EACL0C,IAAKD,EAGLpC,YAAY,IAIxB,MAAOsC,QAKFxD,MAAuB,mBACxBa,GACAb,KAAuB,iBAAEqD,EAAOxC,GAEhCyC,GACAtD,KAAuB,iBAAEqD,EAAOC,KAMrCzB,EAAAL,UAAAiC,cAAP,SAAqB/B,GACjB,IAAK,GAAI2B,KAAS3B,GACVA,EAAED,eAAe4B,IACjBrD,KAAKoD,YAAYC,EAAO3B,EAAE2B,GAAOlC,IAAKO,EAAE2B,GAAOE,MAK/D1B,IA7FajC,GAAAiC,WF4KP,SAAUhC,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GG7LtD,IAAAyD,GAAAjE,EAAA,GACAkE,EAAAlE,EAAA,GACAmE,EAAAnE,EAAA,GAEAoE,EAAApE,EAAA,GAGAqE,EAAA,SAAAC,GAII,QAAAD,GAAYE,EAAoBC,OAAA,KAAAA,OAAA,EAAhC,IAAAC,GACIH,EAAAjE,KAAAP,OAAOA,IH8LP,OG5LA2E,GAAKC,MAAQ,MACbD,EAAKD,gBAAkBA,EAEvBN,EAAAS,YAAYC,MAAMT,EAAAU,gBAAiBR,EAAWI,GHyLvCA,EGcf,MAjN+BjB,GAAAa,EAAAC,GAqB3BzD,OAAAC,eAAIuD,EAAA/C,UAAA,UHiLAL,IGjLJ,WACI,MAAOnB,MAAK4E,MAAMjC,QHmLlBzB,YAAY,EACZD,cAAc,IGjLXsD,EAAA/C,UAAAwD,MAAP,WACI,MAAO,IAAIT,GAAWvE,KAAK4E,MAAM3B,UAG9BsB,EAAA/C,UAAAiD,OAAP,WACI,MAAOzE,MAAK4E,OAGTL,EAAA/C,UAAAyD,YAAP,SAAmB3D,EAAY4D,EAAcC,GACzC,GAAIC,IAAc,CAQlB,OAPKpF,MAAK0E,kBACO,OAATQ,OAA0B/C,KAAT+C,GAA8B,OAAPC,OAAuBhD,KAARgD,GAAqB7D,EAAOG,eAAe0D,IAAwB,OAAhB7D,EAAO6D,QAAiChD,KAAhBb,EAAO6D,IAA8C,OAAxBD,EAAM5D,EAAO6D,SAA2ChD,KAAxB+C,EAAM5D,EAAO6D,IAC5MC,GAAc,EACRpF,KAAK4E,MAAM/B,QAAQvB,IAAW,IACpC8D,GAAc,IAGfA,GAGJb,EAAA/C,UAAA6D,QAAP,SAAe/D,EAAY4D,EAAcC,GACrC,GAAKnF,KAAKiF,YAAa3D,EAAQ4D,EAAMC,GAArC,CAKA,GAAIvC,GAAQ5C,KAAK4E,MAAMpC,KAAKlB,EAE5B,OADAtB,MAAKsF,SAAU,GAAIhB,GAAAiB,gBAAiBjB,EAAAiB,gBAAgBC,mBAAoBC,KAAK,MAAOC,KAAKpE,KAClFsB,IAGJ2B,EAAA/C,UAAAmE,OAAP,SAAeC,EAAkBC,GAE7B,IAAK,GAAIxF,GAAE,EAAGA,EAAIuF,EAAMjD,OAAQtC,IACxBuF,EAAMvF,GAAGoB,eAAe,eAAiBqE,MAAOF,EAAMvF,GAAG0F,WAEzD/F,KAAKgG,OAAOJ,EAAMvF,GAAGqF,KAAME,EAAMvF,GAAG0F,WAAW,EAAM,KAAM,KAAMF,GAEjE7F,KAAKqF,QAAQO,EAAMvF,GAG3BL,MAAKsF,SAAU,GAAIhB,GAAAiB,gBAAiBjB,EAAAiB,gBAAgBC,mBAAoBC,KAAK,SAAUG,MAAMA,MAG1FrB,EAAA/C,UAAAyE,UAAP,SAAiBrD,GACb,MAAIA,IAAS,GAAKA,EAAQ5C,KAAK4E,MAAMjC,OAC1B3C,KAAK4E,MAAMhC,OAElB,IAGD2B,EAAA/C,UAAA0E,MAAP,WACIlG,KAAK4E,SACL5E,KAAKsF,SAAU,GAAIhB,GAAAiB,gBAAiBjB,EAAAiB,gBAAgBC,mBAAoBC,KAAK,gBAG1ElB,EAAA/C,UAAA2E,UAAP,SAAiBjB,GACb,IAAK,GAAIkB,KAAQlB,GACbA,EAAMkB,GAAS,WACRlB,GAAMkB,IAIX7B,EAAA/C,UAAA6E,mBAAV,SAA6BnB,EAAaC,GACtCD,EAAMC,GAAQ,WACPD,GAAMC,IAGVZ,EAAA/C,UAAA8E,aAAP,SAAoB1D,GAChB,GAAIF,GAAU1C,KAAK4E,MAAMjC,OACrB+C,EAAO1F,KAAKiG,UAAUrD,EAC1B,IAAIF,EAAU,GAAKE,GAAS,GAAKA,EAAQ5C,KAAK4E,MAAMjC,OAChD,OAAQC,GACJ,IAAK,GACD5C,KAAK4E,MAAM9B,OACX,MACJ,KAAKJ,GAAU,EACX1C,KAAK4E,MAAM7B,KACX,MACJ,SACI,GAAIC,GAAOhD,KAAK4E,MAAM3B,MAAM,EAAGL,GAC3BM,EAAOlD,KAAK4E,MAAM3B,MAAML,EAAQ,EACpC5C,MAAK4E,MAAQ5B,EAAKG,OAAOD,GAIrClD,KAAKsF,SAAU,GAAIhB,GAAAiB,gBAAiBjB,EAAAiB,gBAAgBC,mBAAoBC,KAAK,SAAUC,KAAKA,MAGzFnB,EAAA/C,UAAAwE,OAAP,SAAc1E,EAAYsB,EAAc2D,EAAmCrB,EAAcC,EAAaU,GAClG,OADoC,KAAAU,OAAA,OAA8D,KAAAV,OAAA,GAC7F7F,KAAKiF,YAAa3D,EAAQ4D,EAAMC,GAArC,CAGA,GAAIzC,GAAiB1C,KAAK4E,MAAMjC,OAC5B6D,GAAwB,CAC5B,IAAI5D,GAAS,EACT,OAAQA,GACJ,IAAK,GACD5C,KAAK4E,MAAM6B,QAAQnF,GACnBkF,EAAgB,CAChB,MACJ,KAAK9D,GACD1C,KAAK4E,MAAMpC,KAAKlB,GAChBkF,EAAgB9D,CAChB,MACJ,SACI,GAAIE,EAAQF,EACR,IAAK,GAAIrC,GAAE,EAAGA,EAAIuC,EAAQF,EAASrC,IAC/BL,KAAK4E,MAAMpC,KAAK,KAGxB,IAAIQ,GAAOhD,KAAK4E,MAAM3B,MAAM,EAAGL,GAC3B8D,EAAY,EAAiB9D,EAAQ,EAAIA,EACzCM,EAAOlD,KAAK4E,MAAM3B,MAAMyD,EAC5BxD,GAAKuD,QAAQnF,GACbtB,KAAK4E,MAAQ5B,EAAKG,OAAOD,GACzBsD,EAAgB5D,EAO5B,MAHK2D,IACDvG,KAAKsF,SAAU,GAAIhB,GAAAiB,gBAAiBjB,EAAAiB,gBAAgBC,mBAAoBC,KAAK,MAAOC,KAAKpE,KAEtFkF,IAGJjC,EAAA/C,UAAAmF,YAAP,SAAmBC,EAAkBC,EAAgBN,GACjD,GAAIjF,GAAUtB,KAAK4E,MAAMgC,EACzB5G,MAAK4E,MAAMkC,OAAOD,EAAS,EAAG7G,KAAK4E,MAAMkC,OAAOF,EAAW,GAAG,IACzDL,GACDvG,KAAKsF,SAAU,GAAIhB,GAAAiB,gBAAiBjB,EAAAiB,gBAAgBwB,yBAA0BtB,KAAK,SAAUC,KAAKpE,EAAQsF,UAAUA,EAAWC,QAAQA,MAIxItC,EAAA/C,UAAAwF,UAAP,SAAiBJ,EAAkBC,EAAgBN,GAC/C,GAAIjF,GAAUtB,KAAK4E,MAAMgC,EACzB5G,MAAK4E,MAAMiC,GAAW7G,KAAK4E,MAAMkC,OAAOF,EAAW,EAAG5G,KAAK4E,MAAMiC,IAAU,GACtEN,GACDvG,KAAKsF,SAAU,GAAIhB,GAAAiB,gBAAiBjB,EAAAiB,gBAAgBwB,yBAA0BtB,KAAK,OAAQC,KAAKpE,EAAQsF,UAAUA,EAAWC,QAAQA,MAItItC,EAAA/C,UAAAqB,QAAP,SAAevB,EAAY2F,GACJ,OAAfA,OAAsC9E,KAAf8E,IACvBA,EAAa,EAEjB,IAAIvE,GAAU1C,KAAK4E,MAAMjC,OACrB6D,GAAiB,CAErB,IAAIS,GAAc,GAAKA,EAAavE,EAGhC,IAFA,GAAIrC,GAAI4G,EAED5G,EAAIqC,GAAS,CAChB,GAAI1C,KAAK4E,MAAMvE,IAAMiB,EAAQ,CACzBkF,EAAgBnG,CAChB,OAGJA,IAIR,MAAOmG,IAGJjC,EAAA/C,UAAA0F,YAAP,SAAmB5F,EAAY2F,GAC3B,GAAIvE,GAAU1C,KAAK4E,MAAMjC,OACrB6D,GAAiB,CAErB,IAAIS,GAAc,GAAKA,EAAavE,EAGhC,IAFA,GAAIrC,GAAIqC,EAAU,EAEXrC,GAAK4G,GAAY,CACpB,GAAIjH,KAAK4E,MAAMvE,IAAMiB,EAAQ,CACzBkF,EAAgBnG,CAChB,OAGJA,IAIR,MAAOmG,IAEfjC,GAjN+BJ,EAAAtC,QAAlBjC,GAAA2E,aHyXP,SAAU1E,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GIrYtD,IAAAmE,GAAA,WACI,QAAAA,MA2CJ,MAzCkBA,GAAAsC,OAAd,SAAqBC,EAAUC,GAG3BA,EAAI7F,UAAYT,OAAOmD,OAAOkD,EAAK5F,WAEnC6F,EAAI7F,UAAUyC,YAAcoD,GAGlBxC,EAAAC,MAAd,SAAoBsC,EAAUC,EAASC,EAAiBC,OAAA,KAAAA,OAAA,EACpD,IAAIC,GAAiB,GAAIJ,EAEzB,KAAK,GAAIhB,KAAQgB,GAAK5F,UACd4F,EAAK5F,UAAUC,eAAe2E,KAC9BiB,EAAI7F,UAAU4E,GAAQgB,EAAK5F,UAAU4E,GAI7C,KAAK,GAAIA,KAAQoB,GACb,GAAIA,EAAe/F,eAAe2E,GAAO,CAErC,GAA0B,OAAtBkB,EAAYlB,QAAwCjE,KAAtBmF,EAAYlB,KAAwBmB,EAClE,QAEJD,GAAYlB,GAAQoB,EAAepB,GAG3C,MAAOkB,IAGGzC,EAAA4C,YAAd,SAA0BC,EAAYtB,GAClC,MAAQsB,IAA4B,kBAAdA,GAAItB,IAGhBvB,EAAA8C,cAAd,SAA4BD,EAAYtB,GACpC,SAAIsB,IAAOA,EAAIjG,eAAe2E,QAAsBjE,IAAbuF,EAAItB,IAAmC,MAAbsB,EAAItB,IAA8BwB,KAAbF,EAAItB,KAOlGvB,IA5CajF,GAAAiF,eJybP,SAAUhF,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GK1btD,IAAAmH,GAAA,WAII,QAAAA,GAAYC,EAAgBC,GACxB/H,KAAK8H,QAAUA,EACf9H,KAAK+H,SAAWA,EAExB,MAAAF,MAEA9C,EAAA,WAGI,QAAAA,KACI/E,KAAKgI,uBA4Eb,MAzEWjD,GAAAvD,UAAAyG,iBAAP,SAAwBC,EAAcH,EAAiBD,GACX,OAApC9H,KAAKgI,oBAAoBE,QAAuD/F,KAApCnC,KAAKgI,oBAAoBE,KACrElI,KAAKgI,oBAAoBE,OAE7BlI,KAAKgI,oBAAoBE,GAAO1F,KAAK,GAAIqF,GAASC,EAASC,KAGxDhD,EAAAvD,UAAA2G,UAAP,SAAiBC,EAAkBL,EAAiBD,GAChD,GAAIK,IAAY,CAChB,IAA4C,OAAxCnI,KAAKgI,oBAAoBI,QAA+DjG,KAAxCnC,KAAKgI,oBAAoBI,GACzE,IAAK,GAAIC,GAAe,EAAGA,EAAerI,KAAKgI,oBAAoBI,GAAWzF,OAAQ0F,IAAgB,CAClG,GAAIC,GAAsBtI,KAAKgI,oBAAoBI,GAAWC,GAAcP,QACxES,EAAiBvI,KAAKgI,oBAAoBI,GAAWC,GAAcN,QACvE,IAAIO,GAAuBR,GAAWS,GAAkBR,EAAU,CAC9DI,GAAY,CACZ,QAIZ,MAAOA,IAGJpD,EAAAvD,UAAAgH,oBAAP,SAA2BN,EAAcH,EAAiBD,GACtD,GAAwC,OAApC9H,KAAKgI,oBAAoBE,QAAuD/F,KAApCnC,KAAKgI,oBAAoBE,GAGzE,IAAK,GAAIG,GAAe,EAAGA,EAAerI,KAAKgI,oBAAoBE,GAAOvF,OAAQ0F,IAC9E,GAAIrI,KAAKgI,oBAAoBE,GAAOG,GAAcN,UAAYA,GAAY/H,KAAKgI,oBAAoBE,GAAOG,GAAcP,SAAWA,EAAS,CACxI,GAAIW,GAAezI,KAAKgI,oBAAoBE,GAAOG,EACnD,QAAQA,GACJ,IAAK,GACDrI,KAAKgI,oBAAoBE,GAAOpF,OAChC,MACJ,KAAK9C,MAAKgI,oBAAoBE,GAAOvF,OAAS,EAC1C3C,KAAKgI,oBAAoBE,GAAOnF,KAChC,MACJ,SACI,GAAIC,GAAOhD,KAAKgI,oBAAoBE,GAAOjF,MAAM,EAAGoF,GAChDnF,EAAOlD,KAAKgI,oBAAoBE,GAAOjF,MAAMoF,EAAe,EAChErI,MAAKgI,oBAAoBE,GAASlF,EAAKG,OAAOD,GAItD,MAAOuF,KAKZ1D,EAAAvD,UAAAkH,wBAAP,SAA+BX,GAC3B,IAAK,GAAIY,KAAS3I,MAAKgI,oBACnB,IAAK,GAAIK,GAAerI,KAAKgI,oBAAoBW,GAAOhG,OAAS,EAAG0F,GAAgB,EAAGA,IAC/ErI,KAAKgI,oBAAoBW,GAAON,GAAcN,UAAYA,GAC1D/H,KAAKwI,oBAAoBG,EAAOZ,EAAU/H,KAAKgI,oBAAoBW,GAAON,GAAcP,UAMjG/C,EAAAvD,UAAA8D,SAAP,SAAgB4C,GACZ,GAA6C,OAAzClI,KAAKgI,oBAAoBE,EAAMzC,WAA2DtD,KAAzCnC,KAAKgI,oBAAoBE,EAAMzC,MAQpF,IAAK,GAFDmD,GAAiB5I,KAAKgI,oBAAoBE,EAAMzC,MAAMxC,QACtD4F,EAAMD,EAAejG,OAChB0F,EAAe,EAAGA,EAAeQ,IAAOR,EAAc,CAC3D,GAAIC,GAAuBM,EAAeP,GAA2BP,QACjEC,EAAWa,EAAeP,GAAcN,QAC5CA,GAASO,GAAqBJ,KAG1CnD,IAhFanF,GAAAmF,mBLygBP,SAAUlF,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GM1hBtD,IAAAoI,GAAA5I,EAAA,GACA6I,EAAA,WAYI,QAAAA,GAAYC,EAAYjF,EAAYtD,EAAYE,EAAYsI,EAAaC,OAA7D,KAAAF,MAAA,OAAY,KAAAjF,MAAA,OAAY,KAAAtD,MAAA,OAAY,KAAAE,MAAA,OAAY,KAAAsI,MAAA,OAAa,KAAAC,MAAA,GACrElJ,KAAKgJ,EAAEA,EACPhJ,KAAK+D,EAAEA,EACP/D,KAAKS,EAAEA,EACPT,KAAKW,EAAEA,EACPX,KAAKiJ,GAAGA,EACRjJ,KAAKkJ,GAAGA,EA4FhB,MAzFkBH,GAAAI,SAAd,SAAuBC,EAAcC,OAAA,KAAAA,MAAA,KACjC,IAAIC,GAAiB,GAAIP,GACrBQ,KAAKC,IAAIJ,GACTG,KAAKE,IAAIL,IACRG,KAAKE,IAAIL,GACVG,KAAKC,IAAIJ,GAYb,OATGC,KACCC,EACIP,EAAOW,YAAYL,EAAWM,EAAGN,EAAWO,GAAGzG,OAC3CmG,GACFnG,OACE4F,EAAOW,aAAaL,EAAWM,GAAIN,EAAWO,KAInDN,GAGGP,EAAAc,MAAd,SAAoBC,EAAWC,EAAWV,GACtCU,EAAKA,GAAMD,CAEX,IAAIE,GAAc,GAAIjB,GAAOe,EAAI,EAAG,EAAGC,EAWvC,OATGV,KACCW,EACIjB,EAAOW,YAAYL,EAAWM,EAAGN,EAAWO,GAAGzG,OAC3C6G,GACF7G,OACE4F,EAAOW,aAAaL,EAAWM,GAAIN,EAAWO,KAInDI,GAGGjB,EAAAW,YAAd,SAA0BT,EAAWC,GACjC,MAAO,IAAIH,GAAO,EAAG,EAAG,EAAG,EAAGE,EAAIC,IAG/BH,EAAAvH,UAAA2B,OAAP,SAAc8G,GACV,MAAO,IAAIlB,GACP/I,KAAKgJ,EAAIiB,EAAOjB,EAAIhJ,KAAKS,EAAIwJ,EAAOlG,EACpC/D,KAAK+D,EAAIkG,EAAOjB,EAAIhJ,KAAKW,EAAIsJ,EAAOlG,EACpC/D,KAAKgJ,EAAIiB,EAAOxJ,EAAIT,KAAKS,EAAIwJ,EAAOtJ,EACpCX,KAAK+D,EAAIkG,EAAOxJ,EAAIT,KAAKW,EAAIsJ,EAAOtJ,EACpCX,KAAKgJ,EAAIiB,EAAOhB,GAAKjJ,KAAKS,EAAIwJ,EAAOf,GAAKlJ,KAAKiJ,GAC/CjJ,KAAK+D,EAAIkG,EAAOhB,GAAKjJ,KAAKW,EAAIsJ,EAAOf,GAAKlJ,KAAKkJ,KAIhDH,EAAAvH,UAAA0I,oBAAP,SAA2BC,GACvB,MAAO,IAAIrB,GAAAsB,MACPpK,KAAKgJ,EAAImB,EAAMR,EAAI3J,KAAKS,EAAI0J,EAAMP,EAClC5J,KAAK+D,EAAIoG,EAAMR,EAAI3J,KAAKW,EAAIwJ,EAAMP,IAInCb,EAAAvH,UAAA6I,QAAP,WACI,GAAIC,GAActK,KAAKgJ,EAAIhJ,KAAKW,EAAIX,KAAK+D,EAAI/D,KAAKS,CAClD,OAAO,IAAIsI,GACP/I,KAAKW,EAAI2J,GACRtK,KAAK+D,EAAIuG,GACTtK,KAAKS,EAAI6J,EACVtK,KAAKgJ,EAAIsB,GACRtK,KAAKS,EAAIT,KAAKkJ,GAAKlJ,KAAKW,EAAIX,KAAKiJ,IAAMqB,GACvCtK,KAAK+D,EAAI/D,KAAKiJ,GAAKjJ,KAAKgJ,EAAIhJ,KAAKkJ,IAAMoB,IAIzCvB,EAAAvH,UAAA+I,OAAP,SAAcnB,EAAcC,GACxB,MAAOrJ,MAAKmD,OAAO4F,EAAOI,SAASC,EAAOC,KAGvCN,EAAAvH,UAAAqI,MAAP,SAAaC,EAAWC,EAAWV,GAC/B,MAAOrJ,MAAKmD,OAAO4F,EAAOc,MAAMC,EAAIC,EAAIV,KAGrCN,EAAAvH,UAAAgJ,eAAP,SAAsBL,GAClB,MAAO,IAAIrB,GAAAsB,MACPpK,KAAKgJ,EAAImB,EAAMR,EAAI3J,KAAKS,EAAI0J,EAAMP,EAAI5J,KAAKiJ,GAC3CjJ,KAAK+D,EAAIoG,EAAMR,EAAI3J,KAAKW,EAAIwJ,EAAMP,EAAI5J,KAAKkJ,KAI5CH,EAAAvH,UAAAiJ,UAAP,SAAiBxB,EAAWC,GACxB,MAAOlJ,MAAKmD,OAAO4F,EAAOW,YAAYT,EAAIC,KApGhCH,EAAA2B,SAAW,GAAI3B,GACfA,EAAA4B,gBAAkB,GAAI5B,IAAQ,EAAG,EAAG,EAAG,GACvCA,EAAA6B,cAAgB,GAAI7B,GAAO,EAAG,EAAG,GAAI,GAoGvDA,IA9GanJ,GAAAmJ,UNmmBP,SAAUlJ,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GOxmBtD,IAAA0J,GAAA,WAII,QAAAA,GAAYT,EAAYC,OAAZ,KAAAD,MAAA,OAAY,KAAAC,MAAA,GACpB5J,KAAK2J,EAAIA,EACT3J,KAAK4J,EAAIA,EA8BjB,MA3BkBQ,GAAAS,SAAd,SAAuBC,EAAUC,GAC7B,MAAOxB,MAAKyB,KAAKzB,KAAK0B,IAAIF,EAAGpB,EAAImB,EAAGnB,EAAG,GAAKJ,KAAK0B,IAAIF,EAAGnB,EAAIkB,EAAGlB,EAAG,KAGxDQ,EAAAc,UAAd,SAAwBJ,EAAUC,GAC9B,MAAOxB,MAAK4B,MAAMJ,EAAGnB,EAAIkB,EAAGlB,EAAGmB,EAAGpB,EAAImB,EAAGnB,IAGtCS,EAAA5I,UAAA4J,MAAP,SAAaC,GACT,MAAOrL,MAAK2J,IAAM0B,EAAM1B,GAAK3J,KAAK4J,IAAMyB,EAAMzB,GAG3CQ,EAAA5I,UAAA8J,IAAP,SAAWD,GACP,MAAO,IAAIjB,GAAMpK,KAAK2J,EAAI0B,EAAM1B,EAAG3J,KAAK4J,EAAIyB,EAAMzB,IAG/CQ,EAAA5I,UAAA+J,SAAP,SAAgBF,GACZ,MAAO,IAAIjB,GAAMpK,KAAK2J,EAAI0B,EAAM1B,EAAG3J,KAAK4J,EAAIyB,EAAMzB,IAG/CQ,EAAA5I,UAAAqI,MAAP,SAAa2B,GACT,MAAO,IAAIpB,GAAMpK,KAAK2J,EAAI6B,EAAQxL,KAAK4J,EAAI4B,IAGxCpB,EAAA5I,UAAAiK,UAAP,WACI,MAAOrB,GAAMS,SAAS,GAAIT,GAAM,EAAG,GAAIpK,OAE/CoK,IApCaxK,GAAAwK,SP+oBP,SAAUvK,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GQjpBtD,IAAAgL,GAAA,WAII,QAAAA,GAAYjG,EAAakG,GACrB3L,KAAKyF,KAAOA,EACZzF,KAAK2L,QAAUA,EAIvB,MAAAD,KAVsB9L,GAAA8L,iBR8pBhB,SAAU7L,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GS7qBtD,IAAAkL,GAAA1L,EAAA,GAEAqF,EAAA,SAAAf,GAEI,QAAAe,GAAYE,EAAakG,GT8qBrB,MS7qBAnH,GAAAjE,KAAAP,KAAMyF,EAAMkG,IAAQ3L,KAS5B,MAZqC0D,GAAA6B,EAAAf,GASjCe,EAAA/D,UAAAwD,MAAA,SAAMS,EAAakG,GACf,MAAO,IAAIpG,GAAgBvF,KAAKyF,KAAMzF,KAAK2L,UAJjCpG,EAAAC,kBAA2B,mBAC3BD,EAAAwB,wBAAiC,wBAKnDxB,GAZqCqG,EAAAF,cAAxB9L,GAAA2F,mBT8rBP,SAAU1F,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GU9sBtD,IAAAkL,GAAA1L,EAAA,GAEA2L,EAAA,SAAArH,GAEI,QAAAqH,GAAYpG,EAAakG,GV+sBrB,MU9sBAnH,GAAAjE,KAAAP,KAAMyF,EAAMkG,IAAQ3L,KAe5B,MAlBoC0D,GAAAmI,EAAArH,GAehCqH,EAAArK,UAAAwD,MAAA,SAAMS,EAAakG,GACf,MAAO,IAAIE,GAAe7L,KAAKyF,KAAMzF,KAAK2L,UAVhCE,EAAAC,oBAA6B,qBAC7BD,EAAAE,kBAA2B,mBAC3BF,EAAAG,iBAA0B,iBAC1BH,EAAAI,eAAwB,gBACxBJ,EAAAK,wBAAiC,uBACjCL,EAAAM,qBAA8B,qBAC9BN,EAAAO,kBAA2B,kBAC3BP,EAAAQ,eAAwB,wBAK1CR,GAlBoCD,EAAAF,cAAvB9L,GAAAiM,kBVquBP,SAAUhM,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GW5uBtD,IAAA4L,GAAA,mBAAAA,MAcA,MAbkBA,GAAAC,eAAd,SAA6BC,GACzB,MAAOA,GAAWjD,KAAKkD,GAAK,KAElBH,EAAAI,eAAd,SAA6BC,GACzB,MAAkB,KAAXA,EAAiBpD,KAAKkD,IAEnBH,EAAAM,QAAd,SAAsBC,EAAeC,OAAA,KAAAA,MAAA,GACjC,IAAIC,GAAaxD,KAAK0B,IAAK,GAAI6B,EAC/B,OAAOvD,MAAKyD,MAAOH,EAASE,GAAeA,GAEjCT,EAAAW,OAAd,SAAqBvM,GACjB,MAASA,GAAQ,GAAM,GAE/B4L,IAda1M,GAAA0M,aXwwBP,SAAUzM,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GY3wBtD,IAAAwM,GAAAhN,EAAA,GAIAiN,EAAAjN,EAAA,IAEAkN,EAAA,WAII,QAAAA,KAHOpN,KAAAqN,WAAuB,GAAIH,GAAA3I,UAyCtC,MAjCc6I,GAAA5L,UAAA8L,QAAV,SAAkBC,KAKRH,EAAA5L,UAAAgM,MAAV,SAAgBA,KAITJ,EAAA5L,UAAAiM,aAAP,SAAoBC,GAChB,GAAwB,OAApBA,EAAUF,WAAqCrL,KAAnBuL,EAAUF,OAA4C,OAAtBE,EAAUJ,aAA0CnL,KAAtBuL,EAAUJ,QACpG,KAAM,IAAIK,OAAM,kDAEpB,OAAO3N,MAAKqN,WAAWhI,QAAQqI,IAG5BN,EAAA5L,UAAAoM,gBAAP,SAAuBF,GACnB,GAAwB,OAApBA,EAAUF,WAAqCrL,KAAnBuL,EAAUF,OAA4C,OAAtBE,EAAUJ,aAA0CnL,KAAtBuL,EAAUJ,QACpG,KAAM,IAAIK,OAAM,kDAEpB,IAAI/K,GAAQ5C,KAAKqN,WAAWxK,QAAQ6K,EACpC1N,MAAKqN,WAAW/G,aAAa1D,IAG1BwK,EAAA5L,UAAAqM,KAAP,SAAYpI,EAAaqI,EAAYC,EAAUC,EAAoBC,EAAiBC,GAEhF,MADAlO,MAAKmO,UAAYhB,EAAAiB,UAAUC,eACpBrO,KAAKmO,WAGTf,EAAA5L,UAAA8M,QAAP,WACItO,KAAKqN,WAAWnH,QAChBlG,KAAKqN,WAAa,MAE1BD,IA1CaxN,GAAAwN,uBZ8yBP,SAAUvN,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GaxzBtD,IAAA6N,GAAA,WAMI,QAAAA,GAAYC,EAAcC,EAAeC,EAAgBP,GACrDnO,KAAKwO,SAAWA,EAChBxO,KAAKyO,OAASA,EACdzO,KAAK0O,QAAUA,EACf1O,KAAKmO,UAAYA,EAEzB,MAAAI,KAZa3O,GAAA2O,abu0BP,SAAU1O,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,Gc30BtD,IAAAiO,GAAA,WAKI,QAAAA,GAAYC,EAAeH,EAAeN,GACtC,GAAkB,OAAdS,OAAoCzM,KAAdyM,GAAqC,KAAVH,EACjD,KAAM,IAAId,OAAM,wBAEpB,IAAe,OAAXc,OAA8BtM,KAAXsM,EACnB,KAAM,IAAId,OAAM,qBAEpB3N,MAAK4O,UAAYA,EACjB5O,KAAKyO,OAASA,EACdzO,KAAKmO,UAAYA,EAEzB,MAAAQ,KAhBa/O,GAAA+O,ed+1BP,SAAU9O,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,Gep2BtD,IAAAmO,GAAA3O,EAAA,IAIA4O,EAAA,WAGI,QAAAA,GAAYC,EAAaC,GACrBhP,KAAK+O,KAAOA,EACZ/O,KAAKgP,QAAUA,EAEvB,MAAAF,MAEA9M,EAAA,WAGI,QAAAA,KAFQhC,KAAAiP,iBA+BZ,MA3BWjN,GAAAR,UAAA0N,KAAP,SAAaH,EAAgBI,EAAiBjN,EAAckN,EAAkBC,EAAuBC,EAA2BC,OAAlD,KAAAF,OAAA,OAAuB,KAAAC,MAAA,UAA2B,KAAAC,MAAA,UAC5H,IAAIC,GAA0BX,EAAAY,aAAaP,KAAKH,EAAMI,EAAUjN,EAAOkN,EAAWC,EAAOC,EAEpFtP,MAAKiP,cAAcxN,eAAe8N,KACnCvP,KAAKiP,cAAcM,MAEvB,IAAIG,GAAU,GAAIZ,GAAQC,EAAMS,EAChCxP,MAAKiP,cAAcM,GAAO/M,KAAKkN,IAG5B1N,EAAAR,UAAAmO,OAAP,SAAeJ,OAAA,KAAAA,MAAA,UACX,IAAIK,GAAW5P,KAAKiP,cAAcM,EAE9BK,KACAA,EAASxN,QAAQ,SAAAyN,GACbA,EAAYd,KAAKtM,eAAeoN,EAAYb,iBAGzChP,MAAKiP,cAAcM,KAI3BvN,EAAAR,UAAAsO,UAAP,WACI,IAAK,GAAIP,KAASvP,MAAKiP,cACnBjP,KAAK2P,OAAOJ,IAGxBvN,IAhCapC,GAAAoC,Ufy4BP,SAAUnC,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GgBx5BtD,IAAAqP,GAAA,WAQI,QAAAA,GAAYZ,EAAiBa,EAAsBC,EAAyBZ,EAAuBC,GAE/F,OAFwE,KAAAD,OAAA,GAErEA,IAAUC,EACT,KAAM,IAAI3B,OAAM,4DAGpB3N,MAAKkC,MAAQiN,EACbnP,KAAK+H,SAAWiI,EAChBhQ,KAAKoP,UAAYa,EACjBjQ,KAAKqP,MAAQA,EACbrP,KAAKsP,YAAcA,EAgB3B,MAbWS,GAAAvO,UAAAc,OAAP,SAAc5B,EAAWwB,GACjBlC,KAAKqP,MACLrP,KAAK+H,SAAS/H,KAAKoP,WAAWpP,KAAKsP,YAAa5O,GAEA,kBAAnCV,MAAK+H,SAAS/H,KAAKoP,WAChCpP,KAAK+H,SAAS/H,KAAKoP,WAAW1O,EAAOwB,GAGjClC,KAAK+H,SAAS/H,KAAKoP,YAAc1O,IACjCV,KAAK+H,SAAS/H,KAAKoP,WAAa1O,IAIhDqP,IAlCanQ,GAAAmQ,iBhB07BP,SAAUlQ,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GiB18BtD,IAAAwM,GAAAhN,EAAA,GAGAgQ,EAAA,SAAA1L,GAKI,QAAA0L,GAAYzL,EAAoBC,OAAA,KAAAA,OAAA,EAAhC,IAAAC,GACIH,EAAAjE,KAAAP,KAAMyE,EAAQC,IAAgB1E,IjB68B9B,OiBj9BG2E,GAAAwL,sBACAxL,EAAAyL,kBjBg9BIzL,EiBj7Bf,MAlCmCjB,GAAAwM,EAAA1L,GASxB0L,EAAA1O,UAAA6D,QAAP,SAAeK,EAAgBR,EAAcC,GAGzC,MAFAnF,MAAKoQ,eAAgB1K,EAAK2K,IAAO3K,EACjC1F,KAAKmQ,mBAAoBzK,EAAKjB,QAAWiB,EAClClB,EAAAhD,UAAM6D,QAAO9E,KAAAP,KAAC0F,EAAMR,EAAMC,IAG9B+K,EAAA1O,UAAA0E,MAAP,WACIlG,KAAKmG,UAAUnG,KAAKoQ,gBACpBpQ,KAAKmG,UAAUnG,KAAKmQ,oBACpB3L,EAAAhD,UAAM0E,MAAK3F,KAAAP,OAGRkQ,EAAA1O,UAAA8E,aAAP,SAAoB1D,GAChB,GAAI0N,GAAYtQ,KAAKiG,UAAWrD,EAChC5C,MAAKqG,mBAAmBrG,KAAKoQ,eAAgBE,EAAUD,IACvDrQ,KAAKqG,mBAAmBrG,KAAKmQ,mBAAoBG,EAAU7L,QAC3DD,EAAAhD,UAAM8E,aAAY/F,KAAAP,KAAC4C,IAGhBsN,EAAA1O,UAAAwE,OAAP,SAAc1E,EAAkBsB,EAAc2D,EAAmCrB,EAAcC,EAAaU,GAIxG,WAJ0C,KAAAU,OAAA,OAA8D,KAAAV,OAAA,GAExG7F,KAAKoQ,eAAgB9O,EAAO+O,IAAO/O,EACnCtB,KAAKmQ,mBAAoB7O,EAAOmD,QAAWnD,EACpCkD,EAAAhD,UAAMwE,OAAMzF,KAAAP,KAACsB,EAAQsB,EAAO2D,EAAqBrB,EAAMC,EAAKU,IAE3EqK,GAlCmChD,EAAA3I,UAAtB3E,GAAAsQ,iBjBo/BP,SAAUrQ,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GkB9/BtD,IAAA6P,GAAArQ,EAAA,IAIAuP,EAAA,mBAAAA,MASA,MARkBA,GAAAP,KAAd,SAAmBH,EAAgBI,EAAiBjN,EAAckN,EAAkBC,EAAgBC,GAEhG,GAAIjN,GAAqB,GAAIkO,GAAAR,cAAcZ,EAAUjN,EAAOkN,EAAWC,EAAOC,EAI9E,OAFAP,GAAKxM,YAAYF,GAEVA,GAEfoN,IATa7P,GAAA6P,gBlB2gCP,SAAU5P,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GmB1hCtD,IAAAyD,GAAAjE,EAAA,GACAkE,EAAAlE,EAAA,GAEAsQ,EAAA,SAAAhM,GAMI,QAAAgM,GAAYC,OAAA,KAAAA,SAAZ,IAAA9L,GACIH,EAAAjE,KAAAP,OAAOA,InBmiCP,OmBziCI2E,GAAA+L,UAAevO,GACfwC,EAAAgM,SAAcxO,GACdwC,EAAAiM,WAAgBzO,GAChBwC,EAAAkM,YAAiB1O,GAIrBwC,EAAKmM,KAAOL,EAAOK,KACnBnM,EAAKoM,IAAMN,EAAOM,IAClBpM,EAAKqM,MAAQP,EAAOO,MACpBrM,EAAKsM,OAASR,EAAOQ,OnB+hCdtM,EmB5+Bf,MA9D8BjB,GAAA8M,EAAAhM,GAc1BzD,OAAAC,eAAIwP,EAAAhP,UAAA,QnB+hCAL,ImB/hCJ,WACI,MAAOnB,MAAK0Q,OnBiiCZnN,ImB/hCJ,SAAS7C,GACLV,KAAK0Q,MAAQhQ,EACbV,KAAKiC,OAAOvB,EAAO,SnBiiCnBQ,YAAY,EACZD,cAAc,ImBhiClBF,OAAAC,eAAIwP,EAAAhP,UAAA,OnBmiCAL,ImBniCJ,WACI,MAAOnB,MAAK2Q,MnBqiCZpN,ImBniCJ,SAAQ7C,GACJV,KAAK2Q,KAAOjQ,EACZV,KAAKiC,OAAOvB,EAAO,QnBqiCnBQ,YAAY,EACZD,cAAc,ImBpiClBF,OAAAC,eAAIwP,EAAAhP,UAAA,SnBuiCAL,ImBviCJ,WACI,MAAOnB,MAAK4Q,QnByiCZrN,ImBviCJ,SAAU7C,GACNV,KAAK4Q,OAASlQ,EACdV,KAAKiC,OAAOvB,EAAO,UnByiCnBQ,YAAY,EACZD,cAAc,ImBxiClBF,OAAAC,eAAIwP,EAAAhP,UAAA,UnB2iCAL,ImB3iCJ,WACI,MAAOnB,MAAK6Q,SnB6iCZtN,ImB3iCJ,SAAW7C,GACPV,KAAK6Q,QAAUnQ,EACfV,KAAKiC,OAAOvB,EAAO,WnB6iCnBQ,YAAY,EACZD,cAAc,ImB3iCXuP,EAAAhP,UAAAc,OAAP,SAAcmO,OAAA,KAAAA,SAEV,KAAK,GAAItL,KAAOsL,GAERrM,EAAAS,YAAY8C,cAAc8I,EAAQtL,IAAQpE,OAAOmQ,eAAgBlR,MAAOyB,eAAe0D,KACvFnF,KAAKmF,GAAOsL,EAAOtL,KAKxBqL,EAAAhP,UAAA2P,iBAAP,cAAAxM,GAAA3E,KACQoR,IAMJ,OALArQ,QAAOsQ,KAAKtQ,OAAOmQ,eAAelR,OAAOoC,QAAQ,SAAC+C,GAC1CR,EAAKQ,KACLiM,EAAIjM,GAAOR,EAAKQ,MAGjBiM,GAEfZ,GA9D8BrM,EAAAtC,QAAjBjC,GAAA4Q,YnBknCP,SAAU3Q,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GoBznCtD,IAAA4Q,GAAApR,EAAA,GAEAqR,EAAArR,EAAA,GACAsR,EAAA,mBAAAA,MAmDA,MAjDkBA,GAAAjH,OAAd,SAAqBN,EAAeuC,EAAiBrC,GACjD,MAAOF,GAAOM,OAAO+G,EAAAhF,UAAUC,eAAeC,GAAWrC,IAG/CqH,EAAAC,YAAd,SAA0BxH,GACtB,GAAIyH,IAAU,IAAK,IAAK,IAAK,IAAK,KAAM,MACpCjB,IACJ,KAAK,GAAIpQ,KAAKqR,GAEVjB,EAAOjO,KAAK8O,EAAAhF,UAAUM,QAAQ3C,EAAOyH,EAAOrR,KAEhD,OAAO,UAAYoQ,EAAOkB,KAAK,KAAM,KAI3BH,EAAAI,2BAAd,SAAyCC,GACrC,GAKIC,GALA7H,EAAS4H,EAAQE,MAAM,sBACvBF,EAAQE,MAAM,mBACdF,EAAQE,MAAM,kBACdF,EAAQE,MAAM,iBACdF,EAAQE,MAAiB,SAE7B,IAAc,SAAX9H,EAAmB,CAClB,GAAIwG,GAASxG,EAAO+H,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAClDhJ,EAAIyH,EAAO,GACX1M,EAAI0M,EAAO,EACfqB,GAAQvI,KAAKyD,MAAMzD,KAAK4B,MAAMpH,EAAGiF,IAAM,IAAIO,KAAKkD,SAEhDqF,GAAQ,CAEZ,OAAOA,IAGGN,EAAAS,iBAAd,SAA+BhI,GAC3B,MAAOqH,GAAAhF,UAAUM,QAAQ0E,EAAAhF,UAAUI,eAAenD,KAAK4B,MAAMlB,EAAOlG,EAAGkG,EAAOjB,MAGpEwI,EAAAU,UAAd,SAAwBC,GACpB,GAAI1B,GAAS0B,EAAmBH,MAAM,KAAK,EAC3CvB,GAASA,EAAOuB,MAAM,KAAK,EAC3B,IAAII,GAAc3B,EAAOuB,MAAM,KAC3BhJ,EAAIqJ,WAAWD,EAAY,IAC3BrO,EAAIsO,WAAWD,EAAY,IAC3B3R,EAAI4R,WAAWD,EAAY,IAC3BzR,EAAI0R,WAAWD,EAAY,IAC3BnJ,EAAKoJ,WAAWD,EAAY,IAC5BlJ,EAAKmJ,WAAWD,EAAY,GAChC,OAAO,IAAIb,GAAAxI,OAAOC,EAAEjF,EAAEtD,EAAEE,EAAGsI,EAAIC,IAEvCsI,IAnDa5R,GAAA4R,epBkrCP,SAAU3R,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GqB5rCtD,IAAA4R,GAAA,mBAAAA,MAgGA,MA/FeA,GAAAC,WAAd,SAAyBC,EAAaC,GACrC,GAAY,OAARD,EACG,MAAO,EAIX,IAAI3J,GAAM4J,EAAK9P,OACX+P,IACO,IAAP7J,GAAY4J,EAAK,YAAc3O,QAC/B4O,EAAOD,EAAK,GACZ5J,EAAM6J,EAAK/P,QAGX+P,EAAOD,CAGX,KAAK,GAAIpS,GAAI,EAAGA,EAAIwI,EAAKxI,IACrBmS,EAAMA,EAAIG,QAAQ,GAAIC,QAAO,MAAQvS,EAAI,MAAO,KAAMqS,EAAKrS,GAG/D,OAAOmS,IAGGF,EAAAO,eAAd,SAA6BL,GAC5B,MAAOA,GAAIG,QAAQ,gBAAgB,MAGtBL,EAAAQ,KAAd,SAAmBN,GAClB,GAAW,MAAPA,EAAa,MAAO,EAGrB,KADA,GAAIvL,GAAa,EACVqL,EAAWS,aAAaP,EAAIQ,OAAO/L,OACpCA,CAGN,KADA,GAAIgM,GAAWT,EAAI7P,OAAS,EACrB2P,EAAWS,aAAaP,EAAIQ,OAAOC,OACpCA,CAEN,OAAIA,IAAYhM,EACLuL,EAAIvP,MAAMgE,EAAYgM,EAAW,GAEjC,IAGDX,EAAAS,aAAd,SAA2BG,GAC1B,OAAQA,GACD,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACD,OAAO,CAEX,SACI,OAAO,IAILZ,EAAAa,yBAAd,SAAuCC,GAInC,IAAK,GAHJC,GAAYD,EAAMpB,MAAM,KACrB5M,EAAc,GAAIkO,QAEbjT,EAAI,EAAGA,EAAIgT,EAAU1Q,OAAQtC,IAClC+E,GAAekO,OAAOC,aAAaC,SAASH,EAAUhT,GAAI,IAE9D,OAAO+E,IAGGkN,EAAAmB,gBAAd,SAA8BjB,EAAakB,GAGvCA,EAAMA,GAAO,CACb,IACIC,GAAIC,EADJC,EAAOrB,EAAIsB,WAAWJ,EAK1B,IAAI,OAAUG,GAAQA,GAAQ,MAAQ,CAGlC,GAFAF,EAAKE,EACLD,EAAMpB,EAAIsB,WAAWJ,EAAI,GACrB5N,MAAM8N,GACN,KAAM,IAAIjG,OAAM,gGAEpB,OAAwB,OAAfgG,EAAK,QAAoBC,EAAM,OAAU,MAEtD,QAAI,OAAUC,GAAQA,GAAQ,QAQvBA,GAEZvB,IAhGa1S,GAAA0S,crB0xCP,SAAUzS,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GsB3xCtD,IAAA0N,GAAA,WACI,QAAAA,MAiBJ,MAbkBA,GAAAC,aAAd,WACI,GAAI1N,IAAI,GAAIoT,OAAOC,SAMnB,OALW,uCAAuCrB,QAAQ,QAAS,SAASlS,GACxE,GAAIwT,IAAKtT,EAAkB,GAAd4I,KAAK2K,UAAa,GAAK,CAEpC,OADAvT,GAAI4I,KAAK4K,MAAMxT,EAAE,KACN,KAAHF,EAASwT,EAAO,EAAFA,EAAM,GAAMG,SAAS,OAKrChG,EAAAiG,aAAd,SAA2BC,EAAYC,GACnC,MAAOhL,MAAK4K,MAAM5K,KAAK2K,UAAYK,EAAMD,IAAQA,GAEzDlG,IAlBaxO,GAAAwO,atBqzCP,SAAUvO,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GuBn0CtD,IAAA8T,GAAAtU,EAAA,IACAuU,EAAAvU,EAAA,IACAwU,EAAAxU,EAAA,IAIAyU,EAAA,SAAAnQ,GAMI,QAAAmQ,GAAYC,EAAoBC,OAApB,KAAAD,OAAA,OAAoB,KAAAC,OAAA,EAAhC,IAAAlQ,GACIH,EAAAjE,KAAAP,OAAOA,IvBs0CP,OuBr0CA2E,GAAKmQ,WAAa,KAClBnQ,EAAKiQ,MAAQA,EACbjQ,EAAKkQ,iBAAmBA,EvBm0CjBlQ,EuBhuCf,MA7GoCjB,GAAAiR,EAAAnQ,GAaxBmQ,EAAAnT,UAAAuT,kBAAR,WACQ/U,KAAK6U,kBACL7U,KAAK8U,WAAW7M,iBAAiB,WAAYjI,KAAKgV,gBAAgB,GAEtEhV,KAAK8U,WAAW7M,iBAAiB,OAAQjI,KAAKiV,MAAM,GACpDjV,KAAK8U,WAAW7M,iBAAiB,QAASjI,KAAKkV,YAAY,IAGvDP,EAAAnT,UAAA2T,qBAAR,WACInV,KAAK8U,WAAWtM,oBAAoB,OAAQxI,KAAKiV,MAAM,GACvDjV,KAAK8U,WAAWtM,oBAAoB,QAASxI,KAAKkV,YAAY,GAC9DlV,KAAK8U,WAAWtM,oBAAoB,WAAYxI,KAAKgV,gBAAgB,IAGlEL,EAAAnT,UAAA8L,QAAP,SAAeC,GACX,GAA8B,KAA1BvN,KAAK8U,WAAWrG,OAAe,CAE/B,GAAI2G,GAAW,GAAIX,GAAAlG,UAAUvO,KAAK8U,WAAWO,SAAUrV,KAAK8U,WAAWrG,OAAQzO,KAAK8U,WAAWQ,aAActV,KAAKmO,UAElH,YADAnO,MAAKwN,MAAM4H,GAIf,IAAK,GADDG,GAAY,GAAIf,GAAA7F,YAAY3O,KAAK8U,WAAWO,SAAUrV,KAAK8U,WAAWrG,OAAQzO,KAAKmO,WAC9EqH,EAAiB,EAAGA,EAAiBxV,KAAKqN,WAAW1K,OAAQ6S,IAAkB,CACpExV,KAAKqN,WAAWpH,UAAUuP,GAChClI,QAAQiI,GAEtBvV,KAAKsO,WAGFqG,EAAAnT,UAAAgM,MAAP,SAAaA,GACT,IAAK,GAAIgI,GAAiB,EAAGA,EAAiBxV,KAAKqN,WAAW1K,OAAQ6S,IAAkB,CACpExV,KAAKqN,WAAWpH,UAAUuP,GAChChI,MAAMA,GAEpBxN,KAAKsO,WAGFqG,EAAAnT,UAAAyT,KAAP,SAAY/M,GACR,GAAIlI,KAAK6U,iBACL,IAAK,GAAIW,GAAiB,EAAGA,EAAiBxV,KAAKqN,WAAW1K,OAAQ6S,IAAkB,CACpF,GAAI9H,GAAY1N,KAAKqN,WAAWpH,UAAUuP,EAC1C9H,GAAU+H,WAAY,IAAKzV,KAAKmO,aAKrCwG,EAAAnT,UAAAwT,eAAP,SAAsB9M,GAKlB,IAAK,GADDwN,GAAkBxN,EAAMyN,QAAWzN,EAAM0N,MAAQ,EAAK1N,EAAM0N,MAAQ1N,EAAMyN,QACrEH,EAAiB,EAAGA,EAAiBxV,KAAKqN,WAAW1K,OAAQ6S,IAAkB,CACpExV,KAAKqN,WAAWpH,UAAUuP,GAChCC,WAAYC,EAAiB1V,KAAKmO,aAK7CwG,EAAAnT,UAAAqM,KAAP,SAAYpI,EAAaqI,EAAYC,EAAUC,EAAoBC,EAAqCC,OAAA,KAAAA,OAAA,EACpG,IAAIC,GAAmB3J,EAAAhD,UAAMqM,KAAItN,KAAAP,KAACyF,EAAMqI,EAAKC,EAAMC,EAAaC,EAAUC,EAgB1E,OAfAlO,MAAK8U,WAAa,GAAIe,gBACtB7V,KAAK+U,oBACL/U,KAAK8U,WAAWgB,mBAAqB,SAAU5N,GACT,GAA9BlI,KAAK8U,WAAWiB,YAChB/V,KAAKsN,QAAQtN,KAAK8U,WAAWO,WAEnCnG,KAAKlP,MACPA,KAAK8U,WAAWkB,KAAMvQ,EAAMqI,EAAK9N,KAAK4U,OACrB,OAAb3G,IACAjO,KAAK8U,WAAWmB,aAAehI,GAEf,OAAhBD,GACAhO,KAAK8U,WAAWoB,iBAAiB,eAAgBlI,GAErDhO,KAAK8U,WAAWjH,KAAME,GACfI,GAGJwG,EAAAnT,UAAA0T,WAAP,SAAkBhN,GACd,GAAIkN,GAAW,GAAIX,GAAAlG,UAAUvO,KAAK8U,WAAWO,SAAUrV,KAAK8U,WAAWrG,OAAQzO,KAAK8U,WAAWQ,aAActV,KAAKmO,UAClHnO,MAAKwN,MAAM4H,IAGRT,EAAAnT,UAAA2U,MAAP,WACInW,KAAK8U,WAAWgB,mBAAqB,KACrC9V,KAAKmV,uBACLnV,KAAK8U,WAAWqB,QAChBnW,KAAKsO,WAGFqG,EAAAnT,UAAA8M,QAAP,WACI9J,EAAAhD,UAAM8M,QAAO/N,KAAAP,MACbA,KAAKmV,uBACLnV,KAAK8U,WAAWgB,mBAAqB,KACrC9V,KAAK8U,WAAa,MAE1BH,GA7GoCD,EAAAtH,oBAAvBxN,GAAA+U,kBvB86CP,SAAU9U,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GwBl8CtD,IAAAyD,GAAAjE,EAAA,GAEAkW,EAAA,SAAA5R,GAII,QAAA4R,KAAA,GAAAzR,GACIH,EAAAjE,KAAAP,OAAOA,IxBs8CP,OwB18CI2E,GAAA0R,qBAA8B,EAC9B1R,EAAA2R,yBAAkC,ExBy8C/B3R,EwBv6Cf,MApCyCjB,GAAA0S,EAAA5R,GAQrCzD,OAAAC,eAAIoV,EAAA5U,UAAA,uBxBs8CAL,IwBt8CJ,WACI,MAAOnB,MAAKqW,sBxBw8CZ9S,IwBt8CJ,SAAwB7C,GACpBV,KAAKqW,qBAAuB3V,EAC5BV,KAAKiC,OAAOvB,EAAO,wBxBw8CnBQ,YAAY,EACZD,cAAc,IwBt8ClBF,OAAAC,eAAIoV,EAAA5U,UAAA,0BxBy8CAL,IwBz8CJ,WACI,MAAOnB,MAAKuW,qBAAuB,GxB28CnChT,IwBz8CJ,SAA2B7C,GACvBV,KAAKsW,wBAA0B5V,EAC/BV,KAAKiC,OAAOvB,EAAO,2BxB28CnBQ,YAAY,EACZD,cAAc,IwBz8CXmV,EAAA5U,UAAAgV,kBAAP,WACIxW,KAAKyW,wBAAyB,EAC9BzW,KAAKuW,qBAAuB,GAGzBH,EAAA5U,UAAAkV,qBAAP,WACI1W,KAAKuW,qBAAuB,EACvBvW,KAAKuW,sBAENvW,KAAKyW,wBAAyB,IAG1CL,GApCyCjS,EAAAtC,QAA5BjC,GAAAwW,uBxBo/CP,SAAUvW,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GyBpgDtD,IAAAyD,GAAAjE,EAAA,GAIAyW,EAAA,SAAAnS,GAUI,QAAAmS,KAAA,GAAAhS,GACIH,EAAAjE,KAAAP,OAAOA,IzBqgDP,OyB9gDI2E,GAAAiS,SAAkB,GAClBjS,EAAAkS,gBAAqB1U,GACrBwC,EAAAmS,kBAAuB3U,GACvBwC,EAAAoS,WAAgB5U,GAChBwC,EAAAqS,iBAAsB7U,GACtBwC,EAAAsS,yBAA2C9U,GAC3CwC,EAAAuS,gBAAyB/U,GzBwgDtBwC,EyBn8Cf,MA7E4BjB,GAAAiT,EAAAnS,GAcxBzD,OAAAC,eAAI2V,EAAAnV,UAAA,czBqgDAL,IyBrgDJ,WACI,MAAOnB,MAAKkX,azBugDZ3T,IyBrgDJ,SAAe7C,GACXV,KAAKkX,YAAcxW,EACnBV,KAAKiC,OAAOvB,EAAO,ezBugDnBQ,YAAY,EACZD,cAAc,IyBrgDlBF,OAAAC,eAAI2V,EAAAnV,UAAA,uBzBwgDAL,IyBxgDJ,WACI,MAAOnB,MAAKiX,sBzB0gDZ1T,IyBxgDJ,SAAwB7C,GACpBV,KAAKiX,qBAAuBvW,EAC5BV,KAAKiC,OAAOvB,EAAO,wBzB0gDnBQ,YAAY,EACZD,cAAc,IyBxgDlBF,OAAAC,eAAI2V,EAAAnV,UAAA,ezB2gDAL,IyB3gDJ,WACI,MAAOnB,MAAKgX,czB6gDZzT,IyB3gDJ,SAAgB7C,GACZV,KAAKgX,aAAetW,EACpBV,KAAKiC,OAAOvB,EAAO,gBzB6gDnBQ,YAAY,EACZD,cAAc,IyB3gDlBF,OAAAC,eAAI2V,EAAAnV,UAAA,WzB8gDAL,IyB9gDJ,WACI,MAAOnB,MAAKmX,UzBghDZ5T,IyB9gDJ,SAAY7C,GACRV,KAAKmX,SAAWzW,EAChBV,KAAKiC,OAAOvB,EAAO,YzBghDnBQ,YAAY,EACZD,cAAc,IyB9gDlBF,OAAAC,eAAI2V,EAAAnV,UAAA,WzBihDAL,IyBjhDJ,WACI,MAAOnB,MAAK4W,UzBmhDZrT,IyBjhDJ,SAAY7C,GACRV,KAAK4W,SAAWlW,EAChBV,KAAKiC,OAAOvB,EAAO,YzBmhDnBQ,YAAY,EACZD,cAAc,IyBjhDlBF,OAAAC,eAAI2V,EAAAnV,UAAA,czBohDAL,IyBphDJ,WACI,MAAOnB,MAAK6W,azBshDZtT,IyBphDJ,SAAe7C,GACXV,KAAK6W,YAAcnW,EACnBV,KAAKiC,OAAOvB,EAAO,ezBshDnBQ,YAAY,EACZD,cAAc,IyBphDlBF,OAAAC,eAAI2V,EAAAnV,UAAA,gBzBuhDAL,IyBvhDJ,WACI,MAAOnB,MAAK8W,ezByhDZvT,IyBvhDJ,SAAiB7C,GACbV,KAAK8W,cAAgBpW,EACrBV,KAAKiC,OAAOvB,EAAO,iBzByhDnBQ,YAAY,EACZD,cAAc,IyBvhDlBF,OAAAC,eAAI2V,EAAAnV,UAAA,SzB0hDAL,IyB1hDJ,WACI,MAAOnB,MAAK+W,QzB4hDZxT,IyB1hDJ,SAAU7C,GACNV,KAAK+W,OAASrW,EACdV,KAAKiC,OAAOvB,EAAO,UzB4hDnBQ,YAAY,EACZD,cAAc,IyB3hDtB0V,GA7E4BxS,EAAAtC,QAAfjC,GAAA+W,UzBinDP,SAAU9W,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G0BnoDtD,IAAAyD,GAAAjE,EAAA,GACAgN,EAAAhN,EAAA,GAEAkX,EAAA,SAAA5S,GAKI,QAAA4S,KAAA,GAAAzS,GACIH,EAAAjE,KAAAP,OAAOA,I1BsoDP,O0B1oDI2E,GAAA0S,WAAoB,EACpB1S,EAAA2S,QAAoB,GAAIpK,GAAA3I,U1ByoDrBI,E0B3lDf,MAjDgCjB,GAAA0T,EAAA5S,GAS5BzD,OAAAC,eAAIoW,EAAA5V,UAAA,Y1BsoDAL,I0BtoDJ,WACI,MAAOnB,MAAKqX,W1BwoDZ9T,I0BtoDJ,SAAa7C,GACTV,KAAKqX,UAAY3W,EACjBV,KAAKiC,OAAOvB,EAAO,a1BwoDnBQ,YAAY,EACZD,cAAc,I0BtoDlBF,OAAAC,eAAIoW,EAAA5V,UAAA,U1ByoDAL,I0BzoDJ,WACI,MAAOnB,MAAKsX,S1B2oDZ/T,I0BzoDJ,SAAW7C,GACPV,KAAKsX,QAAU5W,EACfV,KAAKiC,OAAOvB,EAAO,W1B2oDnBQ,YAAY,EACZD,cAAc,I0BzoDXmW,EAAA5V,UAAA+V,SAAP,WAEI,MADmBvX,MAAKwX,OAAO7U,OAAS,EAAM,mCAAqC,mCAIhFyU,EAAA5V,UAAAiW,WAAP,WAEI,IAAK,GADDC,GAAa,GACRC,EAAa,EAAGA,EAAa3X,KAAKwX,OAAO7U,OAAQgV,IACtDD,GAAc,SAAU1X,KAAKwX,OAAOvR,UAAU0R,GAAY/W,KAAO,KACjE8W,GAAc,YAAa1X,KAAKwX,OAAOvR,UAAU0R,GAAYjJ,QAAU,KACvEgJ,GAAc,IAElB,OAAOA,IAGJN,EAAA5V,UAAAoW,SAAP,SAAgBC,GACZ7X,KAAKwX,OAAOnS,QAASwS,GACrB7X,KAAK8X,UAAW,GAGbV,EAAA5V,UAAA0E,MAAP,WACIlG,KAAKwX,OAAOtR,QACZlG,KAAK8X,UAAW,GAExBV,GAjDgCjT,EAAAtC,QAAnBjC,GAAAwX,c1BgsDP,SAAUvX,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G2BjtDtD,IAAAyD,GAAAjE,EAAA,GACAoE,EAAApE,EAAA,GACA6X,EAAA7X,EAAA,GAGAgN,EAAAhN,EAAA,GACAkE,EAAAlE,EAAA,GACAmE,EAAAnE,EAAA,GAGA8X,EAAA,SAAAxT,GA+JI,QAAAwT,GAAYC,EAAuBC,OAAvB,KAAAD,MAAArQ,SAAuB,KAAAsQ,MAAA,KAAnC,IAAAvT,GACIH,EAAAjE,KAAAP,OAAOA,I3BkkDP,O2B/sDG2E,GAAAwT,iBA+IH/T,EAAAS,YAAYC,MAAMT,EAAAU,gBAAiBiT,EAAWrT,GAE9CA,EAAKyT,YAAcH,EACnBtT,EAAK0T,SAAW,EAAmB,GAAIH,GAA0B,GAAIhL,GAAA3I,UACrEI,EAAK2T,UAAY,EAAmB,GAAIJ,GAA0B,GAAIhL,GAAA3I,UAElEuB,MAAMnB,EAAKyT,eACXzT,EAAK4T,YAAcC,WAAW,WAC1B7T,EAAKuB,WAGbvB,EAAK0T,SAASpQ,iBAAiB3D,EAAAiB,gBAAgBC,kBAAmBb,EAAM,2B3BqjDjEA,E2Bp/Cf,MA9O+BjB,GAAAsU,EAAAxT,GA6B3BzD,OAAAC,eAAIgX,EAAAxW,UAAA,M3BwsDAL,I2BxsDJ,WACI,MAAOnB,MAAKyY,K3B0sDZlV,I2BxsDJ,SAAOmV,GACH1Y,KAAKyY,IAAMC,EACX1Y,KAAKiC,OAAOyW,EAAK,O3B0sDjBxX,YAAY,EACZD,cAAc,I2BxsDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,gB3B2sDAL,I2B3sDJ,WACI,MAAOnB,MAAK2Y,e3B6sDZpV,I2B3sDJ,SAAiBmV,GACb1Y,KAAK2Y,cAAgBD,EACjB1Y,KAAK2Y,eAAiBD,IACtB1Y,KAAK2Y,cAAgBD,EACrB1Y,KAAKiC,OAAOyW,EAAK,gBACjB1Y,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeC,wB3B8sDpD5K,YAAY,EACZD,cAAc,I2B3sDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,c3B8sDAL,I2B9sDJ,WACI,MAAOnB,MAAK4Y,a3BgtDZrV,I2B9sDJ,SAAemV,GACP1Y,KAAK4Y,aAAeF,IACpB1Y,KAAK4Y,YAAcF,EACnB1Y,KAAKiC,OAAOyW,EAAK,cACjB1Y,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeE,sB3BitDpD7K,YAAY,EACZD,cAAc,I2B9sDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,gB3BitDAL,I2BjtDJ,WACI,MAAOnB,MAAK6Y,e3BmtDZtV,I2BjtDJ,SAAiBmV,GACT1Y,KAAK6Y,eAAiBH,IAEtB1Y,KAAK6Y,cAAgBH,EACjBA,GAAO,IAAM1Y,KAAK8Y,WAAYJ,IAC9B1Y,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeQ,gBAAiBiE,UAAUtQ,QAE/EA,KAAK+Y,oBACL/Y,KAAKiC,OAAOyW,EAAK,gBACjB1Y,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeM,yB3BotDpDjL,YAAY,EACZD,cAAc,I2BjtDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,kB3BotDAL,I2BptDJ,WACI,MAAOnB,MAAKgZ,iB3BstDZzV,I2BptDJ,SAAmBmV,GACX1Y,KAAKgZ,iBAAmBN,IAExB1Y,KAAKgZ,gBAAkBN,EACvB1Y,KAAKiZ,aACLjZ,KAAKiC,OAAOyW,EAAK,kBACjB1Y,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeK,4B3BstDpDhL,YAAY,EACZD,cAAc,I2BntDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,W3BstDAL,I2BttDJ,WACI,MAAOnB,MAAKqY,U3BwtDZ9U,I2BttDJ,SAAYmV,GACJ1Y,KAAKqY,UAAYK,IAEK,OAAjB1Y,KAAKqY,cAAqClW,KAAjBnC,KAAKqY,UAE/BrY,KAAKqY,SAAS7P,oBAAoBlE,EAAAiB,gBAAgBC,kBAAmBxF,KAAM,2BAE/EA,KAAKqY,SAAWK,EACM,OAAjB1Y,KAAKqY,cAAqClW,KAAjBnC,KAAKqY,WAE/BrY,KAAKiZ,aACLjZ,KAAKkZ,aAAe,EACpBlZ,KAAKqY,SAASpQ,iBAAiB3D,EAAAiB,gBAAgBC,kBAAmBxF,KAAM,4BAE5EA,KAAKiC,OAAOyW,EAAK,WACjB1Y,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeI,mB3BstDpD/K,YAAY,EACZD,cAAc,I2BntDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,a3BstDAL,I2BttDJ,WACI,MAAOnB,MAAKmZ,Y3BwtDZ5V,I2BttDJ,SAAcmV,GACV1Y,KAAKmZ,WAAaT,EAClB1Y,KAAKiC,OAAOyW,EAAK,c3BwtDjBxX,YAAY,EACZD,cAAc,I2BttDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,Y3BytDAL,I2BztDJ,WACI,MAAOnB,MAAKsY,W3B2tDZ/U,I2BztDJ,SAAamV,GACT1Y,KAAKsY,UAAYI,EACjB1Y,KAAKiC,OAAOyW,EAAK,YACjB1Y,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeG,oB3B2tDhD9K,YAAY,EACZD,cAAc,I2BztDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,c3B4tDAL,I2B5tDJ,WACI,MAAOnB,MAAKoY,a3B8tDZ7U,I2B5tDJ,SAAemV,GAAf,GAAA/T,GAAA3E,IACIA,MAAKoY,YAAcM,EACM,OAArB1Y,KAAKuY,iBAA6CpW,KAArBnC,KAAKuY,cAClCvY,KAAKoZ,gBAILpZ,KAAKuY,YAAcC,WAAW,WAAO7T,EAAKuB,OAASwS,IAEvD1Y,KAAKiC,OAAOyW,EAAK,e3B+tDjBxX,YAAY,EACZD,cAAc,I2B7tDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,U3BguDAL,I2BhuDJ,WACI,MAAOnB,MAAKqZ,S3BkuDZ9V,I2BhuDJ,SAAWmV,GACP1Y,KAAKqZ,QAAUX,EACf1Y,KAAKiC,OAAOyW,EAAK,W3BkuDjBxX,YAAY,EACZD,cAAc,I2BhuDlBF,OAAAC,eAAIgX,EAAAxW,UAAA,mB3BmuDAL,I2BnuDJ,WACI,MAAOnB,MAAKsZ,kB3BquDZ/V,I2BnuDJ,SAAoBmV,GAChB1Y,KAAKsZ,iBAAmBZ,EACxB1Y,KAAKiC,OAAOyW,EAAK,oB3BquDjBxX,YAAY,EACZD,cAAc,I2BltDV+W,EAAAxW,UAAA4X,cAAR,WAC6B,OAArBpZ,KAAKuY,iBAA6CpW,KAArBnC,KAAKuY,aAClCa,cAAepZ,KAAKuY,cAIpBP,EAAAxW,UAAA0E,MAAR,eACwB/D,KAAhBnC,KAAKuZ,SAAyC,OAAjBvZ,KAAKuZ,SAClCvZ,KAAKuZ,QAAQrT,QAEjBlG,KAAKwZ,aAAe,EACpBxZ,KAAKyZ,WAAa,EAClBzZ,KAAKmY,cAAcnY,KAAKkZ,cAAgB,GAAIhM,GAAA3I,UAC5CvE,KAAKmY,iBACLnY,KAAKkZ,cAAgB,EACrBlZ,KAAKiZ,cAGDjB,EAAAxW,UAAAsX,WAAR,SAAmBY,GACf,MAA0C,QAAnC1Z,KAAKmY,cAAcuB,QAA2DvX,KAAnCnC,KAAKmY,cAAcuB,KAA+B1Z,KAAKmY,cAAcuB,GAAY/W,QAAU3C,KAAK2Z,gBAAkBD,GAAc1Z,KAAKyZ,aAGnLzB,EAAAxW,UAAAuX,kBAAR,WACI/Y,KAAK4Z,SAAW5Z,KAAKmY,cAAcnY,KAAKkZ,eAGpClB,EAAAxW,UAAAyX,WAAR,WACIjZ,KAAKyZ,WAAclQ,KAAKsQ,KAAK7Z,KAAKwZ,aAAexZ,KAAK2Z,eAEtD,KAAK,GAAIG,GAAY,EAAGA,GAAa9Z,KAAKyZ,WAAYK,IAAY,CAC9D,GAAIC,IAASD,EAAY,GAAK9Z,KAAK2Z,eAC/BK,EAASD,EAAQ/Z,KAAK2Z,eAAkB3Z,KAAKwZ,aAAgBxZ,KAAKwZ,aAAeO,EAAQ/Z,KAAK2Z,eAC9FM,EAAK,GAAI/M,GAAA3I,SACb,IAAqB,OAAjBvE,KAAKuZ,aAAqCpX,KAAjBnC,KAAKuZ,QAC9B,IAAK,GAAIlZ,GAAI0Z,EAAO1Z,EAAI2Z,EAAM3Z,IAEQ,OAA9BL,KAAKuZ,QAAQtT,UAAU5F,QAA6C8B,KAA9BnC,KAAKuZ,QAAQtT,UAAU5F,IAGjE4Z,EAAG5U,QAAQrF,KAAKuZ,QAAQtT,UAAU5F,GAItC4Z,GAAGtX,OAAS,IACZ3C,KAAKmY,cAAc2B,GAAaG,GAGxCja,KAAK+Y,oBACL/Y,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeI,kBAG7C+L,EAAAxW,UAAA0Y,wBAAP,SAA+BhS,GAC3BlI,KAAKiZ,cAGFjB,EAAAxW,UAAA8M,QAAP,WACItO,KAAKoZ,gBACLpZ,KAAKuZ,QAAU,KACfvZ,KAAK4Z,SAAW,KAChB5Z,KAAKmY,cAAgB,MAzOXH,EAAAmC,YAAqB,aACrBnC,EAAAoC,QAAiB,UACjBpC,EAAAqC,SAAkB,WA0OpCrC,GA9O+B7T,EAAAtC,QAAlBjC,GAAAoY,a3Bq8DP,SAAUnY,EAAQD,EAASM,GAEjC,YAEA,IAAIwD,GAAa1D,MAAQA,KAAK0D,WAAc,WACxC,GAAIC,GAAgB5C,OAAO6C,iBACpBC,uBAA2BC,QAAS,SAAUnD,EAAGoD,GAAKpD,EAAEkD,UAAYE,IACvE,SAAUpD,EAAGoD,GAAK,IAAK,GAAIrC,KAAKqC,GAAOA,EAAEtC,eAAeC,KAAIf,EAAEe,GAAKqC,EAAErC,IACzE,OAAO,UAAUf,EAAGoD,GAEhB,QAASC,KAAOhE,KAAKiE,YAActD,EADnCgD,EAAchD,EAAGoD,GAEjBpD,EAAEa,UAAkB,OAANuC,EAAahD,OAAOmD,OAAOH,IAAMC,EAAGxC,UAAYuC,EAAEvC,UAAW,GAAIwC,OAGvFjD,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G4B79DtD,IAAA4Z,GAAApa,EAAA,IACAkE,EAAAlE,EAAA,GACAmE,EAAAnE,EAAA,GAEAiE,EAAAjE,EAAA,GAEA6X,EAAA7X,EAAA,GAEAqa,EAAA,SAAA/V,GAII,QAAA+V,KAAA,GAAA5V,GACIH,EAAAjE,KAAAP,OAAOA,I5B+9DP,O4Bl+DI2E,GAAA6V,YAA4B,GAAIF,GAAApK,cAIpC9L,EAAAS,YAAYC,MAAMT,EAAAU,gBAAiBwV,EAAgB5V,G5B89D5CA,E4B18Df,MA1BoCjB,GAAA6W,EAAA/V,GAiBhCzD,OAAAC,eAAIuZ,EAAA/Y,UAAA,c5Bs9DAL,I4Bt9DJ,WACI,MAAOnB,MAAKwa,a5Bw9DZjX,I4Bt9DJ,SAAe7C,GACXV,KAAKwa,YAAc9Z,EACnBV,KAAKiC,OAAOvB,EAAO,cACnBV,KAAKsF,SAAS,GAAIyS,GAAAlM,eAAekM,EAAAlM,eAAeO,qB5Bw9DhDlL,YAAY,EACZD,cAAc,I4Bt9DtBsZ,GA1BoCpW,EAAAtC,QAAvBjC,GAAA2a,kB5By/DP,SAAU1a,EAAQD,EAASM,GAEjC,YAKAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G6BvgEtD,IAAA+Z,GAAA,WAII,QAAAA,GAAYC,EAAiBC,GACzB3a,KAAK0a,QAAUA,EACf1a,KAAK2a,QAAUA,EAEvB,MAAAF,KARa7a,GAAA6a,aAUb,IAAAG,GAAA,mBAAAA,MAsCA,MArCWA,GAAAC,QAAP,SAAeC,GACXA,EAAKA,EAAGC,aACR,IAAIC,GAAQ,kCAAkCC,KAAMH,IAChD,+BAA+BG,KAAMH,IACrC,wBAAwBG,KAAMH,IAC9B,wBAAwBG,KAAMH,IAC9B,yBAAyBG,KAAMH,IAC/B,wBAAwBG,KAAMH,IAC9B,qCAAqCG,KAAMH,IAC3C,kBAAkBG,KAAMH,IACxB,4BAA4BG,KAAMH,EAAGC,gBACrCD,EAAGjY,QAAQ,cAAgB,GAAK,gCAAgCoY,KAAMH,MAKtE,6BAA4BG,KAAMH,EAAGC,iBACrCC,EAAO,GAAM,OACbA,EAAO,GAAM,YAAYC,KAAMH,GAGnC,IAAIJ,GAAUM,EAAM,IAAM,GACtBL,EAAUK,EAAM,IAAM,GAC1B,OAAO,IAAIP,GAAYC,EAASC,IAG7BC,EAAAM,WAAP,WACI,GAAI9V,GAA0B,GAAIqV,GAAY,SAAU,SACxD,KACOU,YACC/V,EAAcwV,EAAaC,QAAQM,UAAUC,YAEpD,MAAM5X,GACH6X,QAAQC,IAAI9X,EAAE+X,OAElB,MAAOnW,IAEfwV,IAtCahb,GAAAgb,gB7BmjEP,SAAU/a,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G8BlkEtD,IAAA8a,GAAA,mBAAAA,MAoGA,MAlGkBA,GAAAC,QAAd,SAAsBC,GAClB,GAAInO,GAAuBmO,EAAIV,MAAM,mCACrC,OAAe,QAAXzN,OAA8BpL,KAAXoL,GAAwBA,EAAO5K,QAAU,EACrD,KAEJ,KACF,IAAM6Q,SAASjG,EAAO,GAAG,IAAI6G,SAAS,KAAKnR,OAAO,IAClD,IAAMuQ,SAASjG,EAAO,GAAG,IAAI6G,SAAS,KAAKnR,OAAO,IAClD,IAAMuQ,SAASjG,EAAO,GAAG,IAAI6G,SAAS,KAAKnR,OAAO,IAG7CuY,EAAAG,SAAd,SAAuBC,GACnB,GAAInb,EACJ,IAAG,2BAA2Bob,KAAKD,GAAK,CACpCnb,EAAGmb,EAAIE,UAAU,GAAG9J,MAAM,IACZ,GAAXvR,EAAEkC,SACDlC,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAExC,IAAI2E,GAAqB2W,OAAO,KAAKtb,EAAEkR,KAAK,IAC5C,OAAO,QAASvM,GAAa,GAAI,IAAMA,GAAa,EAAG,IAAiB,IAAZA,GAAiBuM,KAAK,KAAK,IAE3F,KAAM,IAAIhE,OAAM,YAGN6N,EAAAQ,UAAd,SAAwBJ,GACpB,GAAInb,EACJ,IAAG,2BAA2Bob,KAAKD,GAAK,CACpCnb,EAAGmb,EAAIE,UAAU,GAAG9J,MAAM,IACZ,GAAXvR,EAAEkC,SACDlC,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAExC,IAAI2E,GAAqB2W,OAAO,KAAKtb,EAAEkR,KAAK,IAC5C,OAAO,SAAUvM,GAAa,GAAI,IAAMA,GAAa,EAAG,IAAiB,IAAZA,GAAiBuM,KAAK,KAAK,MAE5F,KAAM,IAAIhE,OAAM,YAGN6N,EAAAS,cAAd,SAA4BL,GACxB,GAAInb,EACJ,IAAG,2BAA2Bob,KAAKD,GAAK,CACpCnb,EAAGmb,EAAIE,UAAU,GAAG9J,MAAM,IACZ,GAAXvR,EAAEkC,SACDlC,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAExC,IAAI2E,GAAsB2W,OAAO,KAAKtb,EAAEkR,KAAK,IAC7C,QAASvM,GAAa,GAAI,IAAMA,GAAa,EAAG,IAAiB,IAAZA,GAEzD,KAAM,IAAIuI,OAAM,YAGN6N,EAAAU,SAAd,SAAuBjI,EAAUkI,EAAUpY,GACvCkQ,GAAK,IAAKkI,GAAK,IAAKpY,GAAK,GACzB,IACIqY,GAAGza,EADH4S,EAAMhL,KAAKgL,IAAIN,EAAGkI,EAAGpY,GAAIuQ,EAAM/K,KAAK+K,IAAIL,EAAGkI,EAAGpY,GACxCzD,GAAKiU,EAAMD,GAAO,CAE5B,IAAGC,GAAOD,EACN8H,EAAIza,EAAI,MACP,CACD,GAAIhB,GAAI4T,EAAMD,CAEd,QADA3S,EAAIrB,EAAI,GAAMK,GAAK,EAAI4T,EAAMD,GAAO3T,GAAK4T,EAAMD,GACxCC,GACH,IAAKN,GAAGmI,GAAKD,EAAIpY,GAAKpD,GAAKwb,EAAIpY,EAAI,EAAI,EAAI,MAC3C,KAAKoY,GAAGC,GAAKrY,EAAIkQ,GAAKtT,EAAI,CAAG,MAC7B,KAAKoD,GAAGqY,GAAKnI,EAAIkI,GAAKxb,EAAI,EAE9Byb,GAAK,EAGT,OAAQ7S,KAAK4K,MAAU,IAAJiI,GAAU7S,KAAK4K,MAAU,IAAJxS,GAAU4H,KAAK4K,MAAU,IAAJ7T,KAGnDkb,EAAAa,SAAd,SAAuBpI,EAAUkI,EAAUpY,GACvC,GAGIqY,GAAGza,EAHH2S,EAAM/K,KAAK+K,IAAIL,EAAGkI,EAAGpY,GACrBwQ,EAAMhL,KAAKgL,IAAIN,EAAGkI,EAAGpY,GACrBuY,EAAQ/H,EAAMD,EACRiI,EAAIhI,CAGd,OADAgI,GAAIhT,KAAK4K,MAAMI,EAAM,IAAM,KACf,GAAPA,GAIO,EAAG,EAAG,IAHd5S,EAAI4H,KAAK4K,MAAMmI,EAAQ/H,EAAM,KAO7B6H,EADAnI,GAAKM,GACC4H,EAAIpY,GAAMuY,EACXH,GAAK5H,EACN,GAAMxQ,EAAIkQ,GAAMqI,EAEhB,GAAMrI,EAAIkI,GAAMG,EAExBF,EAAI7S,KAAK4K,MAAU,GAAJiI,GACXA,EAAI,IAAIA,GAAK,MAETA,EAAGza,EAAG4a,KAGtBf,IApGa5b,GAAA4b,c9B2qEP,SAAU3b,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,G+B/qEtD,IAAA8b,GAAA,mBAAAA,MA2CA,MA1CkBA,GAAAC,cAAd,SAA4BC,EAAuBC,EAAcC,GAC7D,GAAIC,GAAWL,EAAYM,OAAOJ,EAElC,OAAO,IAAIK,GAAOJ,EAAQE,EAAS/L,KAAM8L,EAAQC,EAAS9L,MAGhDyL,EAAAM,OAAd,SAAsBjL,GAClB,GAAImL,GACAC,GAAQlM,IAAK,EAAGD,KAAM,GACtBoM,EAAmBrL,EACnBsL,EAAeD,GAAQA,EAAKE,aAEhC,IAAMD,EAAN,CAIA,GAAIE,GAAsBF,EAAIG,eAG9B,OAAMD,GAAQE,SAAUL,IAIxBD,EAAMC,EAAKM,wBACXR,EAAMR,EAAYiB,UAAWN,IAEzBpM,IAAKkM,EAAIlM,KAASiM,EAAIU,aAAeL,EAAQM,YAAiBN,EAAQO,WAAc,GACpF9M,KAAMmM,EAAInM,MAASkM,EAAIa,aAAeR,EAAQS,aAAiBT,EAAQU,YAAc,KAP9Ed,IAWAT,EAAAiB,UAAf,SAA0BP,GAKtB,MAJyBV,GAAYwB,SAAUd,GAC3CA,EACkB,IAAlBA,EAAKe,SACLf,EAAkB,aAAKA,EAAmB,aAAI,MAIvCV,EAAAwB,SAAf,SAAyBd,GACrB,MAAe,OAARA,GAAgBA,EAAKzb,eAAe,WAAayb,GAAQA,EAAa,QAErFV,IA3Ca5c,GAAA4c,aA6Cb,IAAAO,GAAA,WAII,QAAAA,GAAYhM,EAAKD,GACb9Q,KAAK+Q,IAAMA,EACX/Q,KAAK8Q,KAAOA,EAEpB,MAAAiM,KARand,GAAAmd,U/BurEP,SAAUld,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GgCxuEtD,IAAAwd,GAAA,mBAAAA,MAsCA,MArCkBA,GAAAC,kBAAd,SAAgCC,EAAcC,GAC1C,IAAK,GAAIjY,KAAQiY,IACTD,EAAM3c,eAAe2E,QAA2BjE,KAAhBic,EAAMhY,IAAuC,OAAhBgY,EAAMhY,IAAkC,KAAhBgY,EAAMhY,IAA+BwB,MAAhBwW,EAAMhY,KAChHgY,EAAMhY,GAAQiY,EAAOjY,KAKnB8X,EAAAI,gBAAd,SAA8BF,EAAcC,EAAeE,OAAA,KAAAA,SACvD,KAAK,GAAInY,KAAQiY,GACb,GAAID,EAAM3c,eAAe2E,GAAO,CAC5B,GAAI1F,GAAU6d,EAAe9c,eAAe2E,GAAUgY,EAAMhY,GAAQiY,EAAOjY,EAC3EgY,GAAMhY,GAAQ1F,IAKZwd,EAAAM,cAAd,SAA4BC,GAGxB,IAAK,GAFDC,MACA7V,EAAM4V,EAAQ9b,OACTtC,EAAE,EAAGA,EAAEwI,EAAKxI,IACjB,IAAK,GAAIqB,KAAK+c,GAAQpe,GACdoe,EAAQpe,GAAGoB,eAAeC,KAC1Bgd,EAAIhd,GAAK+c,EAAQpe,GAAGqB,GAIhC,OAAOgd,IAGGR,EAAAS,eAAd,SAA6BC,EAAena,GACxC,IAAK,GAAI2B,KAAQ3B,GACe,kBAAjBA,GAAO2B,KACdwY,EAAOxY,GAAQ3B,EAAO2B,KAItC8X,IAtCate,GAAAse,ahCyxEP,SAAUre,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GiChyEtD,IAAA4Q,GAAApR,EAAA,GACA2e,EAAA3e,EAAA,IACAqR,EAAArR,EAAA,GACA4I,EAAA5I,EAAA,GAIA4e,EAAA,mBAAAA,MAoJA,MAnJeA,GAAAC,oBAAd,SAAkCC,GACjCA,EAAUH,EAAAvM,WAAWQ,KAAK+L,EAAAvM,WAAWO,eAAemM,GACjD,IACIC,GADAC,EAAMF,EAAQhN,MAAM,KAEpBmN,EAAU,EACV5R,KACA1E,EAAMqW,EAAIvc,MACd,GACA,CACIsc,EAAaC,EAAIC,EACjB,IAAIze,GAAQ2R,WAAW4M,EACvB,IAAInZ,MAAMpF,QAAmByB,IAATzB,EAGhB6M,EAAO/K,KAAKyc,OAGhB,CAEI,GAAIrV,GAAIyI,WAAW6M,IAAMC,GACzB5R,GAAO/K,KAAK,GAAIsG,GAAAsB,MAAMkH,EAAAhF,UAAUM,QAAQlM,GAAQ4Q,EAAAhF,UAAUM,QAAQhD,cAGjEuV,EAAUtW,EAEnB,OAAO0E,IAGGuR,EAAAM,QAAd,SAAsB1X,GACrB,MAAQA,GAAIjG,eAAe,MAAQiG,EAAIjG,eAAe,MAGzCqd,EAAAO,oBAAd,SAAkCC,GACjC,GAAIlO,GAAM,EAYP,OAXAkO,GAAQld,QAAQ,SAAA8a,GACR4B,EAAUM,QAAQlC,GAClB9L,GAAOE,EAAAhF,UAAUM,QAAQsQ,EAAKvT,GAAK,IAAM2H,EAAAhF,UAAUM,QAAQsQ,EAAKtT,GAGhEwH,GAAO8L,EAGX9L,GAAO,MAGJyN,EAAAvM,WAAWQ,KAAK1B,IAGb0N,EAAAS,SAAd,SAAuBD,EAAoBE,EAAYC,EAAYC,GAClEA,MAA+Bvd,IAAhBud,GAA4BA,CACxC,IAAItO,KAgBJ,OAfAkO,GAAQld,QAAQ,SAAA8a,GACR4B,EAAUM,QAAQlC,GACdwC,GACAxC,EAAKvT,GAAK6V,EACVtC,EAAKtT,GAAK6V,GAGVrO,EAAI5O,KAAK,GAAIsG,GAAAsB,MAAM8S,EAAKvT,EAAI6V,EAAItC,EAAKtT,EAAI6V,IAGvCC,GACNtO,EAAI5O,KAAK0a,KAIVwC,EAAeJ,EAAUlO,GAGtB0N,EAAAa,UAAd,SAAwBL,EAAoBM,EAAgBC,EAAgBC,EAAoBJ,GAC/FA,MAA+Bvd,IAAhBud,GAA4BA,EACxCI,EAAcA,GAAe,GAAIhX,GAAAsB,MAAM,EAAE,EAEzC,IAAIH,GAAS,GAAIsH,GAAAxI,MACjBkB,GAASA,EAAOJ,MAAM+V,EAAQC,EAAQC,EAEtC,IAAIC,GAAQ9V,EAAOO,eAAe,GAAI1B,GAAAsB,MAAM,EAAG,IAC3CgH,IAiBJ,OAhBAkO,GAAQld,QAAQ,SAAAsF,GACZ,GAAIoX,EAAUM,QAAQ1X,GACtB,CACI,GAAIsY,GAAW/V,EAAOO,eAAe9C,EACjCgY,IACAhY,EAAIiC,EAAIqW,EAASrW,EAAIoW,EAAKpW,EAC1BjC,EAAIkC,EAAIoW,EAASpW,EAAImW,EAAKnW,GAG1BwH,EAAI5O,KAAK,GAAIsG,GAAAsB,MAAM4V,EAASrW,EAAIoW,EAAKpW,EAAGqW,EAASpW,EAAImW,EAAKnW,QAEtD8V,IACRtO,EAAI5O,KAAKkF,KAIVgY,EAAeJ,EAAUlO,GAGtB0N,EAAAmB,WAAd,SAAyBX,EAAoBQ,EAAoBtT,EAAkBkT,GAClFA,MAA+Bvd,IAAhBud,GAA4BA,CACxC,IAAIzV,GAAS,GAAIsH,GAAAxI,MACjBkB,GAASA,EAAOM,OAAO+G,EAAAhF,UAAUC,eAAeC,GAAWsT,EAE3D,IAAI1O,KAgBJ,OAfAkO,GAAQld,QAAQ,SAAAsF,GACZ,GAAIoX,EAAUM,QAAQ1X,GAAM,CACxB,GAAIsY,GAAW/V,EAAOO,eAAe9C,EACjCgY,IACAhY,EAAIiC,EAAIqW,EAASrW,EACjBjC,EAAIkC,EAAIoW,EAASpW,GAGjBwH,EAAI5O,KAAKwd,OAELN,IACRtO,EAAI5O,KAAKkF,KAIVgY,EAAeJ,EAAUlO,GAMtB0N,EAAAoB,6BAAd,SAA2CZ,EAAoBa,GAE3D,GAAI/O,GAAM0N,EAAUS,SAASD,EAASa,EAAgBrP,KAAMqP,EAAgBpP,KAAK,GAC7EqP,EAAe,GAAItX,GAAAsB,MAAM+V,EAAgBrP,KAAOqP,EAAgBnP,MAAQ,EAAGmP,EAAgBpP,IAAMoP,EAAgBlP,OAAS,EAI9H,OAFA6N,GAAUmB,WAAW7O,EAAKgP,EAAcD,EAAgBhX,UAEjDiI,GAMG0N,EAAAuB,6BAAd,SAA2Cf,EAAoBa,GAE3D,GAAIC,GAAe,GAAItX,GAAAsB,MAAM+V,EAAgBrP,KAAOqP,EAAgBnP,MAAQ,EAAGmP,EAAgBpP,IAAMoP,EAAgBlP,OAAS,GAC1HG,EAAM0N,EAAUmB,WAAWX,EAASc,GAAeD,EAAgBhX,UAAU,EAKjF,OAFA2V,GAAUS,SAASnO,GAAM+O,EAAgBrP,MAAOqP,EAAgBpP,KAEzDK,GAEZ0N,IApJalf,GAAAkf,WAsJb,IAAAwB,GAAA,WASC,QAAAA,GAAYhB,GACXtf,KAAKsf,QAAUA,EACftf,KAAKK,GAAK,EACVL,KAAKugB,QAAU,GACfvgB,KAAKwgB,gBAAkB,GACvBxgB,KAAKygB,MAAQ,GAAI3X,GAAAsB,MAAM,EAAG,GAC1BpK,KAAK0gB,QAAU,GAAI5X,GAAAsB,MAAM,EAAG,GAC5BpK,KAAK2gB,QAAU,GAAI7X,GAAAsB,MAAM,EAAG,GAiF9B,MA9EQkW,GAAA9e,UAAAof,MAAP,WACC,MAAO5gB,MAAKK,GAAKL,KAAKsf,QAAQ3c,OAAS,GAGjC2d,EAAA9e,UAAAqf,eAAP,WACC,GAAI7gB,KAAK4gB,QACR,OAAO,CAER,IAAIlgB,GAAQV,KAAKsf,QAAQtf,KAAKK,EAAI,EAClC,QAAyB,gBAATK,IAAqBA,YAAiB4S,UAAwC,MAA7B5S,EAAMsa,MAAM,eAGvEsF,EAAA9e,UAAAsf,kBAAP,WACC,OAAO9gB,KAAKugB,SAEX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACJ,OAAO,EAET,OAAO,GAGDD,EAAA9e,UAAAuf,SAAP,WAEC,MADA/gB,MAAKK,IACEL,KAAKsf,QAAQtf,KAAKK,IAGnBigB,EAAA9e,UAAAwf,YAAP,WACChhB,KAAKwgB,gBAAkBxgB,KAAKugB,QAC5BvgB,KAAKugB,QAAUvgB,KAAK+gB,YAGdT,EAAA9e,UAAAyf,SAAP,WACC,GAAIvf,GAAI1B,KAAK+gB,UACb,OAAO/gB,MAAKkhB,aAAaxf,IAGnB4e,EAAA9e,UAAA2f,kBAAP,WACC,GAAIzf,GAAI1B,KAAKihB,UAEb,OADAjhB,MAAK0gB,QAAUhf,EACRA,GAGD4e,EAAA9e,UAAA4f,kBAAP,WACC,GAAI1f,GAAI1B,KAAKihB,UAEb,OADAjhB,MAAK2gB,QAAUjf,EACRA,GAGD4e,EAAA9e,UAAA6f,yBAAP,WACC,MAAIrhB,MAAKwgB,0BAA2BlN,SACG,KAAtCtT,KAAKwgB,gBAAgBzF,eACiB,KAAtC/a,KAAKwgB,gBAAgBzF,eACiB,KAAtC/a,KAAKwgB,gBAAgBzF,eACiB,KAAtC/a,KAAKwgB,gBAAgBzF,cACd/a,KAAK2gB,QAIL,GAAI7X,GAAAsB,MAAM,EAAIpK,KAAK2gB,QAAQhX,EAAI3J,KAAK0gB,QAAQ/W,EAAG,EAAI3J,KAAK2gB,QAAQ/W,EAAI5J,KAAK0gB,QAAQ9W,IAInF0W,EAAA9e,UAAA0f,aAAP,SAAoBxf,GAKnB,MAJI1B,MAAK8gB,sBACRpf,EAAEiI,GAAK3J,KAAK2gB,QAAQhX,EACpBjI,EAAEkI,GAAK5J,KAAK2gB,QAAQ/W,GAEdlI,GAET4e,IAjGa1gB,GAAA0gB,cjC+1EP,SAAUzgB,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GkC//EtD,IAAA4gB,GAAA,mBAAAA,MASA,MAReA,GAAAC,eAAd,SAA6BC,EAA4BC,GAErD,MADUA,GAAWxQ,OAASwQ,EAAWzQ,MAAUwQ,EAAQvQ,OAASuQ,EAAQxQ,MAAUyQ,EAAWxQ,OAASuQ,EAAQvQ,OAAWwQ,EAAWzQ,MAAQwQ,EAAQxQ,OAI9IsQ,EAAAI,cAAd,SAA4BF,EAA4BG,GACvD,MAAOpY,MAAK+K,IAAIqN,EAAU3Q,MAAQwQ,EAAQxQ,MAAO2Q,EAAU1Q,OAASuQ,EAAQvQ,SAE9EqQ,IATa1hB,GAAA0hB,elCkhFP,SAAUzhB,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GmCvhFtD,IAAAkhB,GAAA1hB,EAAA,IACAqR,EAAArR,EAAA,GACA2hB,EAAA3hB,EAAA,IACA4I,EAAA5I,EAAA,GAGA4hB,EAAA,mBAAAA,MA8HA,MA7HkBA,GAAAC,kBAAd,SAAgCC,EAA8B1F,GAC1D,IAAKA,EACD,MAAO,KAGX,IAAI2F,GAAS3F,EAAM3S,GAAK,EACpBuY,EAAS5F,EAAM1S,GAAK,EAEpBwH,EAAM,IAWV,OAVI4Q,GAAcvgB,eAAe,SAAWugB,EAAcvgB,eAAe,OACrE2P,GAAO+Q,SAAa,GAAIP,GAAApR,UAAUM,KAAOkR,EAAclR,KAAOmR,EAAQlR,IAAMiR,EAAcjR,IAAMmR,KAE3FF,EAAcvgB,eAAe,QAClC2P,GAAON,KAASkR,EAAclR,KAAOmR,GAEhCD,EAAcvgB,eAAe,SAClC2P,GAAOL,IAAQiR,EAAcjR,IAAMmR,IAGhC9Q,GAGG0Q,EAAAM,iCAAd,SAA+CJ,EAA8BK,EAA8CC,EAAkBC,GACzI,GAAIC,GAASH,EAAUrR,OAAS,EAC5ByR,EAAUJ,EAAUpR,QAAU,CAIlC,IAFAqR,EAAYA,GAAaR,EAAeY,wBAEnCV,EAAcvgB,eAAe,UAAaugB,EAAcvgB,eAAe,WACpEugB,EAAcvgB,eAAe,QAAWugB,EAAcvgB,eAAe,UACpE+gB,GAAWC,IAChB,MAAO,KAGX,IAAIN,GAAW,GAAIP,GAAApR,UAAUQ,MAAQgR,EAAchR,MAAQwR,EAAQvR,OAAS+Q,EAAc/Q,OAASwR,GAE/FF,IACAA,EAAoBI,gBAAgBX,EAAe,KAAMG,EAAUG,EAGvE,IAAIM,GAAM5iB,KAAK6iB,mCAAmCb,EAAeG,EAAUG,EAK3E,OAJIM,IACAT,EAAS7f,OAAOsgB,IAGZT,SAAWA,IAGTL,EAAAgB,gBAAd,SAA8Bd,EAA8Be,GACxD,IAAKA,EACD,MAAO,KAGX,IAAI3R,GAAM,IAKV,OAJI4Q,GAAcvgB,eAAe,cAC7B2P,GAAOjI,SAAa6Y,EAAc7Y,SAAW4Z,IAG1C3R,GAGG0Q,EAAAe,mCAAd,SAAiDb,EAA8BgB,EAAuDV,GAClI,IAAKN,EAAcvgB,eAAe,WAAaugB,EAAcvgB,eAAe,UACxE,MAAO,KAGX,IAAI+gB,GAASQ,EAAmBvhB,eAAe,SAAWuhB,EAAmBhS,MAAQgR,EAAchR,MAAQ,EACvGyR,EAAUO,EAAmBvhB,eAAe,UAAYuhB,EAAmB/R,OAAS+Q,EAAc/Q,OAAS,CAG/G,IAFAqR,EAAYA,GAAaR,EAAeY,uBAEnCF,IAAWC,EACZ,MAAO,KAGX,IAAIQ,GAAY,GAAIna,GAAAsB,MAAMoY,EAASF,EAAU3Y,EAAG8Y,EAAUH,EAAU1Y,EACpE,IAAIoY,EAAcvgB,eAAe,aAAeugB,EAAc7Y,SAAU,CAEpE,GAAI+Z,GAAsB,GAAIpa,GAAAsB,MAAM4X,EAAchR,MAAQ,EAAGgR,EAAc/Q,OAAS,GACtFkS,EAAiB,GAAIra,GAAAsB,MAAM6Y,EAAUtZ,GAAKqY,EAAchR,MAAQwR,GAAU,EACzCS,EAAUrZ,GAAKoY,EAAc/Q,OAASwR,GAAW,GAE5EW,EAAY,GAAI7R,GAAAxI,MAEpBqa,GAAYvB,EAAArQ,YAAYjH,OAAO6Y,EAAWpB,EAAc7Y,SAAU+Z,EAGlE,IAAIG,GAAeD,EAAU5Y,eAAeyY,GAExCK,EAAoBF,EAAU5Y,eAAe2Y,GAE7CI,EAAc,GAAIhS,GAAAxI,MAEtBwa,GAAc1B,EAAArQ,YAAYjH,OAAOgZ,GAAcvB,EAAc7Y,SAAUma,GACvEL,EAAYM,EAAY/Y,eAAe6Y,GAK3C,OAFWvS,KAAOkR,EAAclR,KAAOmS,EAAUtZ,EAAGoH,IAAMiR,EAAcjR,IAAMkS,EAAUrZ,IAK9EkY,EAAAY,oBAAd,WACI,MAAO,IAAI5Z,GAAAsB,OAAO,IAAM,KAGd0X,EAAA0B,iBAAd,SAA+BxB,EAA8ByB,EAAcC,EAAqBpB,EAAkBqB,GAC1GA,GACAA,EAAYvhB,QAAU,SAAUwhB,GACxBA,EAAWjB,gBAAgBX,EAAeyB,EAAcC,EAAqBpB,MAM/ER,EAAA+B,eAAd,SAA6Bnc,EAAKgc,GAC9B,GAAKA,EAIL,IAAK,GAAItd,KAAQsd,GACTA,EAAoBjiB,eAAe2E,IAASsB,EAAIjG,eAAe2E,KAC/DsB,EAAItB,GAAQsd,EAAoBtd,KAIhD0b,IA9HaliB,GAAAkiB,kBnCioFP,SAAUjiB,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GoCxoFtD,IAAAojB,GAAA,WACI,QAAAA,MAkBJ,MAdkBA,GAAAC,eAAd,SAA6BC,EAAiB7e,EAAY8e,GACtD9e,EAAMA,EAAI4V,cACU,OAAfkJ,OAAsC9hB,KAAf8hB,IACxBA,EAAa,IAEjB9e,EAAMA,EAAIwN,QAAQ,OAAO,OAAQA,QAAQ,OAAO,MAChD,IAAIuR,GAAQ,GAAItR,QAAO,SAASzN,EAAI,aAChCgf,EAAKD,EAAMjJ,KAAK+I,EAASjJ,cAC7B,OAAS,OAANoJ,EACQF,EAEAE,EAAG,IAGtBL,IAnBalkB,GAAAkkB,YpCqqFP,SAAUjkB,EAAQD,EAASM,GAEjC,YAEAa,QAAOC,eAAepB,EAAS,cAAgBc,OAAO,GqCzqFtD,IAAA0jB,GAAA,WACI,QAAAA,MAaJ,MATkBA,GAAAC,kBAAd,SAAgCC,GAE5B,OADc,GAAIC,YACHC,gBAAgBF,EAAW,aAGhCF,EAAAK,wBAAd,SAAsC5S,GAElC,OADgB,GAAK6S,gBAAiBC,kBAAkB9S,IAGhEuS,IAdaxkB,GAAAwkB,YrC+rFP,SAAUvkB,EAAQD,EAASM,GAEjC,YAKA,SAAS0kB,GAASpkB,GACd,IAAK,GAAIkB,KAAKlB,GAAQZ,EAAQ6B,eAAeC,KAAI9B,EAAQ8B,GAAKlB,EAAEkB,IAEpEX,OAAOC,eAAepB,EAAS,cAAgBc,OAAO,IsCtsFtDkkB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,IAEA0kB,EAAA1kB,EAAA,IACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,IACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,IACA0kB,EAAA1kB,EAAA,IACA0kB,EAAA1kB,EAAA,IACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KAIA0kB,EAAA1kB,EAAA,IAEA0kB,EAAA1kB,EAAA,IACA0kB,EAAA1kB,EAAA,IACA0kB,EAAA1kB,EAAA,IAKA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA,KACA0kB,EAAA1kB,EAAA","file":"lavenderJS-UMD.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Lavender\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Lavender\"] = factory();\n\telse\n\t\troot[\"Lavender\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Lavender\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Lavender\"] = factory();\n\telse\n\t\troot[\"Lavender\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 36);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 4/18/17.\r\n */\r\nvar Binder_1 = __webpack_require__(13);\r\nvar Subject = (function () {\r\n    function Subject() {\r\n        this.observerHash = {};\r\n        this.binder = new Binder_1.Binder();\r\n    }\r\n    ;\r\n    Subject.prototype.notify = function (value, chain) {\r\n        if (!this.observerHash.hasOwnProperty(chain) || this.observerHash[chain] == null || this.observerHash[chain] == undefined) {\r\n            //property is not bound\r\n            return;\r\n        }\r\n        this.observerHash[chain].forEach(function (observer) {\r\n            observer.update(value, chain);\r\n        });\r\n    };\r\n    Subject.prototype.addObserver = function (observer) {\r\n        if (!this.observerHash.hasOwnProperty(observer.chain) || this.observerHash[observer.chain] == null || this.observerHash[observer.chain] == undefined) {\r\n            this.observerHash[observer.chain] = [];\r\n            //TODO: Once ArrayList is ported over comment this back in and remove the line above\r\n            //this.observerHash[observer.chain] = new Lavender.ArrayList ();\r\n        }\r\n        this.observerHash[observer.chain].push(observer);\r\n        //TODO: Once ArrayList is ported over comment this back in and remove the line above\r\n        //this.observerHash[observer.chain].addItem(observer);\r\n    };\r\n    Subject.prototype.removeObserver = function (observer) {\r\n        if (!this.observerHash.hasOwnProperty(observer.chain) || this.observerHash[observer.chain] == null || this.observerHash[observer.chain] == undefined) {\r\n            throw 'Property not found in registered observers';\r\n        }\r\n        //TODO: Once ArrayList is ported over comment this back in and remove everything above to line 41\r\n        //this.observerHash[observer.chain].removeItemAt(this.observerHash[observer.chain].indexOf(observer, 0));\r\n        //TODO: Once ArrayList is ported over remove this\r\n        var m_count = this.observerHash[observer.chain].length;\r\n        var index = this.observerHash[observer.chain].indexOf(observer, 0);\r\n        if (m_count > 0 && index > -1 && index < this.observerHash[observer.chain].length) {\r\n            switch (index) {\r\n                case 0:\r\n                    this.observerHash[observer.chain].shift();\r\n                    break;\r\n                case m_count - 1:\r\n                    this.observerHash[observer.chain].pop();\r\n                    break;\r\n                default:\r\n                    var head = this.observerHash[observer.chain].slice(0, index);\r\n                    var tail = this.observerHash[observer.chain].slice(index + 1);\r\n                    this.observerHash[observer.chain] = head.concat(tail);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    //legacy method for pure Javascript application to define accessor methods. DO NOT USE\r\n    Subject.prototype.addProperty = function (label, getter, setter) {\r\n        if (Object.defineProperty) {\r\n            try {\r\n                Object.defineProperty(this, label, {\r\n                    get: getter,\r\n                    set: setter,\r\n                    // Properties have to be enumerable otherwise they will be skipped during\r\n                    // for-in loop (which causes problems in CopyUtils)\r\n                    enumerable: true\r\n                });\r\n            }\r\n            catch (e) {\r\n                // IE8 Bullshit implementation of Object.defineProperty\r\n            }\r\n        }\r\n        else if (this['__defineGetter__']) {\r\n            if (getter) {\r\n                this['__defineGetter__'](label, getter);\r\n            }\r\n            if (setter) {\r\n                this['__defineGetter__'](label, setter);\r\n            }\r\n        }\r\n    };\r\n    //legacy method for pure Javascript application to define accessor methods. DO NOT USE\r\n    Subject.prototype.addProperties = function (p) {\r\n        for (var label in p) {\r\n            if (p.hasOwnProperty(label)) {\r\n                this.addProperty(label, p[label].get, p[label].set);\r\n            }\r\n        }\r\n    };\r\n    return Subject;\r\n}());\r\nexports.Subject = Subject;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Subject_1 = __webpack_require__(0);\r\nvar ObjectUtils_1 = __webpack_require__(2);\r\nvar EventDispatcher_1 = __webpack_require__(3);\r\nvar CollectionEvent_1 = __webpack_require__(7);\r\nvar ArrayList = (function (_super) {\r\n    __extends(ArrayList, _super);\r\n    function ArrayList(source, allowDuplicates) {\r\n        if (allowDuplicates === void 0) { allowDuplicates = true; }\r\n        var _this = _super.call(this) || this;\r\n        _this.aList = (source) ? source : [];\r\n        _this.allowDuplicates = allowDuplicates;\r\n        ObjectUtils_1.ObjectUtils.mixin(EventDispatcher_1.EventDispatcher, ArrayList, _this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ArrayList.prototype, \"length\", {\r\n        get: function () {\r\n            return this.aList.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ArrayList.prototype.clone = function () {\r\n        return new ArrayList(this.aList.slice());\r\n    };\r\n    ArrayList.prototype.source = function () {\r\n        return this.aList;\r\n    };\r\n    ArrayList.prototype.allowInsert = function (object, hash, key) {\r\n        var returnValue = true;\r\n        if (!this.allowDuplicates) {\r\n            if (hash !== null && hash !== undefined && key !== null && key !== undefined && object.hasOwnProperty(key) && object[key] !== null && object[key] !== undefined && hash[object[key]] !== null && hash[object[key]] !== undefined) {\r\n                returnValue = false; //the item is a duplicate based on the hash. sometimes we receive newly deserialized objects which makes a lookup based on equality a no go. Instead we look up the object in a hash based on some key\r\n            }\r\n            else if (this.aList.indexOf(object) >= 0) {\r\n                returnValue = false; //the item is a duplicate based on equality comparison\r\n            }\r\n        }\r\n        return returnValue;\r\n    };\r\n    ArrayList.prototype.addItem = function (object, hash, key) {\r\n        if (!this.allowInsert(object, hash, key)) {\r\n            //replace the existing item with the new item\r\n            return;\r\n        }\r\n        //Object are placed at the end of the array\r\n        var index = this.aList.push(object);\r\n        this.dispatch(new CollectionEvent_1.CollectionEvent(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE, { type: 'add', item: object }));\r\n        return index;\r\n    };\r\n    ArrayList.prototype.addAll = function (items, replaceIndex) {\r\n        //add all items to the collection\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (items[i].hasOwnProperty('addItemAt') && !isNaN(items[i].addItemAt)) {\r\n                //object:any, index:number, suppressChangeEvent:boolean=false, hash?:Object, key?:string, replaceIndex:boolean=false\r\n                this.insert(items[i].item, items[i].addItemAt, true, null, null, replaceIndex);\r\n            }\r\n            else {\r\n                this.addItem(items[i]);\r\n            }\r\n        }\r\n        this.dispatch(new CollectionEvent_1.CollectionEvent(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE, { type: 'addAll', items: items }));\r\n    };\r\n    ArrayList.prototype.getItemAt = function (index) {\r\n        if (index > -1 && index < this.aList.length)\r\n            return this.aList[index];\r\n        else\r\n            return undefined; //Out of bound array, return undefined\r\n    };\r\n    ArrayList.prototype.clear = function () {\r\n        this.aList = [];\r\n        this.dispatch(new CollectionEvent_1.CollectionEvent(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE, { type: 'removeAll' }));\r\n    };\r\n    ArrayList.prototype.clearHash = function (hash) {\r\n        for (var prop in hash) {\r\n            hash[prop] = null;\r\n            delete hash[prop];\r\n        }\r\n    };\r\n    ArrayList.prototype.removeItemFromHash = function (hash, key) {\r\n        hash[key] = null;\r\n        delete hash[key];\r\n    };\r\n    ArrayList.prototype.removeItemAt = function (index) {\r\n        var m_count = this.aList.length;\r\n        var item = this.getItemAt(index);\r\n        if (m_count > 0 && index > -1 && index < this.aList.length) {\r\n            switch (index) {\r\n                case 0:\r\n                    this.aList.shift();\r\n                    break;\r\n                case m_count - 1:\r\n                    this.aList.pop();\r\n                    break;\r\n                default:\r\n                    var head = this.aList.slice(0, index);\r\n                    var tail = this.aList.slice(index + 1);\r\n                    this.aList = head.concat(tail);\r\n                    break;\r\n            }\r\n        }\r\n        this.dispatch(new CollectionEvent_1.CollectionEvent(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE, { type: 'remove', item: item }));\r\n    };\r\n    ArrayList.prototype.insert = function (object, index, suppressChangeEvent, hash, key, replaceIndex) {\r\n        if (suppressChangeEvent === void 0) { suppressChangeEvent = false; }\r\n        if (replaceIndex === void 0) { replaceIndex = false; }\r\n        if (!this.allowInsert(object, hash, key)) {\r\n            return;\r\n        }\r\n        var m_count = this.aList.length;\r\n        var m_returnValue = -1;\r\n        if (index > -1) {\r\n            switch (index) {\r\n                case 0:\r\n                    this.aList.unshift(object);\r\n                    m_returnValue = 0;\r\n                    break;\r\n                case m_count:\r\n                    this.aList.push(object);\r\n                    m_returnValue = m_count;\r\n                    break;\r\n                default:\r\n                    if (index > m_count) {\r\n                        for (var i = 0; i < index - m_count; i++) {\r\n                            this.aList.push(null);\r\n                        }\r\n                    }\r\n                    var head = this.aList.slice(0, index);\r\n                    var tailIndex = (replaceIndex) ? index + 1 : index; //if we are to replace the current index in the array use index +1 which should drop the old item from the array\r\n                    var tail = this.aList.slice(tailIndex);\r\n                    tail.unshift(object);\r\n                    this.aList = head.concat(tail);\r\n                    m_returnValue = index;\r\n                    break;\r\n            }\r\n        }\r\n        if (!suppressChangeEvent) {\r\n            this.dispatch(new CollectionEvent_1.CollectionEvent(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE, { type: 'add', item: object }));\r\n        }\r\n        return m_returnValue;\r\n    };\r\n    ArrayList.prototype.changeIndex = function (fromIndex, toIndex, suppressChangeEvent) {\r\n        var object = this.aList[fromIndex];\r\n        this.aList.splice(toIndex, 0, this.aList.splice(fromIndex, 1)[0]);\r\n        if (!suppressChangeEvent) {\r\n            this.dispatch(new CollectionEvent_1.CollectionEvent(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE_ORDER, { type: 'change', item: object, fromIndex: fromIndex, toIndex: toIndex }));\r\n        }\r\n    };\r\n    ArrayList.prototype.swapIndex = function (fromIndex, toIndex, suppressChangeEvent) {\r\n        var object = this.aList[fromIndex];\r\n        this.aList[toIndex] = this.aList.splice(fromIndex, 1, this.aList[toIndex])[0];\r\n        if (!suppressChangeEvent) {\r\n            this.dispatch(new CollectionEvent_1.CollectionEvent(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE_ORDER, { type: 'swap', item: object, fromIndex: fromIndex, toIndex: toIndex }));\r\n        }\r\n    };\r\n    ArrayList.prototype.indexOf = function (object, startIndex) {\r\n        if (startIndex === null || startIndex === undefined) {\r\n            startIndex = 0;\r\n        }\r\n        var m_count = this.aList.length;\r\n        var m_returnValue = -1;\r\n        if (startIndex > -1 && startIndex < m_count) {\r\n            var i = startIndex;\r\n            while (i < m_count) {\r\n                if (this.aList[i] == object) {\r\n                    m_returnValue = i;\r\n                    break;\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n        return m_returnValue;\r\n    };\r\n    ArrayList.prototype.lastIndexOf = function (object, startIndex) {\r\n        var m_count = this.aList.length;\r\n        var m_returnValue = -1;\r\n        if (startIndex > -1 && startIndex < m_count) {\r\n            var i = m_count - 1;\r\n            while (i >= startIndex) {\r\n                if (this.aList[i] == object) {\r\n                    m_returnValue = i;\r\n                    break;\r\n                }\r\n                i--;\r\n            }\r\n        }\r\n        return m_returnValue;\r\n    };\r\n    return ArrayList;\r\n}(Subject_1.Subject));\r\nexports.ArrayList = ArrayList;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/11/17.\r\n */\r\nvar ObjectUtils = (function () {\r\n    function ObjectUtils() {\r\n    }\r\n    ;\r\n    ObjectUtils.extend = function (base, sub) {\r\n        // Avoid instantiating the base class just to setup inheritance\r\n        // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\r\n        sub.prototype = Object.create(base.prototype);\r\n        // Remember the constructor property was set wrong, let's fix it\r\n        sub.prototype.constructor = sub;\r\n    };\r\n    ObjectUtils.mixin = function (base, sub, subInstance, overwriteInstanceVariables) {\r\n        if (overwriteInstanceVariables === void 0) { overwriteInstanceVariables = false; }\r\n        var objectToExtend = new base();\r\n        //Grab methods and properties defined through prototypal inheritance\r\n        for (var prop in base.prototype) {\r\n            if (base.prototype.hasOwnProperty(prop)) {\r\n                sub.prototype[prop] = base.prototype[prop];\r\n            }\r\n        }\r\n        //grab instance variables and function\r\n        for (var prop in objectToExtend) {\r\n            if (objectToExtend.hasOwnProperty(prop)) {\r\n                //if an object defines an instance variable or function we don't want to overwrite it unless specified\r\n                if (subInstance[prop] !== null && subInstance[prop] !== undefined && !overwriteInstanceVariables) {\r\n                    continue;\r\n                }\r\n                subInstance[prop] = objectToExtend[prop];\r\n            }\r\n        }\r\n        return subInstance;\r\n    };\r\n    ObjectUtils.hasFunction = function (obj, prop) {\r\n        return (obj && typeof obj[prop] === 'function');\r\n    };\r\n    ObjectUtils.isPropDefined = function (obj, prop) {\r\n        if (obj && obj.hasOwnProperty(prop) && obj[prop] != undefined && obj[prop] != null && obj[prop] != NaN) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return ObjectUtils;\r\n}());\r\nexports.ObjectUtils = ObjectUtils;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Listener = (function () {\r\n    function Listener(handler, instance) {\r\n        this.handler = handler;\r\n        this.instance = instance;\r\n    }\r\n    return Listener;\r\n}());\r\nvar EventDispatcher = (function () {\r\n    function EventDispatcher() {\r\n        this.handlersByEventName = {};\r\n    }\r\n    ;\r\n    EventDispatcher.prototype.addEventListener = function (event, instance, handler) {\r\n        if (this.handlersByEventName[event] === null || this.handlersByEventName[event] === undefined) {\r\n            this.handlersByEventName[event] = [];\r\n        }\r\n        this.handlersByEventName[event].push(new Listener(handler, instance));\r\n    };\r\n    EventDispatcher.prototype.canListen = function (eventType, instance, handler) {\r\n        var canListen = false;\r\n        if (this.handlersByEventName[eventType] !== null && this.handlersByEventName[eventType] !== undefined) {\r\n            for (var handlerIndex = 0; handlerIndex < this.handlersByEventName[eventType].length; handlerIndex++) {\r\n                var handlerFunctionName = this.handlersByEventName[eventType][handlerIndex].handler;\r\n                var objectInstance = this.handlersByEventName[eventType][handlerIndex].instance;\r\n                if (handlerFunctionName == handler && objectInstance == instance) {\r\n                    canListen = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return canListen;\r\n    };\r\n    EventDispatcher.prototype.removeEventListener = function (event, instance, handler) {\r\n        if (this.handlersByEventName[event] === null || this.handlersByEventName[event] === undefined) {\r\n            return;\r\n        }\r\n        for (var handlerIndex = 0; handlerIndex < this.handlersByEventName[event].length; handlerIndex++) {\r\n            if (this.handlersByEventName[event][handlerIndex].instance == instance && this.handlersByEventName[event][handlerIndex].handler == handler) {\r\n                var itemToRemove = this.handlersByEventName[event][handlerIndex];\r\n                switch (handlerIndex) {\r\n                    case 0:\r\n                        this.handlersByEventName[event].shift();\r\n                        break;\r\n                    case this.handlersByEventName[event].length - 1:\r\n                        this.handlersByEventName[event].pop();\r\n                        break;\r\n                    default:\r\n                        var head = this.handlersByEventName[event].slice(0, handlerIndex);\r\n                        var tail = this.handlersByEventName[event].slice(handlerIndex + 1);\r\n                        this.handlersByEventName[event] = head.concat(tail);\r\n                        break;\r\n                }\r\n                //there can be only one item matching event, instance, handler so we return here\r\n                return itemToRemove;\r\n            }\r\n        }\r\n    };\r\n    EventDispatcher.prototype.removeAllEventListeners = function (instance) {\r\n        for (var event_1 in this.handlersByEventName) {\r\n            for (var handlerIndex = this.handlersByEventName[event_1].length - 1; handlerIndex >= 0; handlerIndex--) {\r\n                if (this.handlersByEventName[event_1][handlerIndex].instance == instance) {\r\n                    this.removeEventListener(event_1, instance, this.handlersByEventName[event_1][handlerIndex].handler);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventDispatcher.prototype.dispatch = function (event) {\r\n        if (this.handlersByEventName[event.type] === null || this.handlersByEventName[event.type] === undefined) {\r\n            return;\r\n        }\r\n        // We need to make a copy of event handles before dispatching.\r\n        // If the handler removes itself from the event queue during dispatching, it triggers removeEventListener, which\r\n        // changes the array and this messes up the entire dispatch process (some handlers are never called).\r\n        var dispatchToList = this.handlersByEventName[event.type].slice();\r\n        var len = dispatchToList.length;\r\n        for (var handlerIndex = 0; handlerIndex < len; ++handlerIndex) {\r\n            var handlerFunctionName = dispatchToList[handlerIndex].handler;\r\n            var instance = dispatchToList[handlerIndex].instance;\r\n            instance[handlerFunctionName](event);\r\n        }\r\n    };\r\n    return EventDispatcher;\r\n}());\r\nexports.EventDispatcher = EventDispatcher;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 6/30/17.\r\n */\r\nvar Point_1 = __webpack_require__(5);\r\nvar Matrix = (function () {\r\n    function Matrix(a, b, c, d, tx, ty) {\r\n        if (a === void 0) { a = 1; }\r\n        if (b === void 0) { b = 0; }\r\n        if (c === void 0) { c = 0; }\r\n        if (d === void 0) { d = 1; }\r\n        if (tx === void 0) { tx = 0; }\r\n        if (ty === void 0) { ty = 0; }\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }\r\n    Matrix.rotation = function (theta, aboutPoint) {\r\n        if (aboutPoint === void 0) { aboutPoint = null; }\r\n        var rotationMatrix = new Matrix(Math.cos(theta), Math.sin(theta), -Math.sin(theta), Math.cos(theta));\r\n        if (aboutPoint) {\r\n            rotationMatrix =\r\n                Matrix.translation(aboutPoint.x, aboutPoint.y).concat(rotationMatrix).concat(Matrix.translation(-aboutPoint.x, -aboutPoint.y));\r\n        }\r\n        return rotationMatrix;\r\n    };\r\n    Matrix.scale = function (sx, sy, aboutPoint) {\r\n        sy = sy || sx;\r\n        var scaleMatrix = new Matrix(sx, 0, 0, sy);\r\n        if (aboutPoint) {\r\n            scaleMatrix =\r\n                Matrix.translation(aboutPoint.x, aboutPoint.y).concat(scaleMatrix).concat(Matrix.translation(-aboutPoint.x, -aboutPoint.y));\r\n        }\r\n        return scaleMatrix;\r\n    };\r\n    Matrix.translation = function (tx, ty) {\r\n        return new Matrix(1, 0, 0, 1, tx, ty);\r\n    };\r\n    ;\r\n    Matrix.prototype.concat = function (matrix) {\r\n        return new Matrix(this.a * matrix.a + this.c * matrix.b, this.b * matrix.a + this.d * matrix.b, this.a * matrix.c + this.c * matrix.d, this.b * matrix.c + this.d * matrix.d, this.a * matrix.tx + this.c * matrix.ty + this.tx, this.b * matrix.tx + this.d * matrix.ty + this.ty);\r\n    };\r\n    Matrix.prototype.deltaTransformPoint = function (point) {\r\n        return new Point_1.Point(this.a * point.x + this.c * point.y, this.b * point.x + this.d * point.y);\r\n    };\r\n    Matrix.prototype.inverse = function () {\r\n        var determinant = this.a * this.d - this.b * this.c;\r\n        return new Matrix(this.d / determinant, -this.b / determinant, -this.c / determinant, this.a / determinant, (this.c * this.ty - this.d * this.tx) / determinant, (this.b * this.tx - this.a * this.ty) / determinant);\r\n    };\r\n    Matrix.prototype.rotate = function (theta, aboutPoint) {\r\n        return this.concat(Matrix.rotation(theta, aboutPoint));\r\n    };\r\n    Matrix.prototype.scale = function (sx, sy, aboutPoint) {\r\n        return this.concat(Matrix.scale(sx, sy, aboutPoint));\r\n    };\r\n    Matrix.prototype.transformPoint = function (point) {\r\n        return new Point_1.Point(this.a * point.x + this.c * point.y + this.tx, this.b * point.x + this.d * point.y + this.ty);\r\n    };\r\n    Matrix.prototype.translate = function (tx, ty) {\r\n        return this.concat(Matrix.translation(tx, ty));\r\n    };\r\n    Matrix.IDENTITY = new Matrix();\r\n    Matrix.HORIZONTAL_FLIP = new Matrix(-1, 0, 0, 1);\r\n    Matrix.VERTICAL_FLIP = new Matrix(1, 0, 0, -1);\r\n    return Matrix;\r\n}());\r\nexports.Matrix = Matrix;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 6/30/17.\r\n */\r\nvar Point = (function () {\r\n    function Point(x, y) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    Point.distance = function (p1, p2) {\r\n        return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\r\n    };\r\n    Point.direction = function (p1, p2) {\r\n        return Math.atan2(p2.y - p1.y, p2.x - p1.x);\r\n    };\r\n    Point.prototype.equal = function (other) {\r\n        return this.x === other.x && this.y === other.y;\r\n    };\r\n    Point.prototype.add = function (other) {\r\n        return new Point(this.x + other.x, this.y + other.y);\r\n    };\r\n    Point.prototype.subtract = function (other) {\r\n        return new Point(this.x - other.x, this.y - other.y);\r\n    };\r\n    Point.prototype.scale = function (scalar) {\r\n        return new Point(this.x * scalar, this.y * scalar);\r\n    };\r\n    Point.prototype.magnitude = function () {\r\n        return Point.distance(new Point(0, 0), this);\r\n    };\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractEvent = (function () {\r\n    function AbstractEvent(type, payload) {\r\n        this.type = type;\r\n        this.payload = payload;\r\n    }\r\n    return AbstractEvent;\r\n}());\r\nexports.AbstractEvent = AbstractEvent;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractEvent_1 = __webpack_require__(6);\r\nvar CollectionEvent = (function (_super) {\r\n    __extends(CollectionEvent, _super);\r\n    function CollectionEvent(type, payload) {\r\n        return _super.call(this, type, payload) || this;\r\n    }\r\n    CollectionEvent.prototype.clone = function (type, payload) {\r\n        return new CollectionEvent(this.type, this.payload);\r\n    };\r\n    CollectionEvent.COLLECTION_CHANGE = 'collectionChange';\r\n    CollectionEvent.COLLECTION_CHANGE_ORDER = 'collectionChangeOrder';\r\n    return CollectionEvent;\r\n}(AbstractEvent_1.AbstractEvent));\r\nexports.CollectionEvent = CollectionEvent;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractEvent_1 = __webpack_require__(6);\r\nvar RecordSetEvent = (function (_super) {\r\n    __extends(RecordSetEvent, _super);\r\n    function RecordSetEvent(type, payload) {\r\n        return _super.call(this, type, payload) || this;\r\n    }\r\n    RecordSetEvent.prototype.clone = function (type, payload) {\r\n        return new RecordSetEvent(this.type, this.payload);\r\n    };\r\n    RecordSetEvent.TOTALRECORDS_CHANGE = 'totalRecordsChange';\r\n    RecordSetEvent.TOTALPAGES_CHANGE = 'totalPagesChange';\r\n    RecordSetEvent.PAGE_LIST_CHANGE = 'pageListChange';\r\n    RecordSetEvent.RESULTS_CHANGE = 'resultsChange';\r\n    RecordSetEvent.RECORDS_PER_PAGE_CHANGE = 'recordsPerPageChange';\r\n    RecordSetEvent.SELECTED_PAGE_CHANGE = 'selectedPageChange';\r\n    RecordSetEvent.RECORDSETS_CHANGE = 'recordsetChange';\r\n    RecordSetEvent.LOAD_PAGE_DATA = 'loadRecordSetPageData';\r\n    return RecordSetEvent;\r\n}(AbstractEvent_1.AbstractEvent));\r\nexports.RecordSetEvent = RecordSetEvent;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 6/30/17.\r\n */\r\nvar MathUtils = (function () {\r\n    function MathUtils() {\r\n    }\r\n    MathUtils.degreeToRadian = function (degAngle) {\r\n        return degAngle * Math.PI / 180;\r\n    };\r\n    MathUtils.radianToDegree = function (radAngle) {\r\n        return radAngle * 180 / Math.PI;\r\n    };\r\n    MathUtils.toFixed = function (number, precision) {\r\n        if (precision === void 0) { precision = 10; }\r\n        var multiplier = Math.pow(10, precision);\r\n        return Math.round(number * multiplier) / multiplier;\r\n    };\r\n    MathUtils.isEven = function (value) {\r\n        return ((value % 2) == 0);\r\n    };\r\n    return MathUtils;\r\n}());\r\nexports.MathUtils = MathUtils;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArrayList_1 = __webpack_require__(1);\r\nvar UuidUtils_1 = __webpack_require__(20);\r\nvar AbstractHttpService = (function () {\r\n    function AbstractHttpService() {\r\n        this.responders = new ArrayList_1.ArrayList();\r\n    }\r\n    //Overriden by subclass\r\n    AbstractHttpService.prototype.success = function (result) {\r\n    };\r\n    //Overriden by subclass\r\n    AbstractHttpService.prototype.fault = function (fault) {\r\n    };\r\n    AbstractHttpService.prototype.addResponder = function (responder) {\r\n        if (responder.fault === null || responder.fault === undefined || responder.success === null || responder.success === undefined) {\r\n            throw new Error('responder must define fault and success methods');\r\n        }\r\n        return this.responders.addItem(responder);\r\n    };\r\n    AbstractHttpService.prototype.removeResponder = function (responder) {\r\n        if (responder.fault === null || responder.fault === undefined || responder.success === null || responder.success === undefined) {\r\n            throw new Error('responder must define fault and success methods');\r\n        }\r\n        var index = this.responders.indexOf(responder);\r\n        this.responders.removeItemAt(index);\r\n    };\r\n    AbstractHttpService.prototype.send = function (type, url, data, contentType, dataType, cache) {\r\n        this.requestId = UuidUtils_1.UuidUtils.generateUUID();\r\n        return this.requestId;\r\n    };\r\n    AbstractHttpService.prototype.destroy = function () {\r\n        this.responders.clear();\r\n        this.responders = null;\r\n    };\r\n    return AbstractHttpService;\r\n}());\r\nexports.AbstractHttpService = AbstractHttpService;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HttpFault = (function () {\r\n    function HttpFault(errorObj, status, message, requestId) {\r\n        this.errorObj = errorObj;\r\n        this.status = status;\r\n        this.message = message;\r\n        this.requestId = requestId;\r\n    }\r\n    return HttpFault;\r\n}());\r\nexports.HttpFault = HttpFault;\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HttpSuccess = (function () {\r\n    function HttpSuccess(resultObj, status, requestId) {\r\n        if (resultObj === null || resultObj === undefined && status != 304) {\r\n            throw new Error('resultObj is required');\r\n        }\r\n        if (status === null || status === undefined) {\r\n            throw new Error('status is required');\r\n        }\r\n        this.resultObj = resultObj;\r\n        this.status = status;\r\n        this.requestId = requestId;\r\n    }\r\n    return HttpSuccess;\r\n}());\r\nexports.HttpSuccess = HttpSuccess;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 4/18/17.\r\n */\r\nvar BindingUtils_1 = __webpack_require__(16);\r\nvar Binding = (function () {\r\n    function Binding(host, watcher) {\r\n        this.host = host;\r\n        this.watcher = watcher;\r\n    }\r\n    return Binding;\r\n}());\r\nvar Binder = (function () {\r\n    function Binder() {\r\n        this.bindingGroups = {};\r\n    }\r\n    ;\r\n    Binder.prototype.bind = function (host, hostProp, chain, chainProp, isCSS, cssProperty, group) {\r\n        if (isCSS === void 0) { isCSS = false; }\r\n        if (cssProperty === void 0) { cssProperty = null; }\r\n        if (group === void 0) { group = 'default'; }\r\n        var changeWatcher = BindingUtils_1.BindingUtils.bind(host, hostProp, chain, chainProp, isCSS, cssProperty);\r\n        if (!this.bindingGroups.hasOwnProperty(group)) {\r\n            this.bindingGroups[group] = [];\r\n        }\r\n        var binding = new Binding(host, changeWatcher);\r\n        this.bindingGroups[group].push(binding);\r\n    };\r\n    Binder.prototype.unbind = function (group) {\r\n        if (group === void 0) { group = 'default'; }\r\n        var bindings = this.bindingGroups[group];\r\n        if (bindings) {\r\n            bindings.forEach(function (bindingData) {\r\n                bindingData.host.removeObserver(bindingData.watcher);\r\n            });\r\n            delete this.bindingGroups[group];\r\n        }\r\n    };\r\n    Binder.prototype.unbindAll = function () {\r\n        for (var group in this.bindingGroups) {\r\n            this.unbind(group);\r\n        }\r\n    };\r\n    return Binder;\r\n}());\r\nexports.Binder = Binder;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ChangeWatcher = (function () {\r\n    function ChangeWatcher(hostProp, chainInstance, chainPropToWatch, isCSS, cssProperty) {\r\n        if (isCSS === void 0) { isCSS = false; }\r\n        if (isCSS && !cssProperty) {\r\n            throw new Error('cssProperty property is required when isCSS param is true');\r\n        }\r\n        this.chain = hostProp;\r\n        this.instance = chainInstance;\r\n        this.chainProp = chainPropToWatch;\r\n        this.isCSS = isCSS;\r\n        this.cssProperty = cssProperty;\r\n    }\r\n    ;\r\n    ChangeWatcher.prototype.update = function (value, chain) {\r\n        if (this.isCSS) {\r\n            this.instance[this.chainProp](this.cssProperty, value);\r\n        }\r\n        else if (typeof (this.instance[this.chainProp]) == \"function\") {\r\n            this.instance[this.chainProp](value, chain);\r\n        }\r\n        else {\r\n            if (this.instance[this.chainProp] != value) {\r\n                this.instance[this.chainProp] = value;\r\n            }\r\n        }\r\n    };\r\n    return ChangeWatcher;\r\n}());\r\nexports.ChangeWatcher = ChangeWatcher;\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/17/17.\r\n */\r\nvar ArrayList_1 = __webpack_require__(1);\r\nvar RecordSetList = (function (_super) {\r\n    __extends(RecordSetList, _super);\r\n    function RecordSetList(source, allowDuplicates) {\r\n        if (allowDuplicates === void 0) { allowDuplicates = true; }\r\n        var _this = _super.call(this, source, allowDuplicates) || this;\r\n        _this.recordSetsBySource = {};\r\n        _this.recordSetsById = {};\r\n        return _this;\r\n    }\r\n    RecordSetList.prototype.addItem = function (item, hash, key) {\r\n        this.recordSetsById[item.id] = item;\r\n        this.recordSetsBySource[item.source] = item;\r\n        return _super.prototype.addItem.call(this, item, hash, key);\r\n    };\r\n    RecordSetList.prototype.clear = function () {\r\n        this.clearHash(this.recordSetsById);\r\n        this.clearHash(this.recordSetsBySource);\r\n        _super.prototype.clear.call(this);\r\n    };\r\n    RecordSetList.prototype.removeItemAt = function (index) {\r\n        var recordSet = this.getItemAt(index);\r\n        this.removeItemFromHash(this.recordSetsById, recordSet.id);\r\n        this.removeItemFromHash(this.recordSetsBySource, recordSet.source);\r\n        _super.prototype.removeItemAt.call(this, index);\r\n    };\r\n    RecordSetList.prototype.insert = function (object, index, suppressChangeEvent, hash, key, replaceIndex) {\r\n        if (suppressChangeEvent === void 0) { suppressChangeEvent = false; }\r\n        if (replaceIndex === void 0) { replaceIndex = false; }\r\n        //add item to hash\r\n        this.recordSetsById[object.id] = object;\r\n        this.recordSetsBySource[object.source] = object;\r\n        return _super.prototype.insert.call(this, object, index, suppressChangeEvent, hash, key, replaceIndex);\r\n    };\r\n    return RecordSetList;\r\n}(ArrayList_1.ArrayList));\r\nexports.RecordSetList = RecordSetList;\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ChangeWatcher_1 = __webpack_require__(14);\r\nvar BindingUtils = (function () {\r\n    function BindingUtils() {\r\n    }\r\n    BindingUtils.bind = function (host, hostProp, chain, chainProp, isCSS, cssProperty) {\r\n        var observer = new ChangeWatcher_1.ChangeWatcher(hostProp, chain, chainProp, isCSS, cssProperty);\r\n        host.addObserver(observer);\r\n        return observer;\r\n    };\r\n    return BindingUtils;\r\n}());\r\nexports.BindingUtils = BindingUtils;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 6/30/17.\r\n */\r\nvar Subject_1 = __webpack_require__(0);\r\nvar ObjectUtils_1 = __webpack_require__(2);\r\nvar Geometry = (function (_super) {\r\n    __extends(Geometry, _super);\r\n    function Geometry(values) {\r\n        if (values === void 0) { values = {}; }\r\n        var _this = _super.call(this) || this;\r\n        _this._left = undefined;\r\n        _this._top = undefined;\r\n        _this._width = undefined;\r\n        _this._height = undefined;\r\n        _this.left = values.left;\r\n        _this.top = values.top;\r\n        _this.width = values.width;\r\n        _this.height = values.height;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Geometry.prototype, \"left\", {\r\n        get: function () {\r\n            return this._left;\r\n        },\r\n        set: function (value) {\r\n            this._left = value;\r\n            this.notify(value, \"left\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Geometry.prototype, \"top\", {\r\n        get: function () {\r\n            return this._top;\r\n        },\r\n        set: function (value) {\r\n            this._top = value;\r\n            this.notify(value, \"top\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Geometry.prototype, \"width\", {\r\n        get: function () {\r\n            return this._width;\r\n        },\r\n        set: function (value) {\r\n            this._width = value;\r\n            this.notify(value, \"width\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Geometry.prototype, \"height\", {\r\n        get: function () {\r\n            return this._height;\r\n        },\r\n        set: function (value) {\r\n            this._height = value;\r\n            this.notify(value, \"height\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Geometry.prototype.update = function (values) {\r\n        if (values === void 0) { values = {}; }\r\n        for (var key in values) {\r\n            //note accessor methods that are defined using Object.defineProperty in ES6 are found on the prototype not the object instance, hence the use of getPrototypeOf\r\n            if (ObjectUtils_1.ObjectUtils.isPropDefined(values, key) && Object.getPrototypeOf(this).hasOwnProperty(key)) {\r\n                this[key] = values[key];\r\n            }\r\n        }\r\n    };\r\n    Geometry.prototype.getDefinedValues = function () {\r\n        var _this = this;\r\n        var res = {};\r\n        Object.keys(Object.getPrototypeOf(this)).forEach(function (key) {\r\n            if (_this[key]) {\r\n                res[key] = _this[key];\r\n            }\r\n        });\r\n        return res;\r\n    };\r\n    return Geometry;\r\n}(Subject_1.Subject));\r\nexports.Geometry = Geometry;\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 6/30/17.\r\n */\r\nvar MathUtils_1 = __webpack_require__(9);\r\nvar Matrix_1 = __webpack_require__(4);\r\nvar MatrixUtils = (function () {\r\n    function MatrixUtils() {\r\n    }\r\n    MatrixUtils.rotate = function (matrix, degAngle, point) {\r\n        return matrix.rotate(MathUtils_1.MathUtils.degreeToRadian(degAngle), point);\r\n    };\r\n    MatrixUtils.matrixToCSS = function (matrix) {\r\n        var coeffs = ['a', 'b', 'c', 'd', 'tx', 'ty'];\r\n        var values = [];\r\n        for (var i in coeffs) {\r\n            values.push(MathUtils_1.MathUtils.toFixed(matrix[coeffs[i]]));\r\n        }\r\n        return 'matrix(' + values.join(',') + ')';\r\n    };\r\n    MatrixUtils.getRotationAngleForElement = function (element) {\r\n        var matrix = element.style[\"-webkit-transform\"] ||\r\n            element.style[\"-moz-transform\"] ||\r\n            element.style[\"-ms-transform\"] ||\r\n            element.style[\"-o-transform\"] ||\r\n            element.style[\"transform\"];\r\n        var angle;\r\n        if (matrix !== 'none') {\r\n            var values = matrix.split('(')[1].split(')')[0].split(',');\r\n            var a = values[0];\r\n            var b = values[1];\r\n            angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));\r\n        }\r\n        else {\r\n            angle = 0;\r\n        }\r\n        return angle;\r\n    };\r\n    MatrixUtils.getRotationAngle = function (matrix) {\r\n        return MathUtils_1.MathUtils.toFixed(MathUtils_1.MathUtils.radianToDegree(Math.atan2(matrix.b, matrix.a)));\r\n    };\r\n    MatrixUtils.getMatrix = function (cssTransformMatrix) {\r\n        var values = cssTransformMatrix.split('(')[1];\r\n        values = values.split(')')[0];\r\n        var valuesArray = values.split(',');\r\n        var a = parseFloat(valuesArray[0]);\r\n        var b = parseFloat(valuesArray[1]);\r\n        var c = parseFloat(valuesArray[2]);\r\n        var d = parseFloat(valuesArray[3]);\r\n        var tx = parseFloat(valuesArray[4]);\r\n        var ty = parseFloat(valuesArray[5]);\r\n        return new Matrix_1.Matrix(a, b, c, d, tx, ty);\r\n    };\r\n    return MatrixUtils;\r\n}());\r\nexports.MatrixUtils = MatrixUtils;\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar StringUtil = (function () {\r\n    function StringUtil() {\r\n    }\r\n    StringUtil.substitute = function (str, rest) {\r\n        if (str === null) {\r\n            return '';\r\n        }\r\n        // Replace all of the parameters in the msg string.\r\n        var len = rest.length;\r\n        var args = [];\r\n        if (len == 1 && rest[0] instanceof Array) {\r\n            args = rest[0];\r\n            len = args.length;\r\n        }\r\n        else {\r\n            args = rest;\r\n        }\r\n        for (var i = 0; i < len; i++) {\r\n            str = str.replace(new RegExp('\\\\{' + i + '\\\\}', 'g'), args[i]);\r\n        }\r\n        return str;\r\n    };\r\n    StringUtil.compressSpaces = function (str) {\r\n        return str.replace(/[\\s\\r\\t\\n]+/gm, ' ');\r\n    };\r\n    StringUtil.trim = function (str) {\r\n        if (str == null)\r\n            return '';\r\n        var startIndex = 0;\r\n        while (StringUtil.isWhitespace(str.charAt(startIndex)))\r\n            ++startIndex;\r\n        var endIndex = str.length - 1;\r\n        while (StringUtil.isWhitespace(str.charAt(endIndex)))\r\n            --endIndex;\r\n        if (endIndex >= startIndex)\r\n            return str.slice(startIndex, endIndex + 1);\r\n        else\r\n            return '';\r\n    };\r\n    StringUtil.isWhitespace = function (character) {\r\n        switch (character) {\r\n            case ' ':\r\n            case '\\t':\r\n            case '\\r':\r\n            case '\\n':\r\n            case '\\f':\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    };\r\n    StringUtil.convertCharCodesToString = function (codes) {\r\n        var charArray = codes.split('_');\r\n        var returnValue = new String();\r\n        //this first position in the array is the prefix spi_\r\n        for (var i = 1; i < charArray.length; i++) {\r\n            returnValue += String.fromCharCode(parseInt(charArray[i], 10));\r\n        }\r\n        return returnValue;\r\n    };\r\n    StringUtil.fixedCharCodeAt = function (str, idx) {\r\n        // ex. fixedCharCodeAt ('\\uD800\\uDC00', 0); // 65536\r\n        // ex. fixedCharCodeAt ('\\uD800\\uDC00', 1); // false\r\n        idx = idx || 0;\r\n        var code = str.charCodeAt(idx);\r\n        var hi, low;\r\n        // High surrogate (could change last hex to 0xDB7F to treat high\r\n        // private surrogates as single characters)\r\n        if (0xD800 <= code && code <= 0xDBFF) {\r\n            hi = code;\r\n            low = str.charCodeAt(idx + 1);\r\n            if (isNaN(low)) {\r\n                throw new Error('StringUtil.fixedCharCodeAt: High surrogate not followed by low surrogate in fixedCharCodeAt()');\r\n            }\r\n            return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\r\n        }\r\n        if (0xDC00 <= code && code <= 0xDFFF) {\r\n            // We return false to allow loops to skip this iteration since should have\r\n            // already handled high surrogate above in the previous iteration\r\n            return false;\r\n            /*hi = str.charCodeAt(idx-1);\r\n             low = code;\r\n             return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;*/\r\n        }\r\n        return code;\r\n    };\r\n    return StringUtil;\r\n}());\r\nexports.StringUtil = StringUtil;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/11/17.\r\n */\r\nvar UuidUtils = (function () {\r\n    function UuidUtils() {\r\n    }\r\n    UuidUtils.generateUUID = function () {\r\n        var d = new Date().getTime();\r\n        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = (d + Math.random() * 16) % 16 | 0;\r\n            d = Math.floor(d / 16);\r\n            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n        });\r\n        return uuid;\r\n    };\r\n    UuidUtils.getRandomInt = function (min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    };\r\n    return UuidUtils;\r\n}());\r\nexports.UuidUtils = UuidUtils;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/12/17.\r\n */\r\nvar HttpSuccess_1 = __webpack_require__(12);\r\nvar HttpFault_1 = __webpack_require__(11);\r\nvar AbstractHttpService_1 = __webpack_require__(10);\r\nvar XhrHttpService = (function (_super) {\r\n    __extends(XhrHttpService, _super);\r\n    function XhrHttpService(async, notifyOnProgress) {\r\n        if (async === void 0) { async = true; }\r\n        if (notifyOnProgress === void 0) { notifyOnProgress = false; }\r\n        var _this = _super.call(this) || this;\r\n        _this.xhrRequest = null;\r\n        _this.async = async;\r\n        _this.notifyOnProgress = notifyOnProgress;\r\n        return _this;\r\n    }\r\n    XhrHttpService.prototype.addEventListeners = function () {\r\n        if (this.notifyOnProgress) {\r\n            this.xhrRequest.addEventListener(\"progress\", this.updateProgress, false);\r\n        }\r\n        this.xhrRequest.addEventListener(\"load\", this.load, false);\r\n        this.xhrRequest.addEventListener(\"error\", this.onXhrFault, false);\r\n    };\r\n    XhrHttpService.prototype.removeEventListeners = function () {\r\n        this.xhrRequest.removeEventListener(\"load\", this.load, false);\r\n        this.xhrRequest.removeEventListener(\"error\", this.onXhrFault, false);\r\n        this.xhrRequest.removeEventListener(\"progress\", this.updateProgress, false);\r\n    };\r\n    XhrHttpService.prototype.success = function (result) {\r\n        if (this.xhrRequest.status != 200) {\r\n            //errorObj:any, status:number, message:string, requestId:string\r\n            var faultObj = new HttpFault_1.HttpFault(this.xhrRequest.response, this.xhrRequest.status, this.xhrRequest.responseText, this.requestId);\r\n            this.fault(faultObj);\r\n            return;\r\n        }\r\n        var sucessObj = new HttpSuccess_1.HttpSuccess(this.xhrRequest.response, this.xhrRequest.status, this.requestId);\r\n        for (var responderIndex = 0; responderIndex < this.responders.length; responderIndex++) {\r\n            var responder = this.responders.getItemAt(responderIndex);\r\n            responder.success(sucessObj);\r\n        }\r\n        this.destroy();\r\n    };\r\n    XhrHttpService.prototype.fault = function (fault) {\r\n        for (var responderIndex = 0; responderIndex < this.responders.length; responderIndex++) {\r\n            var responder = this.responders.getItemAt(responderIndex);\r\n            responder.fault(fault);\r\n        }\r\n        this.destroy();\r\n    };\r\n    XhrHttpService.prototype.load = function (event) {\r\n        if (this.notifyOnProgress) {\r\n            for (var responderIndex = 0; responderIndex < this.responders.length; responderIndex++) {\r\n                var responder = this.responders.getItemAt(responderIndex);\r\n                responder.onProgress(100, this.requestId);\r\n            }\r\n        }\r\n    };\r\n    XhrHttpService.prototype.updateProgress = function (event) {\r\n        //event.lengthComputable seems to always be false, this might be because the service is not sending back progress events though\r\n        //so I've commented it our for now\r\n        //if (event.lengthComputable) {\r\n        var percentComplete = event.loaded / ((event.total > 0) ? event.total : event.loaded); //prevent division by zero when !event.lengthComputable\r\n        for (var responderIndex = 0; responderIndex < this.responders.length; responderIndex++) {\r\n            var responder = this.responders.getItemAt(responderIndex);\r\n            responder.onProgress(percentComplete, this.requestId);\r\n        }\r\n        //}\r\n    };\r\n    XhrHttpService.prototype.send = function (type, url, data, contentType, dataType, cache) {\r\n        if (cache === void 0) { cache = false; }\r\n        var requestId = _super.prototype.send.call(this, type, url, data, contentType, dataType, cache);\r\n        this.xhrRequest = new XMLHttpRequest();\r\n        this.addEventListeners();\r\n        this.xhrRequest.onreadystatechange = function (event) {\r\n            if (this.xhrRequest.readyState == 4) {\r\n                this.success(this.xhrRequest.response);\r\n            }\r\n        }.bind(this);\r\n        this.xhrRequest.open(type, url, this.async);\r\n        if (dataType !== null) {\r\n            this.xhrRequest.responseType = dataType;\r\n        }\r\n        if (contentType !== null) {\r\n            this.xhrRequest.setRequestHeader(\"Content-Type\", contentType);\r\n        }\r\n        this.xhrRequest.send(data);\r\n        return requestId;\r\n    };\r\n    XhrHttpService.prototype.onXhrFault = function (event) {\r\n        var faultObj = new HttpFault_1.HttpFault(this.xhrRequest.response, this.xhrRequest.status, this.xhrRequest.responseText, this.requestId);\r\n        this.fault(faultObj);\r\n    };\r\n    XhrHttpService.prototype.abort = function () {\r\n        this.xhrRequest.onreadystatechange = null;\r\n        this.removeEventListeners();\r\n        this.xhrRequest.abort();\r\n        this.destroy();\r\n    };\r\n    XhrHttpService.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.removeEventListeners();\r\n        this.xhrRequest.onreadystatechange = null;\r\n        this.xhrRequest = null;\r\n    };\r\n    return XhrHttpService;\r\n}(AbstractHttpService_1.AbstractHttpService));\r\nexports.XhrHttpService = XhrHttpService;\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/17/17.\r\n */\r\nvar Subject_1 = __webpack_require__(0);\r\nvar AsyncOperationModel = (function (_super) {\r\n    __extends(AsyncOperationModel, _super);\r\n    function AsyncOperationModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this._asyncOperationCount = 0;\r\n        _this._asyncOperationComplete = true;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AsyncOperationModel.prototype, \"asyncOperationCount\", {\r\n        get: function () {\r\n            return this._asyncOperationCount;\r\n        },\r\n        set: function (value) {\r\n            this._asyncOperationCount = value;\r\n            this.notify(value, \"asyncOperationCount\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AsyncOperationModel.prototype, \"asyncOperationComplete\", {\r\n        get: function () {\r\n            return this.asyncOperationCount <= 0;\r\n        },\r\n        set: function (value) {\r\n            this._asyncOperationComplete = value;\r\n            this.notify(value, 'asyncOperationComplete');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AsyncOperationModel.prototype.addAsyncOperation = function () {\r\n        this.asyncOperationComplete = false;\r\n        this.asyncOperationCount += 1;\r\n    };\r\n    AsyncOperationModel.prototype.removeAsyncOperation = function () {\r\n        this.asyncOperationCount -= 1;\r\n        if (!this.asyncOperationCount) {\r\n            this.asyncOperationComplete = true;\r\n        }\r\n    };\r\n    return AsyncOperationModel;\r\n}(Subject_1.Subject));\r\nexports.AsyncOperationModel = AsyncOperationModel;\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/17/17.\r\n */\r\nvar Subject_1 = __webpack_require__(0);\r\nvar Config = (function (_super) {\r\n    __extends(Config, _super);\r\n    function Config() {\r\n        var _this = _super.call(this) || this;\r\n        _this._webRoot = ''; //path relative to webroot where the application is deployed\r\n        _this._parserCode = undefined; //used to handle service results using a factory patter, see lotusJS examples\r\n        _this._exporterCode = undefined; //used to serialize objects for service payloads using a factory patter, see lotusJS examples\r\n        _this._token = undefined; //used for oAuth authentication scemes and similar token based authentication systems\r\n        _this._serviceCode = undefined; //used for assigning a concrete service implementation\r\n        _this._asyncOperationModel = undefined; //used for assigning a concrete service implementation\r\n        _this._errorModel = undefined; //used for assigning a concrete service implementation\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Config.prototype, \"errorModel\", {\r\n        get: function () {\r\n            return this._errorModel;\r\n        },\r\n        set: function (value) {\r\n            this._errorModel = value;\r\n            this.notify(value, \"errorModel\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"asyncOperationModel\", {\r\n        get: function () {\r\n            return this._asyncOperationModel;\r\n        },\r\n        set: function (value) {\r\n            this._asyncOperationModel = value;\r\n            this.notify(value, \"asyncOperationModel\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"serviceCode\", {\r\n        get: function () {\r\n            return this._serviceCode;\r\n        },\r\n        set: function (value) {\r\n            this._serviceCode = value;\r\n            this.notify(value, \"serviceCode\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"baseUrl\", {\r\n        get: function () {\r\n            return this._baseUrl;\r\n        },\r\n        set: function (value) {\r\n            this._baseUrl = value;\r\n            this.notify(value, \"baseUrl\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"webRoot\", {\r\n        get: function () {\r\n            return this._webRoot;\r\n        },\r\n        set: function (value) {\r\n            this._webRoot = value;\r\n            this.notify(value, \"webRoot\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"parserCode\", {\r\n        get: function () {\r\n            return this._parserCode;\r\n        },\r\n        set: function (value) {\r\n            this._parserCode = value;\r\n            this.notify(value, \"parserCode\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"exporterCode\", {\r\n        get: function () {\r\n            return this._exporterCode;\r\n        },\r\n        set: function (value) {\r\n            this._exporterCode = value;\r\n            this.notify(value, \"exporterCode\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"token\", {\r\n        get: function () {\r\n            return this._token;\r\n        },\r\n        set: function (value) {\r\n            this._token = value;\r\n            this.notify(value, \"token\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Config;\r\n}(Subject_1.Subject));\r\nexports.Config = Config;\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/17/17.\r\n */\r\nvar Subject_1 = __webpack_require__(0);\r\nvar ArrayList_1 = __webpack_require__(1);\r\nvar ErrorModel = (function (_super) {\r\n    __extends(ErrorModel, _super);\r\n    function ErrorModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this._appError = false;\r\n        _this._errors = new ArrayList_1.ArrayList();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ErrorModel.prototype, \"appError\", {\r\n        get: function () {\r\n            return this._appError;\r\n        },\r\n        set: function (value) {\r\n            this._appError = value;\r\n            this.notify(value, \"appError\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ErrorModel.prototype, \"errors\", {\r\n        get: function () {\r\n            return this._errors;\r\n        },\r\n        set: function (value) {\r\n            this._errors = value;\r\n            this.notify(value, \"errors\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ErrorModel.prototype.getTitle = function () {\r\n        var returnTitle = (this.errors.length > 1) ? 'Multiple errors have occurred.\\n' : 'The following error occurred.\\n';\r\n        return returnTitle;\r\n    };\r\n    ErrorModel.prototype.getMessage = function () {\r\n        var returnText = '';\r\n        for (var errorIndex = 0; errorIndex < this.errors.length; errorIndex++) {\r\n            returnText += 'Name: ' + this.errors.getItemAt(errorIndex).name + '\\n';\r\n            returnText += 'Message: ' + this.errors.getItemAt(errorIndex).message + '\\n';\r\n            returnText += '\\n';\r\n        }\r\n        return returnText;\r\n    };\r\n    ErrorModel.prototype.addError = function (error) {\r\n        this.errors.addItem(error);\r\n        this.appError = true;\r\n    };\r\n    ErrorModel.prototype.clear = function () {\r\n        this.errors.clear();\r\n        this.appError = false;\r\n    };\r\n    return ErrorModel;\r\n}(Subject_1.Subject));\r\nexports.ErrorModel = ErrorModel;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/12/17.\r\n */\r\nvar Subject_1 = __webpack_require__(0);\r\nvar CollectionEvent_1 = __webpack_require__(7);\r\nvar RecordSetEvent_1 = __webpack_require__(8);\r\nvar ArrayList_1 = __webpack_require__(1);\r\nvar ObjectUtils_1 = __webpack_require__(2);\r\nvar EventDispatcher_1 = __webpack_require__(3);\r\nvar RecordSet = (function (_super) {\r\n    __extends(RecordSet, _super);\r\n    function RecordSet(timeToLive, listFunction) {\r\n        if (timeToLive === void 0) { timeToLive = NaN; }\r\n        if (listFunction === void 0) { listFunction = null; }\r\n        var _this = _super.call(this) || this;\r\n        _this.resultsByPage = {};\r\n        ObjectUtils_1.ObjectUtils.mixin(EventDispatcher_1.EventDispatcher, RecordSet, _this);\r\n        _this._timeToLive = timeToLive;\r\n        _this._results = (listFunction) ? new listFunction() : new ArrayList_1.ArrayList();\r\n        _this._pageList = (listFunction) ? new listFunction() : new ArrayList_1.ArrayList();\r\n        if (!isNaN(_this._timeToLive)) {\r\n            _this._intervalId = setTimeout(function () {\r\n                _this.clear();\r\n            });\r\n        } //func, delay[, param1, param2, ...]\r\n        _this._results.addEventListener(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE, _this, 'resultCollectionChanged');\r\n        return _this;\r\n    }\r\n    Object.defineProperty(RecordSet.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        set: function (val) {\r\n            this._id = val;\r\n            this.notify(val, \"id\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"totalRecords\", {\r\n        get: function () {\r\n            return this._totalRecords;\r\n        },\r\n        set: function (val) {\r\n            this._totalRecords = val;\r\n            if (this._totalRecords != val) {\r\n                this._totalRecords = val;\r\n                this.notify(val, \"totalRecords\");\r\n                this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.TOTALRECORDS_CHANGE));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"totalPages\", {\r\n        get: function () {\r\n            return this._totalPages;\r\n        },\r\n        set: function (val) {\r\n            if (this._totalPages != val) {\r\n                this._totalPages = val;\r\n                this.notify(val, \"totalPages\");\r\n                this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.TOTALPAGES_CHANGE));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"selectedPage\", {\r\n        get: function () {\r\n            return this._selectedPage;\r\n        },\r\n        set: function (val) {\r\n            if (this._selectedPage != val) {\r\n                //IMPORTANT: set the value first so responders to the ImageAssetEvent.GET_IMAGE_ASSETS event know what page we need to load data for\r\n                this._selectedPage = val;\r\n                if (val >= 1 && !this.pageLoaded(val)) {\r\n                    this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.LOAD_PAGE_DATA, { recordSet: this }));\r\n                }\r\n                this.calculatePageList();\r\n                this.notify(val, \"selectedPage\");\r\n                this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.SELECTED_PAGE_CHANGE));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"recordsPerPage\", {\r\n        get: function () {\r\n            return this._recordsPerPage;\r\n        },\r\n        set: function (val) {\r\n            if (this._recordsPerPage != val) {\r\n                this._recordsPerPage = val;\r\n                this.renewState();\r\n                this.notify(val, \"recordsPerPage\");\r\n                this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.RECORDS_PER_PAGE_CHANGE));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"results\", {\r\n        get: function () {\r\n            return this._results;\r\n        },\r\n        set: function (val) {\r\n            if (this._results != val) {\r\n                if (this._results !== null && this._results !== undefined) {\r\n                    this._results.removeEventListener(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE, this, 'resultCollectionChanged');\r\n                }\r\n                this._results = val;\r\n                if (this._results !== null && this._results !== undefined) {\r\n                    this.renewState();\r\n                    this.selectedPage = 1;\r\n                    this._results.addEventListener(CollectionEvent_1.CollectionEvent.COLLECTION_CHANGE, this, 'resultCollectionChanged');\r\n                }\r\n                this.notify(val, \"results\");\r\n                this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.RESULTS_CHANGE));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"createdOn\", {\r\n        get: function () {\r\n            return this._createdOn;\r\n        },\r\n        set: function (val) {\r\n            this._createdOn = val;\r\n            this.notify(val, \"createdOn\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"pageList\", {\r\n        get: function () {\r\n            return this._pageList;\r\n        },\r\n        set: function (val) {\r\n            this._pageList = val;\r\n            this.notify(val, \"pageList\");\r\n            this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.PAGE_LIST_CHANGE));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"timeToLive\", {\r\n        get: function () {\r\n            return this._timeToLive;\r\n        },\r\n        set: function (val) {\r\n            var _this = this;\r\n            this._timeToLive = val;\r\n            if (this._intervalId !== null && this._intervalId !== undefined) {\r\n                this.clearInterval();\r\n                //TODO:have this reload data instead of clearing it\r\n                //set the timeout to _timeToLive. This will clear the recordset at the interval\r\n                //calling this accessor multiple times will reset the timeout preserving the records\r\n                this._intervalId = setTimeout(function () { _this.clear; }, val);\r\n            }\r\n            this.notify(val, \"timeToLive\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"source\", {\r\n        get: function () {\r\n            return this._source;\r\n        },\r\n        set: function (val) {\r\n            this._source = val;\r\n            this.notify(val, \"source\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RecordSet.prototype, \"routeController\", {\r\n        get: function () {\r\n            return this._routeController;\r\n        },\r\n        set: function (val) {\r\n            this._routeController = val;\r\n            this.notify(val, \"routeController\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    RecordSet.prototype.clearInterval = function () {\r\n        if (this._intervalId !== null && this._intervalId !== undefined) {\r\n            clearInterval(this._intervalId);\r\n        }\r\n    };\r\n    RecordSet.prototype.clear = function () {\r\n        if (this.results !== undefined && this.results !== null) {\r\n            this.results.clear();\r\n        }\r\n        this.totalRecords = 0;\r\n        this.totalPages = 0;\r\n        this.resultsByPage[this.selectedPage] = new ArrayList_1.ArrayList();\r\n        this.resultsByPage = {};\r\n        this.selectedPage = -1;\r\n        this.renewState();\r\n    };\r\n    RecordSet.prototype.pageLoaded = function (pageNumber) {\r\n        return this.resultsByPage[pageNumber] !== null && this.resultsByPage[pageNumber] !== undefined && (this.resultsByPage[pageNumber].length == this.recordsPerPage || pageNumber == this.totalPages);\r\n    };\r\n    RecordSet.prototype.calculatePageList = function () {\r\n        this.pageList = this.resultsByPage[this.selectedPage];\r\n    };\r\n    RecordSet.prototype.renewState = function () {\r\n        this.totalPages = (Math.ceil(this.totalRecords / this.recordsPerPage));\r\n        //loop through each page\r\n        for (var pageIndex = 1; pageIndex <= this.totalPages; pageIndex++) {\r\n            var first = (pageIndex - 1) * this.recordsPerPage;\r\n            var last = ((first + this.recordsPerPage) > this.totalRecords) ? this.totalRecords : first + this.recordsPerPage;\r\n            var dp = new ArrayList_1.ArrayList();\r\n            if (this.results !== null && this.results !== undefined) {\r\n                for (var i = first; i < last; i++) {\r\n                    //because items can be added to the results in a non sequential manner (ie page 5 can be loaded before page 2) we have to check to make sure the items are loaded\r\n                    if (this.results.getItemAt(i) === null || this.results.getItemAt(i) === undefined) {\r\n                        continue;\r\n                    }\r\n                    dp.addItem(this.results.getItemAt(i));\r\n                }\r\n            }\r\n            //if no items were added do not populate the page data index\r\n            if (dp.length > 0) {\r\n                this.resultsByPage[pageIndex] = dp;\r\n            }\r\n        }\r\n        this.calculatePageList();\r\n        this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.RESULTS_CHANGE));\r\n    };\r\n    RecordSet.prototype.resultCollectionChanged = function (event) {\r\n        this.renewState();\r\n    };\r\n    RecordSet.prototype.destroy = function () {\r\n        this.clearInterval();\r\n        this.results = null;\r\n        this.pageList = null;\r\n        this.resultsByPage = null;\r\n    };\r\n    RecordSet.USER_UPLOAD = 'userUpload';\r\n    RecordSet.FOTOLIA = 'fotolia';\r\n    RecordSet.FACEBOOK = 'facebook';\r\n    return RecordSet;\r\n}(Subject_1.Subject));\r\nexports.RecordSet = RecordSet;\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/17/17.\r\n */\r\nvar RecordSetList_1 = __webpack_require__(15);\r\nvar ObjectUtils_1 = __webpack_require__(2);\r\nvar EventDispatcher_1 = __webpack_require__(3);\r\nvar Subject_1 = __webpack_require__(0);\r\nvar RecordSetEvent_1 = __webpack_require__(8);\r\nvar RecordSetModel = (function (_super) {\r\n    __extends(RecordSetModel, _super);\r\n    function RecordSetModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this._recordSets = new RecordSetList_1.RecordSetList();\r\n        ObjectUtils_1.ObjectUtils.mixin(EventDispatcher_1.EventDispatcher, RecordSetModel, _this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(RecordSetModel.prototype, \"recordSets\", {\r\n        get: function () {\r\n            return this._recordSets;\r\n        },\r\n        set: function (value) {\r\n            this._recordSets = value;\r\n            this.notify(value, \"recordSets\");\r\n            this.dispatch(new RecordSetEvent_1.RecordSetEvent(RecordSetEvent_1.RecordSetEvent.RECORDSETS_CHANGE));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return RecordSetModel;\r\n}(Subject_1.Subject));\r\nexports.RecordSetModel = RecordSetModel;\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/**\r\n * Created by dsmiley on 5/18/17.\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BrowserInfo = (function () {\r\n    function BrowserInfo(browser, version) {\r\n        this.browser = browser;\r\n        this.version = version;\r\n    }\r\n    return BrowserInfo;\r\n}());\r\nexports.BrowserInfo = BrowserInfo;\r\nvar BrowserUtils = (function () {\r\n    function BrowserUtils() {\r\n    }\r\n    BrowserUtils.uaMatch = function (ua) {\r\n        ua = ua.toLowerCase();\r\n        var match = /(ipad).*(?:safari)[ \\/]([\\w.]+)/.exec(ua) ||\r\n            /(android)[ chrome\\/]([\\w.]+)/.exec(ua) ||\r\n            /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\r\n            /(safari)[ \\/]([\\w.]+)/.exec(ua) ||\r\n            /(firefox)[ \\/]([\\w.]+)/.exec(ua) ||\r\n            /(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\r\n            /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\r\n            /(msie) ([\\w.]+)/.exec(ua) ||\r\n            /trident.*rv[ :]*[1-9]\\d\\./.exec(ua.toLowerCase()) ||\r\n            ua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\r\n            [];\r\n        //IE 11+ changed user agents, AWESOME!!! More info here: http://stackoverflow.com/questions/17447373/how-can-i-target-only-internet-explorer-11-with-javascript\r\n        //We need to reset to the expected id forIE\r\n        if (/trident.*rv[ :]*[1-9]\\d\\./.exec(ua.toLowerCase())) {\r\n            match[1] = 'msie'; //reset to msie\r\n            match[2] = /[1-9]\\d\\./.exec(ua);\r\n        }\r\n        var browser = match[1] || \"\";\r\n        var version = match[2] || \"0\";\r\n        return new BrowserInfo(browser, version);\r\n    };\r\n    BrowserUtils.getBrowser = function () {\r\n        var returnValue = new BrowserInfo('nodeJS', 'nodeJS');\r\n        try {\r\n            if (navigator) {\r\n                returnValue = BrowserUtils.uaMatch(navigator.userAgent);\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(e.stack);\r\n        }\r\n        return returnValue;\r\n    };\r\n    return BrowserUtils;\r\n}());\r\nexports.BrowserUtils = BrowserUtils;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/18/17.\r\n */\r\nvar ColorUtils = (function () {\r\n    function ColorUtils() {\r\n    }\r\n    ColorUtils.rgb2hex = function (rgb) {\r\n        var result = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\r\n        if (result === null || result === undefined || result.length <= 0) {\r\n            return null;\r\n        }\r\n        return \"#\" +\r\n            (\"0\" + parseInt(result[1], 10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(result[2], 10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(result[3], 10).toString(16)).slice(-2);\r\n    };\r\n    ColorUtils.hexToRgb = function (hex) {\r\n        var c;\r\n        if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n            c = hex.substring(1).split('');\r\n            if (c.length == 3) {\r\n                c = [c[0], c[0], c[1], c[1], c[2], c[2]];\r\n            }\r\n            var returnValue = Number('0x' + c.join(''));\r\n            return 'rgb(' + [(returnValue >> 16) & 255, (returnValue >> 8) & 255, returnValue & 255].join(',') + ')';\r\n        }\r\n        throw new Error('Bad Hex');\r\n    };\r\n    ColorUtils.hexToRgbA = function (hex) {\r\n        var c;\r\n        if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n            c = hex.substring(1).split('');\r\n            if (c.length == 3) {\r\n                c = [c[0], c[0], c[1], c[1], c[2], c[2]];\r\n            }\r\n            var returnValue = Number('0x' + c.join(''));\r\n            return 'rgba(' + [(returnValue >> 16) & 255, (returnValue >> 8) & 255, returnValue & 255].join(',') + ',1)';\r\n        }\r\n        throw new Error('Bad Hex');\r\n    };\r\n    ColorUtils.hexToRgbArray = function (hex) {\r\n        var c;\r\n        if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n            c = hex.substring(1).split('');\r\n            if (c.length == 3) {\r\n                c = [c[0], c[0], c[1], c[1], c[2], c[2]];\r\n            }\r\n            var returnValue = Number('0x' + c.join(''));\r\n            return [(returnValue >> 16) & 255, (returnValue >> 8) & 255, returnValue & 255];\r\n        }\r\n        throw new Error('Bad Hex');\r\n    };\r\n    ColorUtils.rgbToHsl = function (r, g, b) {\r\n        r /= 255, g /= 255, b /= 255;\r\n        var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n        if (max == min) {\r\n            h = s = 0; // achromatic\r\n        }\r\n        else {\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch (max) {\r\n                case r:\r\n                    h = (g - b) / d + (g < b ? 6 : 0);\r\n                    break;\r\n                case g:\r\n                    h = (b - r) / d + 2;\r\n                    break;\r\n                case b:\r\n                    h = (r - g) / d + 4;\r\n                    break;\r\n            }\r\n            h /= 6;\r\n        }\r\n        return [Math.floor(h * 360), Math.floor(s * 100), Math.floor(l * 100)];\r\n    };\r\n    ColorUtils.rgbToHsv = function (r, g, b) {\r\n        var min = Math.min(r, g, b), max = Math.max(r, g, b), delta = max - min, h, s, v = max;\r\n        v = Math.floor(max / 255 * 100);\r\n        if (max != 0)\r\n            s = Math.floor(delta / max * 100);\r\n        else {\r\n            // black\r\n            return [0, 0, 0];\r\n        }\r\n        if (r == max)\r\n            h = (g - b) / delta; // between yellow & magenta\r\n        else if (g == max)\r\n            h = 2 + (b - r) / delta; // between cyan & yellow\r\n        else\r\n            h = 4 + (r - g) / delta; // between magenta & cyan\r\n        h = Math.floor(h * 60); // degrees\r\n        if (h < 0)\r\n            h += 360;\r\n        return [h, s, v];\r\n    };\r\n    return ColorUtils;\r\n}());\r\nexports.ColorUtils = ColorUtils;\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/19/17.\r\n */\r\nvar CoordsUtils = (function () {\r\n    function CoordsUtils() {\r\n    }\r\n    CoordsUtils.globalToLocal = function (container, pageX, pageY) {\r\n        var position = CoordsUtils.offset(container);\r\n        return new Offset(pageX - position.left, pageY - position.top);\r\n    };\r\n    CoordsUtils.offset = function (element) {\r\n        var win, box = { top: 0, left: 0 }, elem = element, doc = elem && elem.ownerDocument;\r\n        if (!doc) {\r\n            return;\r\n        }\r\n        var docElem = doc.documentElement;\r\n        // Make sure it's not a disconnected DOM node\r\n        if (!docElem.contains(elem)) {\r\n            return box;\r\n        }\r\n        box = elem.getBoundingClientRect();\r\n        win = CoordsUtils.getWindow(doc);\r\n        return {\r\n            top: box.top + (win.pageYOffset || docElem.scrollTop) - (docElem.clientTop || 0),\r\n            left: box.left + (win.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || 0)\r\n        };\r\n    };\r\n    CoordsUtils.getWindow = function (elem) {\r\n        var returnValue = CoordsUtils.isWindow(elem) ?\r\n            elem :\r\n            elem.nodeType === 9 ?\r\n                elem['defaultView'] || elem['parentWindow'] : null;\r\n        return returnValue;\r\n    };\r\n    CoordsUtils.isWindow = function (elem) {\r\n        return elem != null && elem.hasOwnProperty('window') && elem == elem['window'];\r\n    };\r\n    return CoordsUtils;\r\n}());\r\nexports.CoordsUtils = CoordsUtils;\r\nvar Offset = (function () {\r\n    function Offset(top, left) {\r\n        this.top = top;\r\n        this.left = left;\r\n    }\r\n    return Offset;\r\n}());\r\nexports.Offset = Offset;\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 6/30/17.\r\n */\r\nvar CopyUtils = (function () {\r\n    function CopyUtils() {\r\n    }\r\n    CopyUtils.copyInheredValues = function (child, parent) {\r\n        for (var prop in parent) {\r\n            if (child.hasOwnProperty(prop) && (child[prop] === undefined || child[prop] === null || child[prop] === '' || child[prop] === NaN)) {\r\n                child[prop] = parent[prop];\r\n            }\r\n        }\r\n    };\r\n    CopyUtils.overwriteValues = function (child, parent, excludeObjects) {\r\n        if (excludeObjects === void 0) { excludeObjects = {}; }\r\n        for (var prop in parent) {\r\n            if (child.hasOwnProperty(prop)) {\r\n                var value = (excludeObjects.hasOwnProperty(prop)) ? child[prop] : parent[prop];\r\n                child[prop] = value;\r\n            }\r\n        }\r\n    };\r\n    CopyUtils.concatObjects = function (objects) {\r\n        var ret = {};\r\n        var len = objects.length;\r\n        for (var i = 0; i < len; i++) {\r\n            for (var p in objects[i]) {\r\n                if (objects[i].hasOwnProperty(p)) {\r\n                    ret[p] = objects[i][p];\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    };\r\n    CopyUtils.copyProperties = function (target, source) {\r\n        for (var prop in source) {\r\n            if (typeof source[prop] !== 'function') {\r\n                target[prop] = source[prop];\r\n            }\r\n        }\r\n    };\r\n    return CopyUtils;\r\n}());\r\nexports.CopyUtils = CopyUtils;\r\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MathUtils_1 = __webpack_require__(9);\r\nvar StringUtil_1 = __webpack_require__(19);\r\nvar Matrix_1 = __webpack_require__(4);\r\nvar Point_1 = __webpack_require__(5);\r\nvar PathUtils = (function () {\r\n    function PathUtils() {\r\n    }\r\n    PathUtils.parsePathFromString = function (strPath) {\r\n        strPath = StringUtil_1.StringUtil.trim(StringUtil_1.StringUtil.compressSpaces(strPath));\r\n        var arr = strPath.split(\" \");\r\n        var curElement;\r\n        var counter = 0;\r\n        var result = [];\r\n        var len = arr.length;\r\n        do {\r\n            curElement = arr[counter];\r\n            var value = parseFloat(curElement);\r\n            if (isNaN(value) || value == undefined) {\r\n                // command\r\n                result.push(curElement);\r\n            }\r\n            else {\r\n                // point\r\n                var y = parseFloat(arr[++counter]);\r\n                result.push(new Point_1.Point(MathUtils_1.MathUtils.toFixed(value), MathUtils_1.MathUtils.toFixed(y)));\r\n            }\r\n        } while (++counter < len);\r\n        return result;\r\n    };\r\n    PathUtils.isPoint = function (obj) {\r\n        return (obj.hasOwnProperty(\"x\") && obj.hasOwnProperty(\"y\"));\r\n    };\r\n    PathUtils.convertPathToString = function (arrPath) {\r\n        var res = \"\";\r\n        arrPath.forEach(function (elem) {\r\n            if (PathUtils.isPoint(elem)) {\r\n                res += MathUtils_1.MathUtils.toFixed(elem.x) + \" \" + MathUtils_1.MathUtils.toFixed(elem.y);\r\n            }\r\n            else {\r\n                res += elem;\r\n            }\r\n            res += \" \";\r\n        });\r\n        return StringUtil_1.StringUtil.trim(res);\r\n    };\r\n    PathUtils.movePath = function (arrPath, dx, dy, updateSource) {\r\n        updateSource = updateSource != undefined ? updateSource : true;\r\n        var res = [];\r\n        arrPath.forEach(function (elem) {\r\n            if (PathUtils.isPoint(elem)) {\r\n                if (updateSource) {\r\n                    elem.x += dx;\r\n                    elem.y += dy;\r\n                }\r\n                else {\r\n                    res.push(new Point_1.Point(elem.x + dx, elem.y + dy));\r\n                }\r\n            }\r\n            else if (!updateSource) {\r\n                res.push(elem);\r\n            }\r\n        });\r\n        return updateSource ? arrPath : res;\r\n    };\r\n    PathUtils.scalePath = function (arrPath, scaleX, scaleY, aroundPoint, updateSource) {\r\n        updateSource = updateSource != undefined ? updateSource : true;\r\n        aroundPoint = aroundPoint || new Point_1.Point(0, 0);\r\n        var matrix = new Matrix_1.Matrix();\r\n        matrix = matrix.scale(scaleX, scaleY, aroundPoint);\r\n        var zero = matrix.transformPoint(new Point_1.Point(0, 0));\r\n        var res = [];\r\n        arrPath.forEach(function (obj) {\r\n            if (PathUtils.isPoint(obj)) {\r\n                var newPoint = matrix.transformPoint(obj);\r\n                if (updateSource) {\r\n                    obj.x = newPoint.x - zero.x;\r\n                    obj.y = newPoint.y - zero.y;\r\n                }\r\n                else {\r\n                    res.push(new Point_1.Point(newPoint.x - zero.x, newPoint.y - zero.y));\r\n                }\r\n            }\r\n            else if (!updateSource) {\r\n                res.push(obj);\r\n            }\r\n        });\r\n        return updateSource ? arrPath : res;\r\n    };\r\n    PathUtils.rotatePath = function (arrPath, aroundPoint, degAngle, updateSource) {\r\n        updateSource = updateSource != undefined ? updateSource : true;\r\n        var matrix = new Matrix_1.Matrix();\r\n        matrix = matrix.rotate(MathUtils_1.MathUtils.degreeToRadian(degAngle), aroundPoint);\r\n        var res = [];\r\n        arrPath.forEach(function (obj) {\r\n            if (PathUtils.isPoint(obj)) {\r\n                var newPoint = matrix.transformPoint(obj);\r\n                if (updateSource) {\r\n                    obj.x = newPoint.x;\r\n                    obj.y = newPoint.y;\r\n                }\r\n                else {\r\n                    res.push(newPoint);\r\n                }\r\n            }\r\n            else if (!updateSource) {\r\n                res.push(obj);\r\n            }\r\n        });\r\n        return updateSource ? arrPath : res;\r\n    };\r\n    /*\r\n    * containerParams : {width, height, rotation, top, left}\r\n    * */\r\n    PathUtils.convertPathFromLocalToGlobal = function (arrPath, containerParams) {\r\n        // Move to global coords\r\n        var res = PathUtils.movePath(arrPath, containerParams.left, containerParams.top, false);\r\n        var globalCenter = new Point_1.Point(containerParams.left + containerParams.width / 2, containerParams.top + containerParams.height / 2);\r\n        // Rotate around global center\r\n        PathUtils.rotatePath(res, globalCenter, containerParams.rotation);\r\n        return res;\r\n    };\r\n    /*\r\n    * containerParams : {width, height, rotation, top, left}\r\n    * */\r\n    PathUtils.convertPathFromGlobalToLocal = function (arrPath, containerParams) {\r\n        // Unrotate around global center\r\n        var globalCenter = new Point_1.Point(containerParams.left + containerParams.width / 2, containerParams.top + containerParams.height / 2);\r\n        var res = PathUtils.rotatePath(arrPath, globalCenter, -containerParams.rotation, false);\r\n        // Move to local coords\r\n        PathUtils.movePath(res, -containerParams.left, -containerParams.top);\r\n        return res;\r\n    };\r\n    return PathUtils;\r\n}());\r\nexports.PathUtils = PathUtils;\r\nvar PathParser = (function () {\r\n    function PathParser(arrPath) {\r\n        this.arrPath = arrPath;\r\n        this.i = -1;\r\n        this.command = '';\r\n        this.previousCommand = '';\r\n        this.start = new Point_1.Point(0, 0);\r\n        this.control = new Point_1.Point(0, 0);\r\n        this.current = new Point_1.Point(0, 0);\r\n    }\r\n    PathParser.prototype.isEnd = function () {\r\n        return this.i >= this.arrPath.length - 1;\r\n    };\r\n    PathParser.prototype.isCommandOrEnd = function () {\r\n        if (this.isEnd()) {\r\n            return true;\r\n        }\r\n        var value = this.arrPath[this.i + 1];\r\n        return ((typeof value == 'string' || value instanceof String) && value.match(/^[A-Za-z]$/) != null);\r\n    };\r\n    PathParser.prototype.isRelativeCommand = function () {\r\n        switch (this.command) {\r\n            case 'm':\r\n            case 'l':\r\n            case 'h':\r\n            case 'v':\r\n            case 'c':\r\n            case 's':\r\n            case 'q':\r\n            case 't':\r\n            case 'a':\r\n            case 'z':\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    PathParser.prototype.getToken = function () {\r\n        this.i++;\r\n        return this.arrPath[this.i];\r\n    };\r\n    PathParser.prototype.nextCommand = function () {\r\n        this.previousCommand = this.command;\r\n        this.command = this.getToken();\r\n    };\r\n    PathParser.prototype.getPoint = function () {\r\n        var p = this.getToken();\r\n        return this.makeAbsolute(p);\r\n    };\r\n    PathParser.prototype.getAsControlPoint = function () {\r\n        var p = this.getPoint();\r\n        this.control = p;\r\n        return p;\r\n    };\r\n    PathParser.prototype.getAsCurrentPoint = function () {\r\n        var p = this.getPoint();\r\n        this.current = p;\r\n        return p;\r\n    };\r\n    PathParser.prototype.getReflectedControlPoint = function () {\r\n        if (this.previousCommand instanceof String &&\r\n            this.previousCommand.toLowerCase() != 'c' &&\r\n            this.previousCommand.toLowerCase() != 's' &&\r\n            this.previousCommand.toLowerCase() != 'q' &&\r\n            this.previousCommand.toLowerCase() != 't') {\r\n            return this.current;\r\n        }\r\n        // reflect point\r\n        var p = new Point_1.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);\r\n        return p;\r\n    };\r\n    PathParser.prototype.makeAbsolute = function (p) {\r\n        if (this.isRelativeCommand()) {\r\n            p.x += this.current.x;\r\n            p.y += this.current.y;\r\n        }\r\n        return p;\r\n    };\r\n    return PathParser;\r\n}());\r\nexports.PathParser = PathParser;\r\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ResizeUtils = (function () {\r\n    function ResizeUtils() {\r\n    }\r\n    ResizeUtils.getScaleToFill = function (objSize, sizeToFill) {\r\n        var scale = (sizeToFill.height / sizeToFill.width) > (objSize.height / objSize.width) ? (sizeToFill.height / objSize.height) : (sizeToFill.width / objSize.width);\r\n        return scale;\r\n    };\r\n    ResizeUtils.getScaleToFit = function (objSize, sizeToFit) {\r\n        return Math.min(sizeToFit.width / objSize.width, sizeToFit.height / objSize.height);\r\n    };\r\n    return ResizeUtils;\r\n}());\r\nexports.ResizeUtils = ResizeUtils;\r\n;\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Geometry_1 = __webpack_require__(17);\r\nvar Matrix_1 = __webpack_require__(4);\r\nvar MatrixUtils_1 = __webpack_require__(18);\r\nvar Point_1 = __webpack_require__(5);\r\nvar TransformUtils = (function () {\r\n    function TransformUtils() {\r\n    }\r\n    TransformUtils.calculateMovement = function (originalState, delta) {\r\n        if (!delta) {\r\n            return null;\r\n        }\r\n        var deltaX = delta.x || 0;\r\n        var deltaY = delta.y || 0;\r\n        var res = null;\r\n        if (originalState.hasOwnProperty('left') && originalState.hasOwnProperty('top')) {\r\n            res = { 'geometry': new Geometry_1.Geometry({ left: originalState.left + deltaX, top: originalState.top + deltaY }) };\r\n        }\r\n        else if (originalState.hasOwnProperty('left')) {\r\n            res = { 'left': originalState.left + deltaX };\r\n        }\r\n        else if (originalState.hasOwnProperty('top')) {\r\n            res = { 'top': originalState.top + deltaY };\r\n        }\r\n        return res;\r\n    };\r\n    TransformUtils.calculateResizeAroundAnchorPoint = function (originalState, sizeDelta, anchorPos, proportionalResizer) {\r\n        var dWidth = sizeDelta.width || 0;\r\n        var dHeight = sizeDelta.height || 0;\r\n        anchorPos = anchorPos || TransformUtils.getDefaultAnchorPos();\r\n        if (!originalState.hasOwnProperty('width') || !originalState.hasOwnProperty('height')\r\n            || !originalState.hasOwnProperty('top') || !originalState.hasOwnProperty('left')\r\n            || (!dWidth && !dHeight)) {\r\n            return null;\r\n        }\r\n        var geometry = new Geometry_1.Geometry({ width: originalState.width + dWidth, height: originalState.height + dHeight });\r\n        if (proportionalResizer) {\r\n            proportionalResizer.applyConstraint(originalState, null, geometry, anchorPos);\r\n        }\r\n        var pos = this.getPosAfterResizeAroundAnchorPoint(originalState, geometry, anchorPos);\r\n        if (pos) {\r\n            geometry.update(pos);\r\n        }\r\n        return { geometry: geometry };\r\n    };\r\n    TransformUtils.calculateRotate = function (originalState, deltaAngle) {\r\n        if (!deltaAngle) {\r\n            return null;\r\n        }\r\n        var res = null;\r\n        if (originalState.hasOwnProperty('rotation')) {\r\n            res = { 'rotation': originalState.rotation + deltaAngle };\r\n        }\r\n        return res;\r\n    };\r\n    TransformUtils.getPosAfterResizeAroundAnchorPoint = function (originalState, sizeAfterTransform, anchorPos) {\r\n        if (!originalState.hasOwnProperty('width') || !originalState.hasOwnProperty('height')) {\r\n            return null;\r\n        }\r\n        var dWidth = sizeAfterTransform.hasOwnProperty('width') ? sizeAfterTransform.width - originalState.width : 0;\r\n        var dHeight = sizeAfterTransform.hasOwnProperty('height') ? sizeAfterTransform.height - originalState.height : 0;\r\n        anchorPos = anchorPos || TransformUtils.getDefaultAnchorPos();\r\n        if (!dWidth && !dHeight) {\r\n            return null;\r\n        }\r\n        var posOffset = new Point_1.Point(dWidth * anchorPos.x, dHeight * anchorPos.y);\r\n        if (originalState.hasOwnProperty('rotation') && originalState.rotation) {\r\n            var originalCenterPoint = new Point_1.Point(originalState.width / 2, originalState.height / 2);\r\n            var newCenterPoint = new Point_1.Point(posOffset.x + (originalState.width + dWidth) / 2, posOffset.y + (originalState.height + dHeight) / 2);\r\n            var rotMatrix = new Matrix_1.Matrix();\r\n            // Rotates object around original center point\r\n            rotMatrix = MatrixUtils_1.MatrixUtils.rotate(rotMatrix, originalState.rotation, originalCenterPoint);\r\n            // New left top point position after rotation\r\n            var rotPosOffset = rotMatrix.transformPoint(posOffset);\r\n            // New center point after rotation\r\n            var rotNewCenterPoint = rotMatrix.transformPoint(newCenterPoint);\r\n            var unrotMatrix = new Matrix_1.Matrix();\r\n            // Unrotates object around new center\r\n            unrotMatrix = MatrixUtils_1.MatrixUtils.rotate(unrotMatrix, -originalState.rotation, rotNewCenterPoint);\r\n            posOffset = unrotMatrix.transformPoint(rotPosOffset);\r\n        }\r\n        var pos = { left: originalState.left + posOffset.x, top: originalState.top + posOffset.y };\r\n        return pos;\r\n    };\r\n    TransformUtils.getDefaultAnchorPos = function () {\r\n        return new Point_1.Point(-0.5, -0.5);\r\n    };\r\n    TransformUtils.applyConstraints = function (originalState, currentState, stateAfterTransform, anchorPos, constraints) {\r\n        if (constraints) {\r\n            constraints.forEach(function (constraint) {\r\n                constraint.applyConstraint(originalState, currentState, stateAfterTransform, anchorPos);\r\n            });\r\n        }\r\n    };\r\n    TransformUtils.applyTransform = function (obj, stateAfterTransform) {\r\n        if (!stateAfterTransform) {\r\n            return;\r\n        }\r\n        for (var prop in stateAfterTransform) {\r\n            if (stateAfterTransform.hasOwnProperty(prop) && obj.hasOwnProperty(prop)) {\r\n                obj[prop] = stateAfterTransform[prop];\r\n            }\r\n        }\r\n    };\r\n    return TransformUtils;\r\n}());\r\nexports.TransformUtils = TransformUtils;\r\n;\r\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/11/17.\r\n */\r\nvar URLUtils = (function () {\r\n    function URLUtils() {\r\n    }\r\n    URLUtils.getQuerystring = function (location, key, defaultValue) {\r\n        key = key.toLowerCase();\r\n        if (defaultValue === null || defaultValue === undefined) {\r\n            defaultValue = '';\r\n        }\r\n        key = key.replace(/[\\[]/, '\\\\\\[').replace(/[\\]]/, '\\\\\\]');\r\n        var regex = new RegExp('[\\\\?&]' + key + '=([^&#]*)');\r\n        var qs = regex.exec(location.toLowerCase()); //usually window.location.href.toLowerCase()\r\n        if (qs == null) {\r\n            return defaultValue;\r\n        }\r\n        else {\r\n            return qs[1];\r\n        }\r\n    };\r\n    return URLUtils;\r\n}());\r\nexports.URLUtils = URLUtils;\r\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/11/17.\r\n */\r\nvar XmlUtils = (function () {\r\n    function XmlUtils() {\r\n    }\r\n    XmlUtils.createXMLDocument = function (sMyString) {\r\n        var oParser = new DOMParser();\r\n        return oParser.parseFromString(sMyString, \"text/xml\");\r\n    };\r\n    XmlUtils.getXmlStringFromElement = function (element) {\r\n        var xmlString = (new XMLSerializer()).serializeToString(element);\r\n        return xmlString;\r\n    };\r\n    return XmlUtils;\r\n}());\r\nexports.XmlUtils = XmlUtils;\r\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/**\r\n * Created by dsmiley on 4/21/17.\r\n */\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(__webpack_require__(14));\r\n__export(__webpack_require__(13));\r\n__export(__webpack_require__(0));\r\n__export(__webpack_require__(1));\r\n__export(__webpack_require__(25));\r\n__export(__webpack_require__(15));\r\n__export(__webpack_require__(26));\r\n__export(__webpack_require__(22));\r\n__export(__webpack_require__(23));\r\n__export(__webpack_require__(24));\r\n__export(__webpack_require__(16));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(27));\r\n__export(__webpack_require__(28));\r\n__export(__webpack_require__(29));\r\n__export(__webpack_require__(30));\r\n__export(__webpack_require__(17));\r\n__export(__webpack_require__(9));\r\n__export(__webpack_require__(5));\r\n__export(__webpack_require__(4));\r\n__export(__webpack_require__(18));\r\n__export(__webpack_require__(31));\r\n__export(__webpack_require__(32));\r\n__export(__webpack_require__(19));\r\n__export(__webpack_require__(33));\r\n__export(__webpack_require__(34));\r\n__export(__webpack_require__(20));\r\n__export(__webpack_require__(35));\r\n__export(__webpack_require__(3));\r\n__export(__webpack_require__(6));\r\n__export(__webpack_require__(7));\r\n__export(__webpack_require__(8));\r\n__export(__webpack_require__(12));\r\n__export(__webpack_require__(11));\r\n__export(__webpack_require__(10));\r\n__export(__webpack_require__(21));\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// lavenderJS-UMD.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0c7bce8e41debb73c5f1","/**\n * Created by dsmiley on 4/18/17.\n */\nimport {Binder} from './Binder';\nimport {IObserver} from \"./IObserver\";\nimport { IBindable } from './IBindable';\n\nexport class Subject implements IBindable {\n    protected observerHash:Object = {};\n    protected binder:Binder = new Binder();\n\n    constructor(){};\n    \n    public notify(value:any, chain:string):void{\n        if (!this.observerHash.hasOwnProperty(chain) || this.observerHash[chain] == null || this.observerHash[chain] == undefined) {\n            //property is not bound\n            return;\n        }\n        this.observerHash[chain].forEach(observer => {\n            (observer as IObserver).update(value, chain);\n        });\n    }\n\n    public addObserver(observer:IObserver):void{\n        if (!this.observerHash.hasOwnProperty(observer.chain) || this.observerHash[observer.chain] == null || this.observerHash[observer.chain] == undefined) {\n            this.observerHash[observer.chain] = [] as Array<IObserver>;\n            //TODO: Once ArrayList is ported over comment this back in and remove the line above\n            //this.observerHash[observer.chain] = new Lavender.ArrayList ();\n        }\n        this.observerHash[observer.chain].push(observer);\n        //TODO: Once ArrayList is ported over comment this back in and remove the line above\n        //this.observerHash[observer.chain].addItem(observer);\n    }\n\n    public removeObserver(observer:IObserver):void{\n        if (!this.observerHash.hasOwnProperty(observer.chain) || this.observerHash[observer.chain] == null || this.observerHash[observer.chain] == undefined) {\n            throw 'Property not found in registered observers';\n        }\n        //TODO: Once ArrayList is ported over comment this back in and remove everything above to line 41\n        //this.observerHash[observer.chain].removeItemAt(this.observerHash[observer.chain].indexOf(observer, 0));\n        //TODO: Once ArrayList is ported over remove this\n        let m_count = this.observerHash[observer.chain].length;\n        let index = this.observerHash[observer.chain].indexOf(observer,0);\n        if (m_count > 0 && index > -1 && index < this.observerHash[observer.chain].length) {\n            switch (index) {\n                case 0:\n                    this.observerHash[observer.chain].shift();\n                    break;\n                case m_count - 1:\n                    this.observerHash[observer.chain].pop();\n                    break;\n                default:\n                    let head = this.observerHash[observer.chain].slice(0, index);\n                    let tail = this.observerHash[observer.chain].slice(index + 1);\n                    this.observerHash[observer.chain] = (head as Array<IObserver>).concat(tail);\n                    break;\n            }\n        }\n    }\n\n    //legacy method for pure Javascript application to define accessor methods. DO NOT USE\n    public addProperty(label:string, getter:any, setter:any):void{\n        if (Object.defineProperty) {\n            try {\n                Object.defineProperty(\n                    this,\n                    label,\n                    {\n                        get: getter,\n                        set: setter,\n                        // Properties have to be enumerable otherwise they will be skipped during\n                        // for-in loop (which causes problems in CopyUtils)\n                        enumerable: true\n                    }\n                );\n            }\n            catch (e) {\n                // IE8 Bullshit implementation of Object.defineProperty\n            }\n\n        }\n        else if (this['__defineGetter__']) {\n            if (getter) {\n                this['__defineGetter__'](label, getter);\n            }\n            if (setter) {\n                this['__defineGetter__'](label, setter);\n            }\n        }\n    }\n\n    //legacy method for pure Javascript application to define accessor methods. DO NOT USE\n    public addProperties(p):void{\n        for (var label in p) {\n            if (p.hasOwnProperty(label)) {\n                this.addProperty(label, p[label].get, p[label].set);\n            }\n        }\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/observable/Subject.ts","/**\n * Created by dsmiley on 4/18/17.\n */\nimport {IList} from './IList';\nimport {Subject} from '../observable/Subject';\nimport {ObjectUtils} from '../../util/ObjectUtils';\nimport {EventDispatcher} from '../../control/EventDispatcher';\nimport {IEventDispatcher} from '../../control/IEventDispatcher';\nimport {CollectionEvent} from '../../events/CollectionEvent';\nimport {IEvent} from '../../events/IEvent';\n\nexport class ArrayList extends Subject implements IList, EventDispatcher{\n    private aList:Array<any>; //initialize with an empty array\n    public allowDuplicates:boolean;\n\n    constructor(source?:Array<any>, allowDuplicates:boolean = true){\n        super();\n\n        this.aList = (source) ? source : [];\n        this.allowDuplicates = allowDuplicates;\n\n        ObjectUtils.mixin(EventDispatcher, ArrayList, this);\n    }\n\n    //placeholders for mixins, required for the compiler\n    handlersByEventName:Object;\n    addEventListener: (  event:string, instance:Object, handler:string ) => void;\n    canListen: (  eventType:string, instance:Object, handler:string )  => boolean;\n    removeEventListener: ( event:string, instance:Object, handler:string )  => void;\n    removeAllEventListeners: ( instance:Object )  =>  void;\n    dispatch: ( event:IEvent )  =>  void;\n\n    get length():number{\n        return this.aList.length;\n    }\n\n    public clone():IList{\n        return new ArrayList( this.aList.slice() );\n    }\n\n    public source():Array<any>{\n        return this.aList;\n    }\n    \n    public allowInsert(object:any, hash?:Object, key?:string):boolean{\n        let returnValue = true;\n        if( !this.allowDuplicates ){\n            if( hash !== null && hash !== undefined &&  key!== null && key !== undefined && object.hasOwnProperty(key) && object[key] !== null && object[key] !== undefined && hash[ object[key] ] !== null && hash[ object[key] ] !== undefined ){\n                returnValue = false;//the item is a duplicate based on the hash. sometimes we receive newly deserialized objects which makes a lookup based on equality a no go. Instead we look up the object in a hash based on some key\n            }else if( this.aList.indexOf(object) >= 0 ){\n                returnValue = false;//the item is a duplicate based on equality comparison\n            }\n        }\n        return returnValue;\n    }\n    \n    public addItem(object:any, hash?:Object, key?:string):number {\n        if( !this.allowInsert( object, hash, key ) ){\n            //replace the existing item with the new item\n            return;\n        }\n        //Object are placed at the end of the array\n        let index = this.aList.push(object);\n        this.dispatch( new CollectionEvent( CollectionEvent.COLLECTION_CHANGE, {type:'add', item:object} ) );\n        return index;\n    }\n    \n    public addAll( items:Array<any>, replaceIndex?:boolean ){\n        //add all items to the collection\n        for( let i=0; i < items.length; i++ ){\n            if( items[i].hasOwnProperty('addItemAt') && !isNaN( items[i].addItemAt ) ){\n                //object:any, index:number, suppressChangeEvent:boolean=false, hash?:Object, key?:string, replaceIndex:boolean=false\n                this.insert(items[i].item, items[i].addItemAt, true, null, null, replaceIndex );\n            }else{\n                this.addItem(items[i]);\n            }\n        }\n        this.dispatch( new CollectionEvent( CollectionEvent.COLLECTION_CHANGE, {type:'addAll', items:items} ) );\n    }\n\n    public getItemAt(index:number):any{\n        if (index > -1 && index < this.aList.length)\n            return this.aList[index];\n        else\n            return undefined; //Out of bound array, return undefined\n    }\n    \n    public clear():void{\n        this.aList = [] as Array<any>;\n        this.dispatch( new CollectionEvent( CollectionEvent.COLLECTION_CHANGE, {type:'removeAll'} ) );\n    }\n\n    public clearHash(hash:Object):void{\n        for (var prop in hash ) {\n            hash[ prop ] = null;\n            delete hash[ prop ];\n        }\n    }\n\n    protected removeItemFromHash(hash:Object, key:string):void{\n        hash[ key ] = null;\n        delete hash[ key ];\n    }\n    \n    public removeItemAt(index:number):void{\n        let m_count = this.aList.length;\n        let item = this.getItemAt(index);\n        if (m_count > 0 && index > -1 && index < this.aList.length) {\n            switch (index) {\n                case 0:\n                    this.aList.shift();\n                    break;\n                case m_count - 1:\n                    this.aList.pop();\n                    break;\n                default:\n                    let head = this.aList.slice(0, index);\n                    let tail = this.aList.slice(index + 1);\n                    this.aList = head.concat(tail);\n                    break;\n            }\n        }\n        this.dispatch( new CollectionEvent( CollectionEvent.COLLECTION_CHANGE, {type:'remove', item:item} ) );\n    }\n    \n    public insert(object:any, index:number, suppressChangeEvent:boolean=false, hash?:Object, key?:string, replaceIndex:boolean=false ):number{\n        if( !this.allowInsert( object, hash, key ) ){\n            return;\n        }\n        let m_count:number = this.aList.length;\n        let m_returnValue:number = -1;\n        if (index > -1 ){\n            switch (index) {\n                case 0:\n                    this.aList.unshift(object);\n                    m_returnValue = 0;\n                    break;\n                case m_count:\n                    this.aList.push(object);\n                    m_returnValue = m_count;\n                    break;\n                default:\n                    if( index > m_count ){\n                        for( let i=0; i < index - m_count; i++ ){\n                            this.aList.push(null);\n                        }\n                    }\n                    let head = this.aList.slice(0, index);\n                    let tailIndex = (replaceIndex) ? index + 1 : index;//if we are to replace the current index in the array use index +1 which should drop the old item from the array\n                    let tail = this.aList.slice(tailIndex);\n                    tail.unshift(object);\n                    this.aList = head.concat(tail);\n                    m_returnValue = index;\n                    break;\n            }\n        }\n        if( !suppressChangeEvent ){\n            this.dispatch( new CollectionEvent( CollectionEvent.COLLECTION_CHANGE, {type:'add', item:object} ) );\n        }\n        return m_returnValue;\n    }\n    \n    public changeIndex(fromIndex:number, toIndex:number, suppressChangeEvent?:boolean):void{\n        let object =  this.aList[fromIndex]\n        this.aList.splice(toIndex, 0, this.aList.splice(fromIndex, 1)[0]);\n        if( !suppressChangeEvent ){\n            this.dispatch( new CollectionEvent( CollectionEvent.COLLECTION_CHANGE_ORDER, {type:'change', item:object, fromIndex:fromIndex, toIndex:toIndex} ) );\n        }\n    }\n\n    public swapIndex(fromIndex:number, toIndex:number, suppressChangeEvent?:boolean):void{\n        let object =  this.aList[fromIndex]\n        this.aList[toIndex] = this.aList.splice(fromIndex, 1, this.aList[toIndex])[0];\n        if( !suppressChangeEvent ){\n            this.dispatch( new CollectionEvent( CollectionEvent.COLLECTION_CHANGE_ORDER, {type:'swap', item:object, fromIndex:fromIndex, toIndex:toIndex} ) );\n        }\n    }\n    \n    public indexOf(object:any, startIndex?:number):number{\n        if( startIndex === null || startIndex === undefined ){\n            startIndex = 0;\n        }\n        let m_count = this.aList.length;\n        let m_returnValue = -1;\n\n        if (startIndex > -1 && startIndex < m_count) {\n            let i = startIndex;\n\n            while (i < m_count) {\n                if (this.aList[i] == object) {\n                    m_returnValue = i;\n                    break;\n                }\n\n                i++;\n            }\n        }\n\n        return m_returnValue;\n    }\n    \n    public lastIndexOf(object:any, startIndex?:number):number{\n        let m_count = this.aList.length;\n        let m_returnValue = -1;\n\n        if (startIndex > -1 && startIndex < m_count) {\n            let i = m_count - 1;\n\n            while (i >= startIndex) {\n                if (this.aList[i] == object) {\n                    m_returnValue = i;\n                    break;\n                }\n\n                i--;\n            }\n        }\n\n        return m_returnValue;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/list/ArrayList.ts","/**\n * Created by dsmiley on 5/11/17.\n */\nexport class ObjectUtils {\n    constructor(){};\n    \n    public static extend(base:any, sub:any):void {\n        // Avoid instantiating the base class just to setup inheritance\n        // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\n        sub.prototype = Object.create(base.prototype);\n        // Remember the constructor property was set wrong, let's fix it\n        sub.prototype.constructor = sub;\n    }\n\n    public static mixin(base:any, sub:any, subInstance:any, overwriteInstanceVariables:boolean = false):any {\n        var objectToExtend = new base();\n        //Grab methods and properties defined through prototypal inheritance\n        for (var prop in base.prototype) {\n            if (base.prototype.hasOwnProperty(prop)) {\n                sub.prototype[prop] = base.prototype[prop];\n            }\n        }\n        //grab instance variables and function\n        for (var prop in objectToExtend) {\n            if (objectToExtend.hasOwnProperty(prop)) {\n                //if an object defines an instance variable or function we don't want to overwrite it unless specified\n                if (subInstance[prop] !== null && subInstance[prop] !== undefined && !overwriteInstanceVariables) {\n                    continue;\n                }\n                subInstance[prop] = objectToExtend[prop];\n            }\n        }\n        return subInstance;\n    }\n\n    public static hasFunction(obj:Object, prop:string) {\n        return (obj && typeof obj[prop] === 'function');\n    }\n\n    public static isPropDefined(obj:Object, prop:string):boolean {\n        if (obj && obj.hasOwnProperty(prop) && obj[prop] != undefined && obj[prop] != null && obj[prop] != NaN) {\n            return true;\n        }\n\n        return false;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/ObjectUtils.ts","/**\n * Created by dsmiley on 5/11/17.\n */\nimport {IEvent} from '../events/IEvent';\nimport {IEventDispatcher} from './IEventDispatcher'\n\nclass Listener {\n    readonly handler:string;\n    readonly instance:Object;\n\n    constructor(handler:string, instance:Object) {\n        this.handler = handler;\n        this.instance = instance;\n    }\n}\n\nexport class EventDispatcher implements IEventDispatcher {\n    public handlersByEventName:Object;\n\n    constructor() {\n        this.handlersByEventName = {};\n    };\n\n    public addEventListener(event:string, instance:Object, handler:string):void {\n        if (this.handlersByEventName[event] === null || this.handlersByEventName[event] === undefined) {\n            this.handlersByEventName[event] = [] as Array<Listener>;\n        }\n        this.handlersByEventName[event].push(new Listener(handler, instance));\n    }\n\n    public canListen(eventType:string, instance:Object, handler:string):boolean {\n        let canListen = false;\n        if (this.handlersByEventName[eventType] !== null && this.handlersByEventName[eventType] !== undefined) {\n            for (let handlerIndex = 0; handlerIndex < this.handlersByEventName[eventType].length; handlerIndex++) {\n                let handlerFunctionName = this.handlersByEventName[eventType][handlerIndex].handler;\n                let objectInstance = this.handlersByEventName[eventType][handlerIndex].instance;\n                if (handlerFunctionName == handler && objectInstance == instance) {\n                    canListen = true;\n                    break;\n                }\n            }\n        }\n        return canListen;\n    }\n\n    public removeEventListener(event:string, instance:Object, handler:string):void {\n        if (this.handlersByEventName[event] === null || this.handlersByEventName[event] === undefined) {\n            return;\n        }\n        for (let handlerIndex = 0; handlerIndex < this.handlersByEventName[event].length; handlerIndex++) {\n            if (this.handlersByEventName[event][handlerIndex].instance == instance && this.handlersByEventName[event][handlerIndex].handler == handler) {\n                let itemToRemove = this.handlersByEventName[event][handlerIndex];\n                switch (handlerIndex) {\n                    case 0:\n                        this.handlersByEventName[event].shift();\n                        break;\n                    case this.handlersByEventName[event].length - 1:\n                        this.handlersByEventName[event].pop();\n                        break;\n                    default:\n                        let head = this.handlersByEventName[event].slice(0, handlerIndex);\n                        let tail = this.handlersByEventName[event].slice(handlerIndex + 1);\n                        this.handlersByEventName[event] = head.concat(tail);\n                        break;\n                }\n                //there can be only one item matching event, instance, handler so we return here\n                return itemToRemove;\n            }\n        }\n    }\n\n    public removeAllEventListeners(instance:Object):void {\n        for (let event in this.handlersByEventName) {\n            for (let handlerIndex = this.handlersByEventName[event].length - 1; handlerIndex >= 0; handlerIndex--) {\n                if (this.handlersByEventName[event][handlerIndex].instance == instance) {\n                    this.removeEventListener(event, instance, this.handlersByEventName[event][handlerIndex].handler);\n                }\n            }\n        }\n    }\n\n    public dispatch(event:IEvent):void {\n        if (this.handlersByEventName[event.type] === null || this.handlersByEventName[event.type] === undefined) {\n            return;\n        }\n        // We need to make a copy of event handles before dispatching.\n        // If the handler removes itself from the event queue during dispatching, it triggers removeEventListener, which\n        // changes the array and this messes up the entire dispatch process (some handlers are never called).\n        let dispatchToList = this.handlersByEventName[event.type].slice();\n        let len = dispatchToList.length;\n        for (let handlerIndex = 0; handlerIndex < len; ++handlerIndex) {\n            let handlerFunctionName = (dispatchToList[handlerIndex] as Listener).handler;\n            let instance = dispatchToList[handlerIndex].instance;\n            instance[handlerFunctionName](event);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/EventDispatcher.ts","/**\n * Created by dsmiley on 6/30/17.\n */\nimport {Point} from './Point';\nexport class Matrix{\n    public a:number;\n    public b:number;\n    public c:number;\n    public d:number;\n    public tx:number;\n    public ty:number;\n\n    public static IDENTITY = new Matrix();\n    public static HORIZONTAL_FLIP = new Matrix(-1, 0, 0, 1);\n    public static VERTICAL_FLIP = new Matrix(1, 0, 0, -1);\n\n    constructor(a:number=1, b:number=0, c:number=0, d:number=1, tx:number=0, ty:number=0){\n        this.a=a;\n        this.b=b;\n        this.c=c;\n        this.d=d;\n        this.tx=tx;\n        this.ty=ty;\n    }\n\n    public static rotation(theta:number, aboutPoint:Point=null):Matrix{\n        let rotationMatrix = new Matrix(\n            Math.cos(theta),\n            Math.sin(theta),\n            -Math.sin(theta),\n            Math.cos(theta)\n        );\n\n        if(aboutPoint) {\n            rotationMatrix =\n                Matrix.translation(aboutPoint.x, aboutPoint.y).concat(\n                    rotationMatrix\n                ).concat(\n                    Matrix.translation(-aboutPoint.x, -aboutPoint.y)\n                );\n        }\n\n        return rotationMatrix;\n    }\n\n    public static scale(sx:number, sy:number, aboutPoint:Point):Matrix{\n        sy = sy || sx;\n\n        let scaleMatrix = new Matrix(sx, 0, 0, sy);\n\n        if(aboutPoint) {\n            scaleMatrix =\n                Matrix.translation(aboutPoint.x, aboutPoint.y).concat(\n                    scaleMatrix\n                ).concat(\n                    Matrix.translation(-aboutPoint.x, -aboutPoint.y)\n                );\n        }\n\n        return scaleMatrix;\n    }\n\n    public static translation(tx:number, ty:number) {\n        return new Matrix(1, 0, 0, 1, tx, ty);\n    };\n\n    public concat(matrix:Matrix):Matrix{\n        return new Matrix(\n            this.a * matrix.a + this.c * matrix.b,\n            this.b * matrix.a + this.d * matrix.b,\n            this.a * matrix.c + this.c * matrix.d,\n            this.b * matrix.c + this.d * matrix.d,\n            this.a * matrix.tx + this.c * matrix.ty + this.tx,\n            this.b * matrix.tx + this.d * matrix.ty + this.ty\n        );\n    }\n\n    public deltaTransformPoint(point:Point):Point{\n        return new Point(\n            this.a * point.x + this.c * point.y,\n            this.b * point.x + this.d * point.y\n        );\n    }\n\n    public inverse():Matrix{\n        let determinant = this.a * this.d - this.b * this.c;\n        return new Matrix(\n            this.d / determinant,\n            -this.b / determinant,\n            -this.c / determinant,\n            this.a / determinant,\n            (this.c * this.ty - this.d * this.tx) / determinant,\n            (this.b * this.tx - this.a * this.ty) / determinant\n        );\n    }\n    \n    public rotate(theta:number, aboutPoint:Point):Matrix{\n        return this.concat(Matrix.rotation(theta, aboutPoint));\n    }\n\n    public scale(sx:number, sy:number, aboutPoint:Point):Matrix{\n        return this.concat(Matrix.scale(sx, sy, aboutPoint));\n    }\n\n    public transformPoint(point:Point){\n        return new Point(\n            this.a * point.x + this.c * point.y + this.tx,\n            this.b * point.x + this.d * point.y + this.ty\n        );\n    }\n\n    public translate(tx:number, ty:number):Matrix{\n        return this.concat(Matrix.translation(tx, ty));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/Matrix.ts","/**\n * Created by dsmiley on 6/30/17.\n */\nexport class Point{\n    public x:number;\n    public y:number;\n\n    constructor(x:number=0, y:number=0){\n        this.x = x;\n        this.y = y;\n    }\n\n    public static distance(p1:Point, p2:Point):number{\n        return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n    }\n\n    public static direction(p1:Point, p2:Point):number{\n        return Math.atan2(p2.y - p1.y, p2.x - p1.x);\n    }\n\n    public equal(other:Point):boolean{\n        return this.x === other.x && this.y === other.y;\n    }\n\n    public add(other:Point):Point{\n        return new Point(this.x + other.x, this.y + other.y);\n    }\n\n    public subtract(other:Point):Point{\n        return new Point(this.x - other.x, this.y - other.y);\n    }\n\n    public scale(scalar:number):Point{\n        return new Point(this.x * scalar, this.y * scalar);\n    }\n\n    public magnitude():number{\n        return Point.distance(new Point(0, 0), this);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/Point.ts","/**\n * Created by dsmiley on 5/11/17.\n */\nimport {IEvent} from './IEvent';\n\nexport abstract class AbstractEvent implements IEvent{\n    public type:string;\n    public payload:Object;\n\n    constructor(type:string, payload?:Object){\n        this.type = type;\n        this.payload = payload;\n    }\n\n    abstract clone(type:string, payload:Object):IEvent;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/events/AbstractEvent.ts","/**\n * Created by dsmiley on 5/11/17.\n */\nimport {IEvent} from './IEvent';\nimport {AbstractEvent} from './AbstractEvent';\n\nexport class CollectionEvent extends AbstractEvent{\n    \n    constructor(type:string, payload?:Object){\n        super(type, payload)\n    }\n    \n    public static COLLECTION_CHANGE:string = 'collectionChange';\n    public static COLLECTION_CHANGE_ORDER:string = 'collectionChangeOrder';\n\n    clone(type:string, payload:Object):IEvent{\n        return new CollectionEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/events/CollectionEvent.ts","/**\n * Created by dsmiley on 5/12/17.\n */\nimport {IEvent} from './IEvent';\nimport {AbstractEvent} from './AbstractEvent';\n\nexport class RecordSetEvent extends AbstractEvent{\n\n    constructor(type:string, payload?:Object){\n        super(type, payload)\n    }\n\n    public static TOTALRECORDS_CHANGE:string = 'totalRecordsChange';\n    public static TOTALPAGES_CHANGE:string = 'totalPagesChange';\n    public static PAGE_LIST_CHANGE:string = 'pageListChange';\n    public static RESULTS_CHANGE:string = 'resultsChange';\n    public static RECORDS_PER_PAGE_CHANGE:string = 'recordsPerPageChange';\n    public static SELECTED_PAGE_CHANGE:string = 'selectedPageChange';\n    public static RECORDSETS_CHANGE:string = 'recordsetChange';\n    public static LOAD_PAGE_DATA:string = 'loadRecordSetPageData';\n\n    clone(type:string, payload:Object):IEvent{\n        return new RecordSetEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/events/RecordSetEvent.ts","/**\n * Created by dsmiley on 6/30/17.\n */\nexport class MathUtils{\n    public static degreeToRadian(degAngle:number):number{\n        return degAngle * Math.PI / 180;\n    }\n    public static radianToDegree(radAngle:number):number{\n        return radAngle * 180 / Math.PI;\n    }\n    public static toFixed(number:number, precision:number=10):number{\n        var multiplier = Math.pow( 10, precision );\n        return Math.round( number * multiplier ) / multiplier;\n    }\n    public static isEven(value:number):boolean{\n        return ((value % 2) == 0);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/MathUtils.ts","/**\n * Created by dsmiley on 7/12/17.\n */\nimport {IHttpService} from './IHttpService';\nimport {ArrayList} from '../../model/list/ArrayList';\nimport {IResponder} from '../responder/IResponder';\nimport {IFault} from '../responder/IFault';\nimport {IResult} from '../responder/IResult';\nimport {UuidUtils} from '../../util/UuidUtils';\n\nexport class AbstractHttpService implements IHttpService{\n    public responders:ArrayList = new ArrayList();\n    public requestId:string;\n\n    constructor(){\n\n    }\n\n    //Overriden by subclass\n    protected success(result:IResult):void{\n\n    }\n\n    //Overriden by subclass\n    protected fault(fault:IFault):void{\n\n    }\n\n    public addResponder(responder:IResponder):number{\n        if( responder.fault === null || responder.fault ===undefined || responder.success === null || responder.success === undefined ){\n            throw new Error('responder must define fault and success methods');\n        }\n        return this.responders.addItem(responder);\n    }\n\n    public removeResponder(responder:IResponder):void{\n        if( responder.fault === null || responder.fault ===undefined || responder.success === null || responder.success === undefined ){\n            throw new Error('responder must define fault and success methods');\n        }\n        var index = this.responders.indexOf(responder);\n        this.responders.removeItemAt(index);\n    }\n\n    public send(type:string, url:string, data:any, contentType:string, dataType:string, cache:boolean):string{\n        this.requestId = UuidUtils.generateUUID();\n        return this.requestId;\n    }\n\n    public destroy():void{\n        this.responders.clear();\n        this.responders = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/service/AbstractHttpService.ts","/**\n * Created by dsmiley on 7/12/17.\n */\nimport {IFault} from '../responder/IFault';\nexport class HttpFault implements IFault{\n    public errorObj:any;\n    public status:number;\n    public message:string;\n    public requestId:string;\n    \n    constructor(errorObj:any, status:number, message:string, requestId:string){\n        this.errorObj = errorObj;\n        this.status = status;\n        this.message = message;\n        this.requestId = requestId;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/service/HttpFault.ts","/**\n * Created by dsmiley on 7/12/17.\n */\nimport {IResult} from '../responder/IResult';\nexport class HttpSuccess implements IResult{\n    public resultObj:any;\n    public status:number;\n    public requestId:string;\n    \n    constructor(resultObj:any, status:number, requestId:string){\n        if( resultObj === null || resultObj === undefined && status != 304){\n            throw new Error('resultObj is required');\n        }\n        if( status === null || status === undefined ){\n            throw new Error('status is required');\n        }\n        this.resultObj = resultObj;\n        this.status = status;\n        this.requestId = requestId;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/service/HttpSuccess.ts","/**\n * Created by dsmiley on 4/18/17.\n */\nimport {BindingUtils} from '../../util/BindingUtils';\nimport {IObserver} from './IObserver';\nimport { IBindable } from './IBindable';\n\nclass Binding{\n    readonly host:Object;\n    readonly watcher:IObserver;\n    constructor(host:Object, watcher:IObserver){\n        this.host = host;\n        this.watcher = watcher;\n    }\n}\n\nexport class Binder{\n    private bindingGroups:Object = {};\n\n    constructor() {};\n\n    public bind (host:IBindable, hostProp:string, chain:Object, chainProp:string, isCSS:boolean = false, cssProperty:string = null, group:string = 'default'):void{\n        let changeWatcher:IObserver = BindingUtils.bind(host, hostProp, chain, chainProp, isCSS, cssProperty);\n\n        if (!this.bindingGroups.hasOwnProperty(group)){\n            this.bindingGroups[group] = [] as Array<Binding>;\n        }\n        let binding = new Binding(host, changeWatcher);\n        this.bindingGroups[group].push(binding);\n    }\n    \n    public unbind (group:string = 'default'):void{\n        let bindings = this.bindingGroups[group];\n\n        if (bindings){\n            bindings.forEach(bindingData => {\n                bindingData.host.removeObserver(bindingData.watcher);\n            });\n\n            delete this.bindingGroups[group];\n        }\n    }\n\n    public unbindAll():void{\n        for (var group in this.bindingGroups){\n            this.unbind(group);\n        }\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/observable/Binder.ts","/**\n * Created by dsmiley on 4/18/17.\n */\nimport { IObserver } from './IObserver';\n\nexport class ChangeWatcher implements IObserver {\n\n    readonly chain:string;\n    readonly instance:Object;\n    readonly chainProp:string;\n    readonly isCSS:boolean;\n    readonly cssProperty:string;\n\n    constructor(hostProp:string, chainInstance:Object, chainPropToWatch:string, isCSS:boolean = false, cssProperty?:string) {\n\n        if(isCSS && !cssProperty){\n            throw new Error('cssProperty property is required when isCSS param is true')\n        }\n        \n        this.chain = hostProp;\n        this.instance = chainInstance;\n        this.chainProp = chainPropToWatch;\n        this.isCSS = isCSS;\n        this.cssProperty = cssProperty;\n    };\n\n    public update(value:any, chain?:Object):void {\n        if (this.isCSS) {\n            this.instance[this.chainProp](this.cssProperty, value);\n        }\n        else if (typeof( this.instance[this.chainProp] ) == \"function\") {\n            this.instance[this.chainProp](value, chain);\n        }\n        else {\n            if (this.instance[this.chainProp] != value) {\n                this.instance[this.chainProp] = value;\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/observable/ChangeWatcher.ts","/**\n * Created by dsmiley on 5/17/17.\n */\nimport {ArrayList} from '../list/ArrayList';\nimport {RecordSet} from './RecordSet';\n\nexport class RecordSetList extends ArrayList{\n\n    public recordSetsBySource:Object = {};\n    public recordSetsById:Object = {};\n\n    constructor(source?:Array<any>, allowDuplicates:boolean = true){\n        super(source, allowDuplicates);\n    }\n\n    public addItem(item:RecordSet, hash?:Object, key?:string):number{\n        this.recordSetsById[ item.id ] = item;\n        this.recordSetsBySource[ item.source ] = item;\n        return super.addItem(item, hash, key);\n    }\n    \n    public clear():void{\n        this.clearHash(this.recordSetsById);\n        this.clearHash(this.recordSetsBySource);\n        super.clear();\n    }\n\n    public removeItemAt(index:number):void{\n        let recordSet = this.getItemAt( index ) as RecordSet;\n        this.removeItemFromHash(this.recordSetsById, recordSet.id);\n        this.removeItemFromHash(this.recordSetsBySource, recordSet.source);\n        super.removeItemAt(index);\n    }\n\n    public insert(object:RecordSet, index:number, suppressChangeEvent:boolean=false, hash?:Object, key?:string, replaceIndex:boolean=false):number{\n        //add item to hash\n        this.recordSetsById[ object.id ] = object;\n        this.recordSetsBySource[ object.source ] = object;\n        return super.insert(object, index, suppressChangeEvent, hash, key, replaceIndex);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/recordset/RecordSetList.ts","import {ChangeWatcher} from '../model/observable/ChangeWatcher';\r\nimport {IObserver} from '../model/observable/IObserver';\r\nimport { IBindable } from '../model/observable/IBindable';\r\n\r\nexport class BindingUtils{\r\n    public static bind(host:IBindable, hostProp:string, chain:Object, chainProp:string, isCSS?:boolean, cssProperty?:string):IObserver {\r\n\r\n        let observer:IObserver = new ChangeWatcher(hostProp, chain, chainProp, isCSS, cssProperty);\r\n\r\n        host.addObserver(observer);\r\n\r\n        return observer;\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/BindingUtils.ts","/**\n * Created by dsmiley on 6/30/17.\n */\nimport {Subject} from '../model/observable/Subject';\nimport {ObjectUtils} from './ObjectUtils';\n\nexport class Geometry extends Subject{\n    private _left:number = undefined;\n    private _top:number = undefined;\n    private _width:number = undefined;\n    private _height:number = undefined;\n    \n    constructor(values:any={}){\n        super();\n        this.left = values.left;\n        this.top = values.top;\n        this.width = values.width;\n        this.height = values.height;\n    }\n\n    get left():number{\n        return this._left;\n    }\n    set left(value:number){\n        this._left = value;\n        this.notify(value, \"left\");\n    }\n    get top():number{\n        return this._top;\n    }\n    set top(value:number){\n        this._top = value;\n        this.notify(value, \"top\");\n    }\n    get width():number{\n        return this._width;\n    }\n    set width(value:number){\n        this._width = value;\n        this.notify(value, \"width\");\n    }\n    get height():number{\n        return this._height;\n    }\n    set height(value:number){\n        this._height = value;\n        this.notify(value, \"height\");\n    }\n\n    public update(values:Object={}):void{\n\n        for (var key in values) {\n            //note accessor methods that are defined using Object.defineProperty in ES6 are found on the prototype not the object instance, hence the use of getPrototypeOf\n            if (ObjectUtils.isPropDefined(values, key) && Object.getPrototypeOf( this ).hasOwnProperty(key)) {\n                this[key] = values[key];\n            }\n        }\n    }\n\n    public getDefinedValues():Object{\n        var res = {};\n        Object.keys(Object.getPrototypeOf(this)).forEach((key) =>{\n            if (this[key]) {\n                res[key] = this[key];\n            }\n        })\n        return res;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/Geometry.ts","/**\n * Created by dsmiley on 6/30/17.\n */\nimport {MathUtils} from './MathUtils';\nimport {Point} from './Point';\nimport {Matrix} from './Matrix';\nexport class MatrixUtils{\n    \n    public static rotate(matrix:Matrix, degAngle:number, point:Point):Matrix{\n        return matrix.rotate(MathUtils.degreeToRadian(degAngle), point);\n    }\n\n    public static matrixToCSS(matrix:Matrix):string{\n        let coeffs = ['a', 'b', 'c', 'd', 'tx', 'ty'];\n        let values = [];\n        for (let i in coeffs)\n        {\n            values.push(MathUtils.toFixed(matrix[coeffs[i]]));\n        }\n        return 'matrix(' + values.join(',')+ ')';\n        \n    }\n    \n    public static getRotationAngleForElement(element:HTMLElement):number{\n        let matrix = element.style[\"-webkit-transform\"] ||\n            element.style[\"-moz-transform\"]    ||\n            element.style[\"-ms-transform\"]     ||\n            element.style[\"-o-transform\"]      ||\n            element.style[\"transform\"];\n        let angle;\n        if(matrix !== 'none') {\n            let values = matrix.split('(')[1].split(')')[0].split(',');\n            let a = values[0];\n            let b = values[1];\n            angle = Math.round(Math.atan2(b, a) * (180/Math.PI));\n        } else {\n            angle = 0;\n        }\n        return angle;\n    }\n\n    public static getRotationAngle(matrix:Matrix):number{\n        return MathUtils.toFixed(MathUtils.radianToDegree(Math.atan2(matrix.b, matrix.a)));\n    }\n    \n    public static getMatrix(cssTransformMatrix:string):Matrix{\n        let values = cssTransformMatrix.split('(')[1];\n        values = values.split(')')[0];\n        let valuesArray = values.split(',');\n        let a = parseFloat(valuesArray[0]);\n        let b = parseFloat(valuesArray[1]);\n        let c = parseFloat(valuesArray[2])\n        let d = parseFloat(valuesArray[3]);\n        let tx = parseFloat(valuesArray[4]);\n        let ty = parseFloat(valuesArray[5]);\n        return new Matrix(a,b,c,d, tx, ty);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/MatrixUtils.ts","export class StringUtil {\n\tpublic static substitute(str: string, rest: any[]): string {\n\t\tif (str === null) {\n\t        return '';\n\t    }\n\n\t    // Replace all of the parameters in the msg string.\n\t    let len = rest.length;\n\t    let args = [];\n\t    if (len == 1 && rest[0] instanceof Array) {\n\t        args = rest[0];\n\t        len = args.length;\n\t    }\n\t    else {\n\t        args = rest;\n\t    }\n\n\t    for (var i = 0; i < len; i++) {\n\t        str = str.replace(new RegExp('\\\\{' + i + '\\\\}', 'g'), args[i]);\n\t    }\n\n\t    return str;\n\t}\n\t\n\tpublic static compressSpaces(str: string): string {\n\t\treturn str.replace(/[\\s\\r\\t\\n]+/gm,' ');\n\t}\n\t\n\tpublic static trim(str: string): string {\n\t\tif (str == null) return '';\n\n\t    let startIndex = 0;\n\t    while (StringUtil.isWhitespace(str.charAt(startIndex)))\n\t        ++startIndex;\n\n\t    let endIndex = str.length - 1;\n\t    while (StringUtil.isWhitespace(str.charAt(endIndex)))\n\t        --endIndex;\n\n\t    if (endIndex >= startIndex)\n\t        return str.slice(startIndex, endIndex + 1);\n\t    else\n\t        return '';\n\t}\n\t\n\tpublic static isWhitespace(character: string): boolean {\n\t\tswitch (character) {\n\t        case ' ':\n\t        case '\\t':\n\t        case '\\r':\n\t        case '\\n':\n\t        case '\\f':\n\t            return true;\n\n\t        default:\n\t            return false;\n\t    }\n\t}\n\t\n\tpublic static convertCharCodesToString(codes: string): String {\n\t\tlet charArray = codes.split('_');\n\t    let returnValue = new String();\n\t    //this first position in the array is the prefix spi_\n\t    for( let i = 1; i < charArray.length; i++ ){\n\t        returnValue += String.fromCharCode(parseInt(charArray[i], 10));\n\t    }\n\t    return returnValue;\n\t}\n\t\n\tpublic static fixedCharCodeAt(str: string, idx: number) {\n\t\t// ex. fixedCharCodeAt ('\\uD800\\uDC00', 0); // 65536\n\t    // ex. fixedCharCodeAt ('\\uD800\\uDC00', 1); // false\n\t    idx = idx || 0;\n\t    let code = str.charCodeAt(idx);\n\t    let hi, low;\n\n\t    // High surrogate (could change last hex to 0xDB7F to treat high\n\t    // private surrogates as single characters)\n\t    if (0xD800 <= code && code <= 0xDBFF) {\n\t        hi = code;\n\t        low = str.charCodeAt(idx+1);\n\t        if (isNaN(low)) {\n\t            throw new Error('StringUtil.fixedCharCodeAt: High surrogate not followed by low surrogate in fixedCharCodeAt()');\n\t        }\n\t        return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\n\t    }\n\t    if (0xDC00 <= code && code <= 0xDFFF) { // Low surrogate\n\t        // We return false to allow loops to skip this iteration since should have\n\t        // already handled high surrogate above in the previous iteration\n\t        return false;\n\t        /*hi = str.charCodeAt(idx-1);\n\t         low = code;\n\t         return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;*/\n\t    }\n\t    return code;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/StringUtil.ts","/**\n * Created by dsmiley on 7/11/17.\n */\nexport class UuidUtils{\n    constructor(){\n        \n    }\n    \n    public static generateUUID():string{\n        let d = new Date().getTime();\n        let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            let r = (d + Math.random()*16)%16 | 0;\n            d = Math.floor(d/16);\n            return (c=='x' ? r : (r&0x3|0x8)).toString(16);\n        });\n        return uuid;\n    }\n\n    public static getRandomInt(min:number, max:number):number{\n        return Math.floor(Math.random() * (max - min)) + min;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/UuidUtils.ts","/**\n * Created by dsmiley on 7/12/17.\n */\nimport {HttpSuccess} from './HttpSuccess';\nimport {HttpFault} from './HttpFault';\nimport {AbstractHttpService} from '../service/AbstractHttpService';\nimport {IFault} from '../responder/IFault';\nimport {IResult} from '../responder/IResult';\n\nexport class XhrHttpService extends AbstractHttpService{\n\n    private xhrRequest:XMLHttpRequest;\n    private async:boolean;\n    private notifyOnProgress:boolean;\n\n    constructor(async:boolean=true, notifyOnProgress:boolean=false){\n        super();\n        this.xhrRequest = null;\n        this.async = async;\n        this.notifyOnProgress = notifyOnProgress;\n    }\n\n    private addEventListeners():void{\n        if( this.notifyOnProgress ){\n            this.xhrRequest.addEventListener(\"progress\", this.updateProgress, false);\n        }\n        this.xhrRequest.addEventListener(\"load\", this.load, false);\n        this.xhrRequest.addEventListener(\"error\", this.onXhrFault, false);\n    }\n\n    private removeEventListeners():void{\n        this.xhrRequest.removeEventListener(\"load\", this.load, false);\n        this.xhrRequest.removeEventListener(\"error\", this.onXhrFault, false);\n        this.xhrRequest.removeEventListener(\"progress\", this.updateProgress, false);\n    }\n\n    public success(result:IResult):void{\n        if( this.xhrRequest.status != 200 ){\n            //errorObj:any, status:number, message:string, requestId:string\n            let faultObj = new HttpFault(this.xhrRequest.response, this.xhrRequest.status, this.xhrRequest.responseText, this.requestId);\n            this.fault(faultObj);\n            return;\n        }\n        let sucessObj = new HttpSuccess(this.xhrRequest.response, this.xhrRequest.status, this.requestId);\n        for (let responderIndex = 0; responderIndex < this.responders.length; responderIndex++) {\n            let responder = this.responders.getItemAt(responderIndex);\n            responder.success(sucessObj);\n        }\n        this.destroy();\n    }\n\n    public fault(fault:IFault):void{\n        for (let responderIndex = 0; responderIndex < this.responders.length; responderIndex++) {\n            let responder = this.responders.getItemAt(responderIndex);\n            responder.fault(fault);\n        }\n        this.destroy();\n    }\n\n    public load(event):void{\n        if( this.notifyOnProgress ){\n            for (let responderIndex = 0; responderIndex < this.responders.length; responderIndex++) {\n                let responder = this.responders.getItemAt(responderIndex);\n                responder.onProgress( 100, this.requestId );\n            }\n        }\n    }\n    \n    public updateProgress(event):void{\n        //event.lengthComputable seems to always be false, this might be because the service is not sending back progress events though\n        //so I've commented it our for now\n        //if (event.lengthComputable) {\n        let percentComplete = event.loaded / ((event.total > 0) ? event.total : event.loaded); //prevent division by zero when !event.lengthComputable\n        for (let responderIndex = 0; responderIndex < this.responders.length; responderIndex++) {\n            let responder = this.responders.getItemAt(responderIndex);\n            responder.onProgress( percentComplete, this.requestId );\n        }\n        //}\n    }\n\n    public send(type:string, url:string, data:any, contentType:string, dataType:XMLHttpRequestResponseType, cache:boolean=false):string{\n        let requestId:string = super.send(type, url, data, contentType, dataType, cache);\n        this.xhrRequest = new XMLHttpRequest();\n        this.addEventListeners();\n        this.xhrRequest.onreadystatechange = function( event ){\n            if( this.xhrRequest.readyState == 4 ){\n                this.success(this.xhrRequest.response);\n            }\n        }.bind(this);\n        this.xhrRequest.open( type, url, this.async );\n        if( dataType !== null ){\n            this.xhrRequest.responseType = dataType;\n        }\n        if( contentType !== null ){\n            this.xhrRequest.setRequestHeader(\"Content-Type\", contentType);\n        }\n        this.xhrRequest.send( data );\n        return requestId;\n    }\n\n    public onXhrFault(event):void{\n        let faultObj = new HttpFault(this.xhrRequest.response, this.xhrRequest.status, this.xhrRequest.responseText, this.requestId);\n        this.fault(faultObj);\n    }\n\n    public abort():void{\n        this.xhrRequest.onreadystatechange = null;\n        this.removeEventListeners();\n        this.xhrRequest.abort();\n        this.destroy();\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.removeEventListeners();\n        this.xhrRequest.onreadystatechange = null;\n        this.xhrRequest = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/service/XhrHttpService.ts","/**\n * Created by dsmiley on 5/17/17.\n */\nimport {Subject} from './observable/Subject';\n\nexport class AsyncOperationModel extends Subject{\n    private _asyncOperationCount:number = 0;\n    private _asyncOperationComplete:boolean = true;\n\n    constructor(){\n        super();\n    }\n\n    get asyncOperationCount():number{\n        return this._asyncOperationCount;\n    }\n    set asyncOperationCount(value:number){\n        this._asyncOperationCount = value;\n        this.notify(value, \"asyncOperationCount\");\n    }\n\n    get asyncOperationComplete():boolean{\n        return this.asyncOperationCount <= 0;\n    }\n    set asyncOperationComplete(value:boolean){\n        this._asyncOperationComplete = value;\n        this.notify(value, 'asyncOperationComplete');\n    }\n\n    public addAsyncOperation():void{\n        this.asyncOperationComplete = false;\n        this.asyncOperationCount += 1;\n    }\n\n    public removeAsyncOperation():void{\n        this.asyncOperationCount -= 1;\n        if (!this.asyncOperationCount)\n        {\n            this.asyncOperationComplete = true;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/AsyncOperationModel.ts","/**\n * Created by dsmiley on 5/17/17.\n */\nimport {Subject} from './observable/Subject';\nimport {AsyncOperationModel} from \"./AsyncOperationModel\";\nimport {ErrorModel} from \"./ErrorModel\";\n\nexport class Config extends Subject{\n    private _baseUrl:string;//base http address of application ie http://localhost:3000\n    private _webRoot:string = '';//path relative to webroot where the application is deployed\n    private _parserCode:string = undefined;//used to handle service results using a factory patter, see lotusJS examples\n    private _exporterCode:string = undefined;//used to serialize objects for service payloads using a factory patter, see lotusJS examples\n    private _token:string = undefined;//used for oAuth authentication scemes and similar token based authentication systems\n    private _serviceCode:string = undefined;//used for assigning a concrete service implementation\n    private _asyncOperationModel:AsyncOperationModel = undefined;//used for assigning a concrete service implementation\n    private _errorModel:ErrorModel = undefined;//used for assigning a concrete service implementation\n\n    constructor(){\n        super();\n    }\n\n    get errorModel():ErrorModel{\n        return this._errorModel;\n    }\n    set errorModel(value:ErrorModel){\n        this._errorModel = value;\n        this.notify(value, \"errorModel\");\n    }\n\n    get asyncOperationModel():AsyncOperationModel{\n        return this._asyncOperationModel;\n    }\n    set asyncOperationModel(value:AsyncOperationModel){\n        this._asyncOperationModel = value;\n        this.notify(value, \"asyncOperationModel\");\n    }\n\n    get serviceCode():string{\n        return this._serviceCode;\n    }\n    set serviceCode(value:string){\n        this._serviceCode = value;\n        this.notify(value, \"serviceCode\");\n    }\n\n    get baseUrl():string{\n        return this._baseUrl;\n    }\n    set baseUrl(value:string){\n        this._baseUrl = value;\n        this.notify(value, \"baseUrl\");\n    }\n\n    get webRoot():string{\n        return this._webRoot;\n    }\n    set webRoot(value:string){\n        this._webRoot = value;\n        this.notify(value, \"webRoot\");\n    }\n\n    get parserCode():string{\n        return this._parserCode;\n    }\n    set parserCode(value:string){\n        this._parserCode = value;\n        this.notify(value, \"parserCode\");\n    }\n\n    get exporterCode():string{\n        return this._exporterCode;\n    }\n    set exporterCode(value:string){\n        this._exporterCode = value;\n        this.notify(value, \"exporterCode\");\n    }\n\n    get token():string{\n        return this._token;\n    }\n    set token(value:string){\n        this._token = value;\n        this.notify(value, \"token\");\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/Config.ts","/**\n * Created by dsmiley on 5/17/17.\n */\nimport {Subject} from './observable/Subject';\nimport {ArrayList} from './list/ArrayList';\n\nexport class ErrorModel extends Subject{\n\n    private _appError:boolean = false;\n    private _errors:ArrayList = new ArrayList();\n\n    constructor(){\n        super();\n    }\n\n    get appError():boolean{\n        return this._appError;\n    }\n    set appError(value:boolean){\n        this._appError = value;\n        this.notify(value, \"appError\");\n    }\n\n    get errors():ArrayList{\n        return this._errors;\n    }\n    set errors(value:ArrayList){\n        this._errors = value;\n        this.notify(value, \"errors\");\n    }\n\n    public getTitle():string{\n        var returnTitle = (this.errors.length > 1 ) ? 'Multiple errors have occurred.\\n' : 'The following error occurred.\\n';\n        return returnTitle;\n    }\n\n    public getMessage():string{\n        var returnText = '';\n        for( var errorIndex = 0; errorIndex < this.errors.length; errorIndex++ ){\n            returnText += 'Name: '+ this.errors.getItemAt(errorIndex).name + '\\n';\n            returnText += 'Message: '+ this.errors.getItemAt(errorIndex).message + '\\n';\n            returnText += '\\n';\n        }\n        return returnText;\n    }\n\n    public addError(error:Error):void{\n        this.errors.addItem( error );\n        this.appError = true;\n    }\n\n    public clear():void{\n        this.errors.clear();\n        this.appError = false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/ErrorModel.ts","/**\n * Created by dsmiley on 5/12/17.\n */\nimport {Subject} from '../observable/Subject';\nimport {CollectionEvent} from '../../events/CollectionEvent';\nimport {RecordSetEvent} from '../../events/RecordSetEvent';\nimport {IEvent} from '../../events/IEvent';\nimport {IList} from '../list/IList';\nimport {ArrayList} from '../list/ArrayList';\nimport {ObjectUtils} from '../../util/ObjectUtils';\nimport {EventDispatcher} from '../../control/EventDispatcher';\nimport {IEventDispatcher} from '../../control/IEventDispatcher';\n\nexport class RecordSet extends Subject implements IEventDispatcher{\n\n    public static USER_UPLOAD:string = 'userUpload';\n    public static FOTOLIA:string = 'fotolia';\n    public static FACEBOOK:string = 'facebook';\n    \n    private _id:string;\n    private _totalRecords:number;\n    private _totalPages:number\n    private _selectedPage:number;\n    private _recordsPerPage:number;\n    private _results:IList;\n    private _pageList:IList;\n    private _createdOn:number;\n    private _timeToLive:number;\n    private _source:string;\n    private _routeController:Object;\n    private _intervalId:number;\n\n    public resultsByPage:Object = {};\n\n    //placeholders for mixins, required for the compiler\n    handlersByEventName:Object;\n    addEventListener: (  event:string, instance:Object, handler:string ) => void;\n    canListen: (  eventType:string, instance:Object, handler:string )  => boolean;\n    removeEventListener: ( event:string, instance:Object, handler:string )  => void;\n    removeAllEventListeners: ( instance:Object )  =>  void;\n    dispatch: ( event:IEvent )  =>  void;\n\n    get id():string{\n        return this._id;\n    }\n    set id(val:string){\n        this._id = val;\n        this.notify(val, \"id\");\n    }\n\n    get totalRecords():number{\n        return this._totalRecords;\n    }\n    set totalRecords(val:number){\n        this._totalRecords = val;\n        if( this._totalRecords != val ){\n            this._totalRecords = val;\n            this.notify(val, \"totalRecords\");\n            this.dispatch(new RecordSetEvent(RecordSetEvent.TOTALRECORDS_CHANGE));\n        }\n    }\n\n    get totalPages():number{\n        return this._totalPages;\n    }\n    set totalPages(val:number){\n        if( this._totalPages != val ){\n            this._totalPages = val;\n            this.notify(val, \"totalPages\");\n            this.dispatch(new RecordSetEvent(RecordSetEvent.TOTALPAGES_CHANGE));\n        }\n    }\n\n    get selectedPage():number{\n        return this._selectedPage;\n    }\n    set selectedPage(val:number){\n        if (this._selectedPage != val) {\n            //IMPORTANT: set the value first so responders to the ImageAssetEvent.GET_IMAGE_ASSETS event know what page we need to load data for\n            this._selectedPage = val;\n            if( val >= 1 && !this.pageLoaded( val ) ){\n                this.dispatch(new RecordSetEvent(RecordSetEvent.LOAD_PAGE_DATA, {recordSet:this}));\n            }\n            this.calculatePageList();\n            this.notify(val, \"selectedPage\");\n            this.dispatch(new RecordSetEvent(RecordSetEvent.SELECTED_PAGE_CHANGE));\n        }\n    }\n\n    get recordsPerPage():number{\n        return this._recordsPerPage;\n    }\n    set recordsPerPage(val:number){\n        if (this._recordsPerPage != val)\n        {\n            this._recordsPerPage = val;\n            this.renewState();\n            this.notify(val, \"recordsPerPage\");\n            this.dispatch(new RecordSetEvent(RecordSetEvent.RECORDS_PER_PAGE_CHANGE));\n        }\n    }\n\n    get results():IList{\n        return this._results;\n    }\n    set results(val:IList){\n        if (this._results != val) {\n\n            if ( this._results!== null && this._results!== undefined )\n            {\n                this._results.removeEventListener(CollectionEvent.COLLECTION_CHANGE, this, 'resultCollectionChanged');\n            }\n            this._results = val;\n            if ( this._results!== null && this._results!== undefined )\n            {\n                this.renewState();\n                this.selectedPage = 1;\n                this._results.addEventListener(CollectionEvent.COLLECTION_CHANGE, this, 'resultCollectionChanged');\n            }\n            this.notify(val, \"results\");\n            this.dispatch(new RecordSetEvent(RecordSetEvent.RESULTS_CHANGE));\n        }\n    }\n\n    get createdOn():number{\n        return this._createdOn;\n    }\n    set createdOn(val:number){\n        this._createdOn = val;\n        this.notify(val, \"createdOn\");\n    }\n\n    get pageList():IList{\n        return this._pageList;\n    }\n    set pageList(val:IList){\n        this._pageList = val;\n        this.notify(val, \"pageList\");\n        this.dispatch(new RecordSetEvent(RecordSetEvent.PAGE_LIST_CHANGE));\n    }\n\n    get timeToLive():number{\n        return this._timeToLive;\n    }\n    set timeToLive(val:number){\n        this._timeToLive = val;\n        if( this._intervalId !== null && this._intervalId !== undefined ){\n            this.clearInterval();\n            //TODO:have this reload data instead of clearing it\n            //set the timeout to _timeToLive. This will clear the recordset at the interval\n            //calling this accessor multiple times will reset the timeout preserving the records\n            this._intervalId = setTimeout(() =>{ this.clear }, val);\n        }\n        this.notify(val, \"timeToLive\");\n    }\n\n    get source():string{\n        return this._source;\n    }\n    set source(val:string){\n        this._source = val;\n        this.notify(val, \"source\");\n    }\n\n    get routeController():Object{\n        return this._routeController;\n    }\n    set routeController(val:Object){\n        this._routeController = val;\n        this.notify(val, \"routeController\");\n    }\n    \n    constructor(timeToLive:number=NaN, listFunction:any=null){\n        super();\n\n        ObjectUtils.mixin(EventDispatcher, RecordSet, this);\n\n        this._timeToLive = timeToLive;\n        this._results = ( listFunction ) ? new listFunction() as IList : new ArrayList();\n        this._pageList = ( listFunction ) ? new listFunction() as IList : new ArrayList();\n\n        if(!isNaN(this._timeToLive)){\n            this._intervalId = setTimeout(()=>{\n                this.clear();\n            });\n        }//func, delay[, param1, param2, ...]\n        this._results.addEventListener(CollectionEvent.COLLECTION_CHANGE, this, 'resultCollectionChanged');\n    }\n    \n    private clearInterval():void{\n        if( this._intervalId !== null && this._intervalId !== undefined ){\n            clearInterval( this._intervalId );\n        }\n    }\n\n    private clear():void{\n        if( this.results!== undefined && this.results !== null ){\n            this.results.clear();\n        }\n        this.totalRecords = 0;\n        this.totalPages = 0;\n        this.resultsByPage[this.selectedPage] = new ArrayList();\n        this.resultsByPage = {};\n        this.selectedPage = -1;\n        this.renewState();\n    }\n\n    private pageLoaded(pageNumber:number):boolean{\n        return this.resultsByPage[pageNumber] !== null && this.resultsByPage[pageNumber] !== undefined  && (this.resultsByPage[pageNumber].length == this.recordsPerPage || pageNumber == this.totalPages);\n    }\n\n    private calculatePageList():void{\n        this.pageList = this.resultsByPage[this.selectedPage];\n    }\n\n    private renewState():void{\n        this.totalPages = (Math.ceil(this.totalRecords / this.recordsPerPage));\n        //loop through each page\n        for( let pageIndex = 1; pageIndex <= this.totalPages; pageIndex++){\n            let first = (pageIndex - 1) * this.recordsPerPage;\n            let last = ((first + this.recordsPerPage) > this.totalRecords) ? this.totalRecords : first + this.recordsPerPage;\n            let dp = new ArrayList();\n            if (this.results !== null && this.results !== undefined) {\n                for (let i = first; i < last; i++) {\n                    //because items can be added to the results in a non sequential manner (ie page 5 can be loaded before page 2) we have to check to make sure the items are loaded\n                    if( this.results.getItemAt(i) === null || this.results.getItemAt(i) === undefined ){\n                        continue;\n                    }\n                    dp.addItem(this.results.getItemAt(i));\n                }\n            }\n            //if no items were added do not populate the page data index\n            if( dp.length > 0 ){\n                this.resultsByPage[pageIndex] = dp;\n            }\n        }\n        this.calculatePageList();\n        this.dispatch(new RecordSetEvent(RecordSetEvent.RESULTS_CHANGE));\n    }\n\n    public resultCollectionChanged(event:CollectionEvent){\n        this.renewState();\n    }\n\n    public destroy():void{\n        this.clearInterval();\n        this.results = null;\n        this.pageList = null;\n        this.resultsByPage = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/recordset/RecordSet.ts","/**\n * Created by dsmiley on 5/17/17.\n */\nimport {RecordSetList} from './RecordSetList';\nimport {ObjectUtils} from '../../util/ObjectUtils';\nimport {EventDispatcher} from '../../control/EventDispatcher';\nimport {IEventDispatcher} from '../../control/IEventDispatcher';\nimport {Subject} from '../observable/Subject';\nimport {IEvent} from '../../events/IEvent';\nimport {RecordSetEvent} from '../../events/RecordSetEvent'\n\nexport class RecordSetModel extends Subject implements EventDispatcher{\n\n    private _recordSets:RecordSetList = new RecordSetList();\n\n    constructor(){\n        super();\n        ObjectUtils.mixin(EventDispatcher, RecordSetModel, this);\n    }\n\n    //placeholders for mixins, required for the compiler\n    handlersByEventName:Object;\n    addEventListener: (  event:string, instance:Object, handler:string ) => void;\n    canListen: (  eventType:string, instance:Object, handler:string )  => boolean;\n    removeEventListener: ( event:string, instance:Object, handler:string )  => void;\n    removeAllEventListeners: ( instance:Object )  =>  void;\n    dispatch: ( event:IEvent )  =>  void;\n\n    get recordSets():RecordSetList{\n        return this._recordSets;\n    }\n    set recordSets(value:RecordSetList){\n        this._recordSets = value;\n        this.notify(value, \"recordSets\");\n        this.dispatch(new RecordSetEvent(RecordSetEvent.RECORDSETS_CHANGE));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/recordset/RecordSetModel.ts","/**\n * Created by dsmiley on 5/18/17.\n */\n\nexport class BrowserInfo {\n    public browser:string;\n    public version:string;\n\n    constructor(browser?:string, version?:string) {\n        this.browser = browser;\n        this.version = version;\n    }\n}\n\nexport class BrowserUtils {\n    static uaMatch(ua:string):BrowserInfo {\n        ua = ua.toLowerCase();\n        let match = /(ipad).*(?:safari)[ \\/]([\\w.]+)/.exec( ua ) ||\n            /(android)[ chrome\\/]([\\w.]+)/.exec( ua ) ||//MUST BE BEFORE CHROME\n            /(chrome)[ \\/]([\\w.]+)/.exec( ua ) ||\n            /(safari)[ \\/]([\\w.]+)/.exec( ua ) ||\n            /(firefox)[ \\/]([\\w.]+)/.exec( ua ) ||\n            /(webkit)[ \\/]([\\w.]+)/.exec( ua ) ||\n            /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec( ua ) ||\n            /(msie) ([\\w.]+)/.exec( ua ) ||\n            /trident.*rv[ :]*[1-9]\\d\\./.exec( ua.toLowerCase() ) ||\n            ua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec( ua ) ||\n            [];\n\n        //IE 11+ changed user agents, AWESOME!!! More info here: http://stackoverflow.com/questions/17447373/how-can-i-target-only-internet-explorer-11-with-javascript\n        //We need to reset to the expected id forIE\n        if( /trident.*rv[ :]*[1-9]\\d\\./.exec( ua.toLowerCase() ) ){\n            match[ 1 ] = 'msie';//reset to msie\n            match[ 2 ] = /[1-9]\\d\\./.exec( ua );\n        }\n\n        let browser = match[1] || \"\";\n        let version = match[2] || \"0\";\n        return new BrowserInfo(browser, version);\n    }\n\n    static getBrowser():BrowserInfo {\n        let returnValue:BrowserInfo = new BrowserInfo('nodeJS', 'nodeJS')\n        try{\n            if(navigator){\n                returnValue = BrowserUtils.uaMatch(navigator.userAgent);\n            }\n        }catch(e){\n            console.log(e.stack);\n        }\n        return returnValue;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/BrowserUtils.ts","/**\n * Created by dsmiley on 5/18/17.\n */\nexport class ColorUtils{\n\n    public static rgb2hex(rgb:string):string{\n        let result:Array<string> = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\n        if( result === null || result === undefined || result.length <= 0 ){\n            return null;\n        }\n        return \"#\" +\n            (\"0\" + parseInt(result[1],10).toString(16)).slice(-2) +\n            (\"0\" + parseInt(result[2],10).toString(16)).slice(-2) +\n            (\"0\" + parseInt(result[3],10).toString(16)).slice(-2);\n    }\n\n    public static hexToRgb(hex:string):string{\n        let c:Array<string>;\n        if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){\n            c= hex.substring(1).split('');\n            if(c.length== 3){\n                c= [c[0], c[0], c[1], c[1], c[2], c[2]];\n            }\n            let returnValue:number = Number('0x'+c.join('')) as number;\n            return 'rgb('+[(returnValue>>16)&255, (returnValue>>8)&255, returnValue&255].join(',')+')';\n        }\n        throw new Error('Bad Hex');\n    }\n\n    public static hexToRgbA(hex:string):string{\n        let c:Array<string>;\n        if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){\n            c= hex.substring(1).split('');\n            if(c.length== 3){\n                c= [c[0], c[0], c[1], c[1], c[2], c[2]];\n            }\n            let returnValue:number = Number('0x'+c.join('')) as number;\n            return 'rgba('+[(returnValue>>16)&255, (returnValue>>8)&255, returnValue&255].join(',')+',1)';\n        }\n        throw new Error('Bad Hex');\n    }\n\n    public static hexToRgbArray(hex:string):Array<number>{\n        let c:Array<string>;\n        if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){\n            c= hex.substring(1).split('');\n            if(c.length== 3){\n                c= [c[0], c[0], c[1], c[1], c[2], c[2]];\n            }\n            let returnValue:number =  Number('0x'+c.join('')) as number;\n            return [(returnValue>>16)&255, (returnValue>>8)&255, returnValue&255];\n        }\n        throw new Error('Bad Hex');\n    }\n    \n    public static rgbToHsl(r:number, g:number, b:number):Array<number>{\n        r /= 255, g /= 255, b /= 255;\n        let max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h, s, l = (max + min) / 2;\n\n        if(max == min){\n            h = s = 0; // achromatic\n        }else{\n            let d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch(max){\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n\n        return [Math.floor(h * 360), Math.floor(s * 100), Math.floor(l * 100)];\n    }\n    \n    public static rgbToHsv(r:number, g:number, b:number):Array<number>{\n        let min = Math.min(r, g, b),\n            max = Math.max(r, g, b),\n            delta = max - min,\n            h, s, v = max;\n\n        v = Math.floor(max / 255 * 100);\n        if ( max != 0 )\n            s = Math.floor(delta / max * 100);\n        else {\n            // black\n            return [0, 0, 0];\n        }\n\n        if( r == max )\n            h = ( g - b ) / delta;         // between yellow & magenta\n        else if( g == max )\n            h = 2 + ( b - r ) / delta;     // between cyan & yellow\n        else\n            h = 4 + ( r - g ) / delta;     // between magenta & cyan\n\n        h = Math.floor(h * 60);            // degrees\n        if( h < 0 ) h += 360;\n\n        return [h, s, v];\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/ColorUtils.ts","/**\n * Created by dsmiley on 5/19/17.\n */\nexport class CoordsUtils{\n    public static globalToLocal(container:HTMLElement, pageX:number, pageY:number):Offset{\n        let position = CoordsUtils.offset(container);\n\n        return new Offset(pageX - position.left, pageY - position.top);\n    }\n\n    public static offset (element:HTMLElement){\n        let win:Window,\n            box = { top: 0, left: 0 },\n            elem:HTMLElement = element,\n            doc:Document = elem && elem.ownerDocument;\n\n        if ( !doc ) {\n            return;\n        }\n\n        let docElem:HTMLElement = doc.documentElement;\n\n        // Make sure it's not a disconnected DOM node\n        if ( !docElem.contains( elem ) ) {\n            return box;\n        }\n\n        box = elem.getBoundingClientRect();\n        win = CoordsUtils.getWindow( doc );\n        return {\n            top: box.top  + ( win.pageYOffset || docElem.scrollTop )  - ( docElem.clientTop  || 0 ),\n            left: box.left + ( win.pageXOffset || docElem.scrollLeft ) - ( docElem.clientLeft || 0 )\n        };\n    }\n\n    private static getWindow( elem:any ):Window{\n        var returnValue:Window = CoordsUtils.isWindow( elem ) ?\n            elem as Window:\n            elem.nodeType === 9 ?\n            elem['defaultView'] || elem['parentWindow'] : null;\n        return returnValue;\n    }\n\n    private static isWindow( elem:HTMLElement ){\n        return elem != null && elem.hasOwnProperty('window') && elem == elem['window'];\n    }\n}\n\nexport class Offset{\n    public top:number;\n    public left:number;\n\n    constructor(top, left){\n        this.top = top;\n        this.left = left;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/CoordsUtils.ts","/**\n * Created by dsmiley on 6/30/17.\n */\nexport class CopyUtils{\n    public static copyInheredValues(child:Object, parent:Object):void{\n        for (var prop in parent ) {\n            if( child.hasOwnProperty(prop) && ( child[prop] === undefined || child[prop] === null || child[prop] === ''|| child[prop] === NaN ) ){\n                child[prop] = parent[prop];\n            }\n        }\n    }\n\n    public static overwriteValues(child:Object, parent:Object, excludeObjects:Object={}):void{\n        for (var prop in parent ) {\n            if( child.hasOwnProperty(prop) ){ //As of jQuery 1.6, the .attr() method returns undefined for attributes that have not been set. null means it does not exist\n                var value = ( excludeObjects.hasOwnProperty(prop) ) ? child[prop] : parent[prop];\n                child[prop] = value;\n            }\n        }\n    }\n\n    public static concatObjects(objects:Array<Object>):Object{\n        var ret = {};\n        var len = objects.length;\n        for (var i=0; i<len; i++) {\n            for (var p in objects[i]) {\n                if (objects[i].hasOwnProperty(p)) {\n                    ret[p] = objects[i][p];\n                }\n            }\n        }\n        return ret;\n    }\n\n    public static copyProperties(target:Object, source:Object):void{\n        for (var prop in source ) {\n            if (typeof source[prop] !== 'function') {\n                target[prop] = source[prop];\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/CopyUtils.ts","import {MathUtils} from './MathUtils';\nimport {StringUtil} from './StringUtil';\nimport {Matrix} from './Matrix';\nimport {Point} from './Point';\n\nexport type containerParams = {width: number, height: number, rotation: number, top: number, left: number};\nexport type pathArray = Point[];\nexport class PathUtils {\n\tpublic static parsePathFromString(strPath: string):Array<Object> {\n\t\tstrPath = StringUtil.trim(StringUtil.compressSpaces(strPath));\n\t    let arr = strPath.split(\" \");\n\t    let curElement;\n\t    let counter = 0;\n\t    let result = [];\n\t    let len = arr.length;\n\t    do\n\t    {\n\t        curElement = arr[counter];\n\t        var value = parseFloat(curElement);\n\t        if (isNaN(value) || value == undefined)\n\t        {\n\t            // command\n\t            result.push(curElement);\n\t        }\n\t        else\n\t        {\n\t            // point\n\t            let y = parseFloat(arr[++counter]);\n\t            result.push(new Point(MathUtils.toFixed(value), MathUtils.toFixed(y)));\n\t        }\n\t    }\n\t    while (++counter < len);\n\n\t    return result;\n    }\n\t\n\tpublic static isPoint(obj: object): boolean {\n\t\treturn (obj.hasOwnProperty(\"x\") && obj.hasOwnProperty(\"y\"));\n\t}\n\t\n\tpublic static convertPathToString(arrPath: pathArray): string {\n\t\tlet res = \"\";\n\t    arrPath.forEach(elem => {\n\t        if (PathUtils.isPoint(elem)) {\n\t            res += MathUtils.toFixed(elem.x) + \" \" + MathUtils.toFixed(elem.y);\n\t        }\n\t        else {\n\t            res += elem;\n\t        }\n\n\t        res += \" \";\n\t    });\n\n\t    return StringUtil.trim(res);\n\t}\n\t\n\tpublic static movePath(arrPath: pathArray, dx: number, dy: number, updateSource?: boolean): pathArray {\n\t\tupdateSource = updateSource != undefined ? updateSource : true;\n\t    let res = []\n\t    arrPath.forEach(elem => {\n\t        if (PathUtils.isPoint(elem)) {\n\t            if (updateSource) {\n\t                elem.x += dx;\n\t                elem.y += dy;\n\t            }\n\t            else {\n\t                res.push(new Point(elem.x + dx, elem.y + dy));\n\t            }\n\t        }\n\t        else if (!updateSource){\n\t            res.push(elem);\n\t        }\n\t    });\n\n\t    return updateSource ? arrPath : res;\n\t}\n\t\n\tpublic static scalePath(arrPath: pathArray, scaleX: number, scaleY: number, aroundPoint: Point, updateSource?: boolean): pathArray {\n\t\tupdateSource = updateSource != undefined ? updateSource : true;\n\t    aroundPoint = aroundPoint || new Point(0,0);\n\n\t    let matrix = new Matrix();\n\t    matrix = matrix.scale(scaleX, scaleY, aroundPoint);\n\n\t    let zero =  matrix.transformPoint(new Point(0, 0));\n\t    let res = [];\n\t    arrPath.forEach(obj => {\n\t        if (PathUtils.isPoint(obj))\n\t        {\n\t            let newPoint = matrix.transformPoint(obj);\n\t            if (updateSource) {\n\t                obj.x = newPoint.x - zero.x;\n\t                obj.y = newPoint.y - zero.y;\n\t            }\n\t            else {\n\t                res.push(new Point(newPoint.x - zero.x, newPoint.y - zero.y));\n\t            }\n\t        } else if (!updateSource) {\n\t            res.push(obj);\n\t        }\n\t    });\n\n\t    return updateSource ? arrPath : res;\n\t}\n\t\n\tpublic static rotatePath(arrPath: pathArray, aroundPoint: Point, degAngle: number, updateSource?: boolean): pathArray {\n\t\tupdateSource = updateSource != undefined ? updateSource : true;\n\t    let matrix = new Matrix();\n\t    matrix = matrix.rotate(MathUtils.degreeToRadian(degAngle), aroundPoint);\n\n\t    let res = [];\n\t    arrPath.forEach(obj => {\n\t        if (PathUtils.isPoint(obj)) {\n\t            var newPoint = matrix.transformPoint(obj);\n\t            if (updateSource) {\n\t                obj.x = newPoint.x;\n\t                obj.y = newPoint.y\n\t            }\n\t            else {\n\t                res.push(newPoint);\n\t            }\n\t        } else if (!updateSource) {\n\t            res.push(obj);\n\t        }\n\t    });\n\n\t    return updateSource ? arrPath : res;\n\t}\n\t\n\t/*\n\t* containerParams : {width, height, rotation, top, left}\n\t* */\n\tpublic static convertPathFromLocalToGlobal(arrPath: pathArray, containerParams: containerParams): pathArray {\n\t\t// Move to global coords\n\t    let res = PathUtils.movePath(arrPath, containerParams.left, containerParams.top, false);\n\t    let globalCenter = new Point(containerParams.left + containerParams.width / 2, containerParams.top + containerParams.height / 2);\n\t    // Rotate around global center\n\t    PathUtils.rotatePath(res, globalCenter, containerParams.rotation);\n\n\t    return res;\n\t}\n\t\n\t/*\n\t* containerParams : {width, height, rotation, top, left}\n\t* */\n\tpublic static convertPathFromGlobalToLocal(arrPath: pathArray, containerParams: containerParams): pathArray {\n\t\t// Unrotate around global center\n\t    let globalCenter = new Point(containerParams.left + containerParams.width / 2, containerParams.top + containerParams.height / 2);\n\t    let res = PathUtils.rotatePath(arrPath, globalCenter, -containerParams.rotation, false);\n\n\t    // Move to local coords\n\t    PathUtils.movePath(res, -containerParams.left, -containerParams.top);\n\n\t    return res;\n\t}\n}\n\nexport class PathParser {\n\tprivate arrPath: pathArray;\n\tprivate i: number;\n\tpublic command: string | Point;\n\tpublic previousCommand: string | Point;\n\tpublic start: Point;\n\tpublic control: Point;\n\tpublic current: Point;\n\t\n\tconstructor(arrPath: pathArray) {\n\t\tthis.arrPath = arrPath;\n\t\tthis.i = -1;\n\t\tthis.command = '';\n\t\tthis.previousCommand = '';\n\t\tthis.start = new Point(0, 0);\n\t\tthis.control = new Point(0, 0);\n\t\tthis.current = new Point(0, 0);\n\t}\n\t\n\tpublic isEnd(): boolean {\n\t\treturn this.i >= this.arrPath.length - 1;\n\t}\n\t\n\tpublic isCommandOrEnd(): boolean {\n\t\tif (this.isEnd()) {\n\t\t\treturn true;\n\t\t}\n\t\tlet value = this.arrPath[this.i + 1];\n\t\treturn ((typeof value == 'string' || value instanceof String) && value.match(/^[A-Za-z]$/) != null);\n\t}\n\n\tpublic isRelativeCommand() {\n\t\tswitch(this.command)\n\t\t{\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\tcase 'c':\n\t\t\tcase 's':\n\t\t\tcase 'q':\n\t\t\tcase 't':\n\t\t\tcase 'a':\n\t\t\tcase 'z':\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic getToken(): Point {\n\t\tthis.i++;\n\t\treturn this.arrPath[this.i];\n\t}\n\n\tpublic nextCommand(): void {\n\t\tthis.previousCommand = this.command;\n\t\tthis.command = this.getToken();\n\t}\n\n\tpublic getPoint(): Point {\n\t\tlet p = this.getToken();\n\t\treturn this.makeAbsolute(p);\n\t}\n\n\tpublic getAsControlPoint(): Point {\n\t\tlet p = this.getPoint();\n\t\tthis.control = p;\n\t\treturn p;\n\t}\n\n\tpublic getAsCurrentPoint(): Point {\n\t\tlet p = this.getPoint();\n\t\tthis.current = p;\n\t\treturn p;\n\t}\n\n\tpublic getReflectedControlPoint(): Point {\n\t\tif (this.previousCommand instanceof String &&\n\t\t\tthis.previousCommand.toLowerCase() != 'c' &&\n\t\t\tthis.previousCommand.toLowerCase() != 's' &&\n\t\t\tthis.previousCommand.toLowerCase() != 'q' &&\n\t\t\tthis.previousCommand.toLowerCase() != 't' ){\n\t\t\treturn this.current;\n\t\t}\n\n\t\t// reflect point\n\t\tlet p = new Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);\n\t\treturn p;\n\t}\n\n\tpublic makeAbsolute(p: Point): Point {\n\t\tif (this.isRelativeCommand()) {\n\t\t\tp.x += this.current.x;\n\t\t\tp.y += this.current.y;\n\t\t}\n\t\treturn p;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/PathUtils.ts","export type widthHeightObject = { width: number, height: number };\nexport class ResizeUtils {\n\tpublic static getScaleToFill(objSize: widthHeightObject, sizeToFill: widthHeightObject): number {\n\t\tvar scale = (sizeToFill.height / sizeToFill.width) > (objSize.height / objSize.width) ? (sizeToFill.height / objSize.height) : (sizeToFill.width / objSize.width);\n\t    return scale;\n\t}\n\t\n\tpublic static getScaleToFit(objSize: widthHeightObject, sizeToFit: widthHeightObject): number {\n\t\treturn Math.min(sizeToFit.width / objSize.width, sizeToFit.height / objSize.height);\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/util/ResizeUtils.ts","import {Geometry} from './Geometry';\nimport {Matrix} from './Matrix';\nimport {MatrixUtils} from './MatrixUtils';\nimport {Point} from './Point';\n\nexport type originalState = { width: number, height: number, rotation: number, top: number, left: number };\nexport class TransformUtils {\n    public static calculateMovement(originalState: originalState, delta: { x: number, y: number }) {\n        if (!delta) {\n            return null;\n        }\n\n        let deltaX = delta.x || 0;\n        let deltaY = delta.y || 0;\n\n        let res = null;\n        if (originalState.hasOwnProperty('left') && originalState.hasOwnProperty('top')) {\n            res = {'geometry' : new Geometry({left : originalState.left + deltaX, top : originalState.top + deltaY})};\n        }\n        else if (originalState.hasOwnProperty('left')) {\n            res = {'left' : originalState.left + deltaX}\n        }\n        else if (originalState.hasOwnProperty('top')) {\n            res = {'top' : originalState.top + deltaY}\n        }\n\n        return res;\n    }\n    \n    public static calculateResizeAroundAnchorPoint(originalState: originalState, sizeDelta: { width: number, height: number }, anchorPos: Point, proportionalResizer): { geometry: Geometry } {\n        let dWidth = sizeDelta.width || 0;\n        let dHeight = sizeDelta.height || 0;\n\n        anchorPos = anchorPos || TransformUtils.getDefaultAnchorPos();\n\n        if (!originalState.hasOwnProperty('width') || !originalState.hasOwnProperty('height')\n            || !originalState.hasOwnProperty('top') || !originalState.hasOwnProperty('left')\n            || (!dWidth && !dHeight)) {\n            return null;\n        }\n\n        let geometry = new Geometry({width : originalState.width + dWidth, height : originalState.height + dHeight});\n\n        if (proportionalResizer) {\n            proportionalResizer.applyConstraint(originalState, null, geometry, anchorPos);\n        }\n\n        let pos = this.getPosAfterResizeAroundAnchorPoint(originalState, geometry, anchorPos);\n        if (pos) {\n            geometry.update(pos);\n        }\n\n        return {geometry : geometry};\n    }\n    \n    public static calculateRotate(originalState: originalState, deltaAngle: number): { rotation: number } {\n        if (!deltaAngle) {\n            return null;\n        }\n\n        let res = null;\n        if (originalState.hasOwnProperty('rotation')) {\n            res = {'rotation' : originalState.rotation + deltaAngle};\n        }\n\n        return res;\n    }\n    \n    public static getPosAfterResizeAroundAnchorPoint(originalState: originalState, sizeAfterTransform: { width: number, height: number }, anchorPos: Point): { left: number, top: number } {\n        if (!originalState.hasOwnProperty('width') || !originalState.hasOwnProperty('height')) {\n            return null;\n        }\n\n        let dWidth = sizeAfterTransform.hasOwnProperty('width') ? sizeAfterTransform.width - originalState.width : 0;\n        let dHeight = sizeAfterTransform.hasOwnProperty('height') ? sizeAfterTransform.height - originalState.height : 0;\n        anchorPos = anchorPos || TransformUtils.getDefaultAnchorPos();\n\n        if (!dWidth && !dHeight) {\n            return null;\n        }\n\n        let posOffset = new Point(dWidth * anchorPos.x, dHeight * anchorPos.y);\n        if (originalState.hasOwnProperty('rotation') && originalState.rotation) {\n\n            let originalCenterPoint = new Point(originalState.width / 2, originalState.height / 2);\n    \t\tlet newCenterPoint = new Point(posOffset.x + (originalState.width + dWidth) / 2,\n                                           posOffset.y + (originalState.height + dHeight) / 2);\n\n            let rotMatrix = new Matrix();\n            // Rotates object around original center point\n            rotMatrix = MatrixUtils.rotate(rotMatrix, originalState.rotation, originalCenterPoint);\n\n            // New left top point position after rotation\n            let rotPosOffset = rotMatrix.transformPoint(posOffset);\n            // New center point after rotation\n            let rotNewCenterPoint = rotMatrix.transformPoint(newCenterPoint);\n\n            let unrotMatrix = new Matrix();\n            // Unrotates object around new center\n            unrotMatrix = MatrixUtils.rotate(unrotMatrix, -originalState.rotation, rotNewCenterPoint);\n            posOffset = unrotMatrix.transformPoint(rotPosOffset);\n        }\n\n        let pos = {left : originalState.left + posOffset.x, top : originalState.top + posOffset.y};\n\n        return pos;\n    }\n    \n    public static getDefaultAnchorPos(): Point {\n        return new Point(-0.5, -0.5);\n    }\n    \n    public static applyConstraints(originalState: originalState, currentState, stateAfterTransform, anchorPos: Point, constraints): void {\n        if (constraints) {\n            constraints.forEach ( function (constraint) {\n                    constraint.applyConstraint(originalState, currentState, stateAfterTransform, anchorPos);\n                }\n            )\n        }\n    }\n    \n    public static applyTransform(obj, stateAfterTransform): void {\n        if (!stateAfterTransform) {\n            return;\n        }\n\n        for (var prop in stateAfterTransform) {\n            if (stateAfterTransform.hasOwnProperty(prop) && obj.hasOwnProperty(prop)) {\n                obj[prop] = stateAfterTransform[prop];\n            }\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/TransformUtils.ts","/**\n * Created by dsmiley on 7/11/17.\n */\nexport class URLUtils{\n    constructor(){\n\n    }\n\n    public static getQuerystring(location:string, key:string, defaultValue:any):any{\n        key = key.toLowerCase();\n        if ( defaultValue===null || defaultValue===undefined){\n            defaultValue='';\n        }\n        key = key.replace(/[\\[]/,'\\\\\\[').replace(/[\\]]/,'\\\\\\]');\n        let regex = new RegExp('[\\\\?&]'+key+'=([^&#]*)');\n        let qs = regex.exec(location.toLowerCase());//usually window.location.href.toLowerCase()\n        if(qs == null){\n            return defaultValue;\n        }else{\n            return qs[1];\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/URLUtils.ts","/**\n * Created by dsmiley on 7/11/17.\n */\nexport class XmlUtils{\n    constructor(){\n\n    }\n\n    public static createXMLDocument(sMyString:string):Document{\n        let oParser = new DOMParser();\n        return oParser.parseFromString(sMyString, \"text/xml\");\n    }\n\n    public static getXmlStringFromElement(element:HTMLElement):string{\n        let xmlString = (new XMLSerializer()).serializeToString(element);\n        return xmlString;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/XmlUtils.ts","/**\n * Created by dsmiley on 4/21/17.\n */\n\nexport * from './model/observable/IObserver';\nexport * from './model/observable/IBindable';\nexport * from './model/observable/ChangeWatcher';\nexport * from './model/observable/Binder';\nexport * from './model/observable/Subject';\nexport * from './model/list/IList';\nexport * from './model/list/ArrayList';\nexport * from './model/recordset/RecordSet';\nexport * from './model/recordset/RecordSetList';\nexport * from './model/recordset/RecordSetModel';\nexport * from './model/AsyncOperationModel';\nexport * from './model/Config';\nexport * from './model/ErrorModel';\nexport * from './util/BindingUtils';\nexport * from './util/ObjectUtils';\nexport * from './util/BrowserUtils';\nexport * from './util/ColorUtils';\nexport * from './util/CoordsUtils';\nexport * from './util/CopyUtils';\nexport * from './util/Geometry';\nexport * from './util/MathUtils';\nexport * from './util/Point';\nexport * from './util/Matrix';\nexport * from './util/MatrixUtils';\nexport * from './util/PathUtils';\nexport * from './util/ResizeUtils';\nexport * from './util/StringUtil';\nexport * from './util/TransformUtils';\nexport * from './util/URLUtils';\nexport * from './util/UuidUtils';\nexport * from './util/XmlUtils';\nexport * from './serialization/IParser';\nexport * from './serialization/IExporter';\nexport * from './control/IEventDispatcher';\nexport * from './control/EventDispatcher';\nexport * from './events/IEvent';\nexport * from './events/AbstractEvent';\nexport * from './events/CollectionEvent';\nexport * from './events/RecordSetEvent';\nexport * from './control/responder/IFault';\nexport * from './control/responder/IResult';\nexport * from './control/responder/IResponder';\nexport * from './control/service/IHttpService';\nexport * from './control/service/HttpSuccess';\nexport * from './control/service/HttpFault';\nexport * from './control/service/AbstractHttpService';\nexport * from './control/service/XhrHttpService';\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}